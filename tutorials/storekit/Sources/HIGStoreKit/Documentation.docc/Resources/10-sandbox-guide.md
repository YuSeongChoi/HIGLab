# Sandbox 테스트 가이드

## Sandbox 테스터 계정 생성

### App Store Connect에서 설정
1. **사용자 및 액세스** → **Sandbox** → **테스터**
2. **+** 버튼으로 새 테스터 추가
3. 실제 사용하지 않는 이메일 사용 (Apple ID로 등록 불가한 주소)

### 기기에서 로그인
1. **설정** → **App Store** → **Sandbox 계정**
2. 테스터 계정으로 로그인
3. 기존 Apple ID는 로그아웃하지 않아도 됨

---

## Sandbox 구독 갱신 주기

| 실제 기간 | Sandbox 기간 |
|----------|-------------|
| 1주일    | 3분         |
| 1개월    | 5분         |
| 2개월    | 10분        |
| 3개월    | 15분        |
| 6개월    | 30분        |
| 1년      | 1시간       |

**최대 갱신 횟수:** 자동 갱신은 최대 6번까지 발생

---

## 테스트 시나리오

### 1. 신규 구매
- 새 테스터 계정으로 첫 구매 테스트
- 결제 시트 표시 확인

### 2. 구독 갱신
- 구매 후 갱신 주기만큼 대기
- Transaction.updates로 갱신 이벤트 수신 확인

### 3. 구독 취소
- 설정 앱 → Apple ID → 구독에서 취소
- 만료 후 권한 해제 확인

### 4. 결제 실패
- App Store Connect → 테스터 설정에서 "Interrupted Purchases" 활성화
- 결제 재시도 플로우 테스트

### 5. 환불
- App Store Connect에서 트랜잭션 환불 처리
- revocationDate 확인

---

## 주의사항

⚠️ **Sandbox 제한사항**
- 프로모션 코드 테스트 불가
- 일부 국가별 결제 방식 제한
- 실제 결제는 이루어지지 않음

✅ **베스트 프랙티스**
- 여러 테스터 계정 준비 (시나리오별)
- 테스트 후 구독 취소하여 다음 테스트 준비
- Xcode Console로 트랜잭션 로그 확인
