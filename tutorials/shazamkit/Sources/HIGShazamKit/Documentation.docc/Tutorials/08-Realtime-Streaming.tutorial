@Tutorial(time: 22) {
    @Intro(title: "ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ ë§¤ì¹­") {
        ì˜¤ë””ì˜¤ ìŠ¤íŠ¸ë¦¼ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¶„ì„í•˜ê³  ë§¤ì¹­í•©ë‹ˆë‹¤.
        AVAudioEngineê³¼ ShazamKitì˜ í†µí•©ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
    }
    
    @Section(title: "ì‹¤ì‹œê°„ ë§¤ì¹­ì´ í•„ìš”í•œ ê²½ìš°") {
        @ContentAndMedia {
            ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ ë§¤ì¹­ì€ ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì— ìœ ìš©í•©ë‹ˆë‹¤:
            
            - ë¼ë””ì˜¤/TV ì‹œì²­ ì¤‘ ê³„ì† ê³¡ ì‹ë³„
            - ìŒì•… ì•±ì˜ "ì§€ê¸ˆ ì¬ìƒ ì¤‘" ìœ„ì ¯
            - DJ ì„¸íŠ¸ì—ì„œ ê³¡ ì „í™˜ ê°ì§€
            - ë™ê¸°í™” ê²½í—˜ (ë‹¤ìŒ ì±•í„°ì—ì„œ ìƒì„¸íˆ)
        }
        
        @Steps {
            @Step {
                **ë‹¨ì¼ ë§¤ì¹­ vs ì—°ì† ë§¤ì¹­**
                
                ë‹¨ì¼ ë§¤ì¹­: í•œ ë²ˆ ì¸ì‹í•˜ê³  ì¢…ë£Œ
                ì—°ì† ë§¤ì¹­: ê³„ì†í•´ì„œ ìŠ¤íŠ¸ë¦¼ì„ ëª¨ë‹ˆí„°ë§
                
                @Code(name: "MatchingModes.swift", file: "08-matching-modes.swift")
            }
            
            @Step {
                **AVAudioEngineì˜ ì—­í• **
                
                ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤ ì²˜ë¦¬ì˜ í•µì‹¬ì…ë‹ˆë‹¤.
                ë§ˆì´í¬ ì…ë ¥ì„ ìº¡ì²˜í•˜ê³  ë²„í¼ë¥¼ ShazamKitì— ì „ë‹¬í•©ë‹ˆë‹¤.
                
                @Code(name: "AudioEngineRole.swift", file: "08-engine-role.swift")
            }
        }
    }
    
    @Section(title: "AVAudioEngine ì„¤ì •") {
        @ContentAndMedia {
            ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤ ìº¡ì²˜ë¥¼ ìœ„í•œ AVAudioEngineì„ ì„¤ì •í•©ë‹ˆë‹¤.
            ì˜¤ë””ì˜¤ ì„¸ì…˜ê³¼ ì…ë ¥ ë…¸ë“œë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.
        }
        
        @Steps {
            @Step {
                **AVAudioSession ì„¤ì •**
                
                ë¨¼ì € ì˜¤ë””ì˜¤ ì„¸ì…˜ì„ ì ì ˆíˆ ì„¤ì •í•©ë‹ˆë‹¤.
                ë…¹ìŒ ì¹´í…Œê³ ë¦¬ì™€ ëª¨ë“œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
                
                @Code(name: "AudioSessionSetup.swift", file: "08-session-setup.swift")
            }
            
            @Step {
                **AVAudioEngine ì´ˆê¸°í™”**
                
                AVAudioEngineì„ ìƒì„±í•˜ê³  ì…ë ¥ ë…¸ë“œë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
                ì…ë ¥ í¬ë§·ì„ ShazamKit í˜¸í™˜ í¬ë§·ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
                
                @Code(name: "EngineInit.swift", file: "08-engine-init.swift")
            }
            
            @Step {
                **ì…ë ¥ ë…¸ë“œ íƒ­ ì„¤ì¹˜**
                
                installTap(onBus:bufferSize:format:block:)ìœ¼ë¡œ 
                ì˜¤ë””ì˜¤ ë²„í¼ë¥¼ ìº¡ì²˜í•©ë‹ˆë‹¤.
                
                @Code(name: "InstallInputTap.swift", file: "08-install-tap.swift")
            }
        }
    }
    
    @Section(title: "SHSession ì—°ë™") {
        @ContentAndMedia {
            AVAudioEngineì—ì„œ ìº¡ì²˜í•œ ë²„í¼ë¥¼ 
            SHSessionì— ì „ë‹¬í•´ ë§¤ì¹­í•©ë‹ˆë‹¤.
        }
        
        @Steps {
            @Step {
                **SHSignatureGenerator ì—°ê²°**
                
                ìº¡ì²˜ëœ ë²„í¼ë¡œ ì‹¤ì‹œê°„ ì‹œê·¸ë‹ˆì²˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
                SHSignatureGenerator.append(_:at:)ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
                
                @Code(name: "GeneratorConnection.swift", file: "08-generator-connection.swift")
            }
            
            @Step {
                **SHSession.matchStreamingBuffer**
                
                ë²„í¼ë¥¼ ì§ì ‘ SHSessionì— ì „ë‹¬í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
                matchStreamingBuffer(_:at:)ë¡œ ì‹¤ì‹œê°„ ë§¤ì¹­í•©ë‹ˆë‹¤.
                
                @Code(name: "StreamingBuffer.swift", file: "08-streaming-buffer.swift")
            }
            
            @Step {
                **ë¸ë¦¬ê²Œì´íŠ¸ë¡œ ê²°ê³¼ ì²˜ë¦¬**
                
                SHSessionDelegateë¡œ ë§¤ì¹­ ê²°ê³¼ë¥¼ ë¹„ë™ê¸°ë¡œ ë°›ìŠµë‹ˆë‹¤.
                UI ì—…ë°ì´íŠ¸ëŠ” MainActorì—ì„œ ìˆ˜í–‰í•©ë‹ˆë‹¤.
                
                @Code(name: "DelegateResults.swift", file: "08-delegate-results.swift")
            }
        }
    }
    
    @Section(title: "RealtimeAudioMatcher êµ¬í˜„") {
        @ContentAndMedia {
            ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ë‚´ìš©ì„ í†µí•©í•´ 
            ì™„ì „í•œ ì‹¤ì‹œê°„ ë§¤ì¹­ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.
        }
        
        @Steps {
            @Step {
                **ê¸°ë³¸ êµ¬ì¡°**
                
                RealtimeAudioMatcher í´ë˜ìŠ¤ì˜ ê¸°ë³¸ êµ¬ì¡°ì…ë‹ˆë‹¤.
                AVAudioEngine, SHSession, ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
                
                @Code(name: "RealtimeMatcherBase.swift", file: "08-matcher-base.swift")
            }
            
            @Step {
                **start/stop ë©”ì„œë“œ**
                
                ë§¤ì¹­ ì‹œì‘ê³¼ ì¤‘ì§€ë¥¼ ì œì–´í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤.
                ë¦¬ì†ŒìŠ¤ ì •ë¦¬ë¥¼ ì‹ ê²½ ì”ë‹ˆë‹¤.
                
                @Code(name: "StartStopMethods.swift", file: "08-start-stop.swift")
            }
            
            @Step {
                **ì½œë°±ê³¼ ìƒíƒœ ê´€ë¦¬**
                
                ë§¤ì¹­ ê²°ê³¼ë¥¼ ì™¸ë¶€ì— ì•Œë¦¬ëŠ” ì½œë°±ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
                í˜„ì¬ ìƒíƒœ(ë…¹ìŒ ì¤‘, ë§¤ì¹­ ì¤‘ ë“±)ë¥¼ ì¶”ì í•©ë‹ˆë‹¤.
                
                @Code(name: "CallbackState.swift", file: "08-callback-state.swift")
            }
            
            @Step {
                **ì „ì²´ êµ¬í˜„ ì™„ì„±**
                
                ëª¨ë“  ê¸°ëŠ¥ì„ í†µí•©í•œ ì™„ì „í•œ RealtimeAudioMatcherì…ë‹ˆë‹¤.
                ì—ëŸ¬ ì²˜ë¦¬ì™€ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ê°€ í¬í•¨ë©ë‹ˆë‹¤.
                
                @Code(name: "RealtimeMatcherFull.swift", file: "08-matcher-full.swift")
            }
        }
    }
    
    @Assessments {
        @MultipleChoice {
            AVAudioEngineì—ì„œ ì˜¤ë””ì˜¤ ë²„í¼ë¥¼ ìº¡ì²˜í•˜ëŠ” ë©”ì„œë“œëŠ”?
            
            @Choice(isCorrect: true) {
                installTap(onBus:bufferSize:format:block:)
                
                @Justification(reaction: "ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰") {
                    inputNode.installTap()ìœ¼ë¡œ ì˜¤ë””ì˜¤ ë²„í¼ë¥¼ 
                    ì‹¤ì‹œê°„ìœ¼ë¡œ ìº¡ì²˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                }
            }
            
            @Choice(isCorrect: false) {
                addListener(callback:)
                
                @Justification(reaction: "ì•„ì‰½ë„¤ìš” ğŸ˜…") {
                    installTap(onBus:bufferSize:format:block:)ì´ 
                    ì •í™•í•œ ë©”ì„œë“œì…ë‹ˆë‹¤.
                }
            }
            
            @Choice(isCorrect: false) {
                captureBuffer(handler:)
                
                @Justification(reaction: "ì•„ì‰½ë„¤ìš” ğŸ˜…") {
                    installTapì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
                }
            }
        }
        
        @MultipleChoice {
            SHSessionì—ì„œ ìŠ¤íŠ¸ë¦¬ë° ë²„í¼ë¥¼ ì§ì ‘ ë§¤ì¹­í•˜ëŠ” ë©”ì„œë“œëŠ”?
            
            @Choice(isCorrect: true) {
                matchStreamingBuffer(_:at:)
                
                @Justification(reaction: "ì •í™•í•©ë‹ˆë‹¤! ğŸ‰") {
                    matchStreamingBuffer(_:at:)ë¡œ AVAudioPCMBufferë¥¼ 
                    ì§ì ‘ SHSessionì— ì „ë‹¬í•´ ë§¤ì¹­í•©ë‹ˆë‹¤.
                }
            }
            
            @Choice(isCorrect: false) {
                match(buffer:)
                
                @Justification(reaction: "ì•„ì‰½ë„¤ìš” ğŸ˜…") {
                    matchStreamingBuffer(_:at:)ê°€ ì •í™•í•œ ë©”ì„œë“œì…ë‹ˆë‹¤.
                }
            }
            
            @Choice(isCorrect: false) {
                processAudio(_:)
                
                @Justification(reaction: "ì•„ì‰½ë„¤ìš” ğŸ˜…") {
                    matchStreamingBuffer(_:at:)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
                }
            }
        }
        
        @MultipleChoice {
            ì‹¤ì‹œê°„ ë§¤ì¹­ì—ì„œ UI ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•´ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²ƒì€?
            
            @Choice(isCorrect: true) {
                @MainActor ë˜ëŠ” DispatchQueue.main
                
                @Justification(reaction: "ì •ë‹µ! ğŸ‰") {
                    ë¸ë¦¬ê²Œì´íŠ¸ ì½œë°±ì€ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ í˜¸ì¶œë˜ë¯€ë¡œ,
                    UI ì—…ë°ì´íŠ¸ëŠ” ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.
                }
            }
            
            @Choice(isCorrect: false) {
                Task.detached
                
                @Justification(reaction: "ì•„ì‰½ë„¤ìš” ğŸ˜…") {
                    UI ì—…ë°ì´íŠ¸ëŠ” ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ í•´ì•¼ í•©ë‹ˆë‹¤.
                    @MainActorë‚˜ DispatchQueue.mainì„ ì‚¬ìš©í•˜ì„¸ìš”.
                }
            }
            
            @Choice(isCorrect: false) {
                ë³„ë„ ì²˜ë¦¬ ì—†ì´ ë°”ë¡œ ì—…ë°ì´íŠ¸
                
                @Justification(reaction: "ì•„ì‰½ë„¤ìš” ğŸ˜…") {
                    ë¸ë¦¬ê²Œì´íŠ¸ëŠ” ë°±ê·¸ë¼ìš´ë“œì—ì„œ í˜¸ì¶œë˜ë¯€ë¡œ
                    ë©”ì¸ ìŠ¤ë ˆë“œ ì „í™˜ì´ í•„ìš”í•©ë‹ˆë‹¤.
                }
            }
        }
    }
}
