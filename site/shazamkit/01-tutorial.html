<!DOCTYPE html>
<html lang="ko"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ğŸ¤ ShazamKit â€” HIG Lab</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&family=JetBrains+Mono&display=swap" rel="stylesheet">
<style>
:root{--bg:#fafafa;--text:#1d1d1f;--text-2:#6e6e73;--accent:#0071e3;--code-bg:#1e1e2e;--border:#d2d2d7}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Noto Sans KR',sans-serif;background:var(--bg);color:var(--text);line-height:1.8}
.top-bar{position:sticky;top:0;z-index:100;background:rgba(250,250,250,0.9);backdrop-filter:blur(20px);border-bottom:1px solid var(--border)}
.top-bar-inner{max-width:800px;margin:0 auto;padding:12px 24px;display:flex;justify-content:space-between}
.top-logo{font-size:16px;font-weight:700;text-decoration:none;color:var(--text)}.top-logo span{color:var(--accent)}
article{max-width:800px;margin:0 auto;padding:48px 24px 120px}
h1{font-size:clamp(28px,5vw,40px);font-weight:900;margin-bottom:16px;letter-spacing:-1px}
h2{font-size:24px;font-weight:800;margin:48px 0 16px}p{margin-bottom:16px}
.subtitle{font-size:18px;color:var(--text-2);margin-bottom:32px}
.code-block{background:var(--code-bg);border-radius:12px;margin:20px 0;overflow:hidden}
.code-header{padding:12px 16px;border-bottom:1px solid rgba(255,255,255,0.1);font-size:12px;color:#6e6e73;font-weight:600}
pre.code-body{margin:0;padding:16px;font-family:'JetBrains Mono',monospace;font-size:13px;color:#cdd6f4;white-space:pre;overflow-x:auto}
.kw{color:#cba6f7}.type{color:#89b4fa}.str{color:#a6e3a1}.comment{color:#6c7086}
.badge{display:inline-block;padding:4px 12px;border-radius:16px;font-size:13px;font-weight:600;margin:0 4px 8px 0}
.badge.ios{background:#0071e3;color:#fff}.badge.new{background:#34c759;color:#fff}
ul{margin:16px 0 16px 24px}li{margin:8px 0}
.info-box{background:#f5f5f7;border-left:4px solid var(--accent);padding:16px;margin:24px 0;border-radius:8px}
</style></head>
<body>
<div class="top-bar"><div class="top-bar-inner"><a href="../index.html" class="top-logo">HIG <span>Lab</span></a><a href="../en/shazamkit/01-tutorial.html" class="lang-toggle" style="font-size:12px;font-weight:600;color:#0071e3;text-decoration:none;padding:4px 10px;border:1.5px solid #0071e3;border-radius:12px;">ğŸ‡ºğŸ‡¸ EN</a></div></div>
<article>
<h1>ğŸ¤ ShazamKit</h1>
<!-- higlab-metadata -->
<div style="display:flex;gap:16px;align-items:center;margin:12px 0 24px;padding:12px 16px;background:var(--tag-bg,#f5f5f7);border-radius:10px;font-size:13px;color:var(--text-2,#6e6e73);flex-wrap:wrap;">
  <span>â­ ë‚œì´ë„: â­â­</span>
  <span>â±ï¸ ì˜ˆìƒ ì‹œê°„: 1-2h</span>
  <span>ğŸ“‚ Graphics & Media</span>
</div>
<p class="subtitle">ì˜¤ë””ì˜¤ ì¸ì‹ ë° ìŒì•… ë§¤ì¹­ í”„ë ˆì„ì›Œí¬</p>

<div><span class="badge ios">iOS 15+</span><span class="badge new">ì˜¤ë””ì˜¤ ì¸ì‹</span></div>

<h2>âœ¨ ShazamKitì´ë€?</h2>
<p>ShazamKitì€ Shazamì˜ ì˜¤ë””ì˜¤ ì¸ì‹ ê¸°ìˆ ì„ ì•±ì— í†µí•©í•  ìˆ˜ ìˆëŠ” í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤. ì¬ìƒ ì¤‘ì¸ ìŒì•…ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¸ì‹í•˜ê³ , ì»¤ìŠ¤í…€ ì˜¤ë””ì˜¤ ì¹´íƒˆë¡œê·¸ë¥¼ ë§Œë“¤ì–´ ì•± ë‚´ ì˜¤ë””ì˜¤ ì½˜í…ì¸ ë¥¼ ë§¤ì¹­í•˜ë©°, Shazamì˜ ë°©ëŒ€í•œ ìŒì•… ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìŒì•… ì•±, ê²Œì„, êµìœ¡ ì•± ë“±ì—ì„œ ì˜¤ë””ì˜¤ ê¸°ë°˜ ê²½í—˜ì„ ì œê³µí•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.</p>

<div class="info-box">
<strong>ğŸ’¡ í•µì‹¬ ê¸°ëŠ¥:</strong> ìŒì•… ì¸ì‹ Â· ì»¤ìŠ¤í…€ ì¹´íƒˆë¡œê·¸ Â· ì‹¤ì‹œê°„ ë§¤ì¹­ Â· Shazam ë¼ì´ë¸ŒëŸ¬ë¦¬ ì ‘ê·¼ Â· ì˜¤ë””ì˜¤ ì‹œê·¸ë‹ˆì²˜ ìƒì„± Â· ì˜¤í”„ë¼ì¸ ì¸ì‹
</div>

<h2>ğŸµ 1. ê¸°ë³¸ ìŒì•… ì¸ì‹</h2>
<p>SHSessionì„ ì‚¬ìš©í•˜ì—¬ Shazam ì¹´íƒˆë¡œê·¸ì—ì„œ ìŒì•…ì„ ì¸ì‹í•©ë‹ˆë‹¤.</p>

<div class="code-block">
<div class="code-header">ShazamManager.swift â€” ê¸°ë³¸ ìŒì•… ì¸ì‹</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">ShazamKit</span>
<span class="kw">import</span> <span class="type">AVFoundation</span>
<span class="kw">import</span> <span class="type">SwiftUI</span>

<span class="kw">@Observable</span>
<span class="kw">class</span> <span class="type">ShazamManager</span>: <span class="type">NSObject</span>, <span class="type">SHSessionDelegate</span> {
    <span class="kw">private</span> <span class="kw">var</span> session: <span class="type">SHSession</span>?
    <span class="kw">private</span> <span class="kw">var</span> audioEngine: <span class="type">AVAudioEngine</span>?

    <span class="kw">var</span> matchedMedia: <span class="type">SHMatchedMediaItem</span>?
    <span class="kw">var</span> isListening = <span class="kw">false</span>
    <span class="kw">var</span> errorMessage: <span class="type">String</span>?

    <span class="kw">override</span> <span class="kw">init</span>() {
        <span class="kw">super</span>.init()
        setupSession()
    }

    <span class="comment">// ì„¸ì…˜ ì„¤ì •</span>
    <span class="kw">private</span> <span class="kw">func</span> setupSession() {
        <span class="comment">// Shazam ì¹´íƒˆë¡œê·¸ ì„¸ì…˜ ìƒì„±</span>
        session = <span class="type">SHSession</span>()
        session?.delegate = <span class="kw">self</span>
        print(<span class="str">"âœ… Shazam ì„¸ì…˜ ìƒì„±ë¨"</span>)
    }

    <span class="comment">// ìŒì•… ì¸ì‹ ì‹œì‘</span>
    <span class="kw">func</span> startListening() {
        <span class="kw">guard</span> !isListening <span class="kw">else</span> { <span class="kw">return</span> }

        <span class="kw">do</span> {
            <span class="comment">// ì˜¤ë””ì˜¤ ì„¸ì…˜ ì„¤ì •</span>
            <span class="kw">let</span> audioSession = <span class="type">AVAudioSession</span>.sharedInstance()
            <span class="kw">try</span> audioSession.setCategory(.record)
            <span class="kw">try</span> audioSession.setActive(<span class="kw">true</span>)

            <span class="comment">// ì˜¤ë””ì˜¤ ì—”ì§„ ì„¤ì •</span>
            audioEngine = <span class="type">AVAudioEngine</span>()
            <span class="kw">guard</span> <span class="kw">let</span> audioEngine = audioEngine <span class="kw">else</span> { <span class="kw">return</span> }

            <span class="kw">let</span> inputNode = audioEngine.inputNode
            <span class="kw">let</span> bus = <span class="str">0</span>
            <span class="kw">let</span> bufferSize: <span class="type">AVAudioFrameCount</span> = <span class="str">2048</span>

            <span class="comment">// ì˜¤ë””ì˜¤ íƒ­ ì„¤ì¹˜</span>
            inputNode.installTap(onBus: bus, bufferSize: bufferSize, format: inputNode.outputFormat(forBus: bus)) { [<span class="kw">weak self</span>] buffer, time <span class="kw">in</span>
                <span class="kw">self</span>?.session?.matchStreamingBuffer(buffer, at: time)
            }

            <span class="comment">// ì˜¤ë””ì˜¤ ì—”ì§„ ì‹œì‘</span>
            <span class="kw">try</span> audioEngine.start()

            isListening = <span class="kw">true</span>
            errorMessage = <span class="kw">nil</span>
            print(<span class="str">"ğŸ¤ ìŒì•… ì¸ì‹ ì‹œì‘"</span>)
        } <span class="kw">catch</span> {
            errorMessage = <span class="str">"ì˜¤ë””ì˜¤ ì—”ì§„ ì‹œì‘ ì‹¤íŒ¨: \(error.localizedDescription)"</span>
            print(<span class="str">"âŒ \(errorMessage ?? "")"</span>)
        }
    }

    <span class="comment">// ìŒì•… ì¸ì‹ ì¤‘ì§€</span>
    <span class="kw">func</span> stopListening() {
        <span class="kw">guard</span> isListening <span class="kw">else</span> { <span class="kw">return</span> }

        audioEngine?.stop()
        audioEngine?.inputNode.removeTap(onBus: <span class="str">0</span>)
        audioEngine = <span class="kw">nil</span>

        isListening = <span class="kw">false</span>
        print(<span class="str">"â¹ï¸ ìŒì•… ì¸ì‹ ì¤‘ì§€"</span>)
    }

    <span class="comment">// MARK: - SHSessionDelegate</span>

    <span class="kw">func</span> session(<span class="kw">_</span> session: <span class="type">SHSession</span>, didFind match: <span class="type">SHMatch</span>) {
        <span class="kw">guard</span> <span class="kw">let</span> mediaItem = match.mediaItems.first <span class="kw">else</span> { <span class="kw">return</span> }

        <span class="type">Task</span> { <span class="kw">@MainActor</span> <span class="kw">in</span>
            matchedMedia = mediaItem
            print(<span class="str">"ğŸµ ë°œê²¬: \(mediaItem.title ?? "Unknown") - \(mediaItem.artist ?? "Unknown")"</span>)
        }
    }

    <span class="kw">func</span> session(<span class="kw">_</span> session: <span class="type">SHSession</span>, didNotFindMatchFor signature: <span class="type">SHSignature</span>, error: <span class="type">Error</span>?) {
        <span class="type">Task</span> { <span class="kw">@MainActor</span> <span class="kw">in</span>
            errorMessage = <span class="str">"ìŒì•…ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"</span>
            print(<span class="str">"âŒ ë§¤ì¹­ ì‹¤íŒ¨"</span>)
        }
    }
}</pre>
</div>

<h2>ğŸ“¦ 2. ì˜¤ë””ì˜¤ íŒŒì¼ ì¸ì‹</h2>
<p>ì €ì¥ëœ ì˜¤ë””ì˜¤ íŒŒì¼ì—ì„œ ìŒì•…ì„ ì¸ì‹í•©ë‹ˆë‹¤.</p>

<div class="code-block">
<div class="code-header">AudioFileRecognition.swift â€” íŒŒì¼ ì¸ì‹</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">ShazamKit</span>
<span class="kw">import</span> <span class="type">AVFoundation</span>

<span class="kw">extension</span> <span class="type">ShazamManager</span> {
    <span class="comment">// ì˜¤ë””ì˜¤ íŒŒì¼ì—ì„œ ì‹œê·¸ë‹ˆì²˜ ìƒì„±</span>
    <span class="kw">func</span> generateSignature(from url: <span class="type">URL</span>) <span class="kw">async</span> <span class="kw">throws</span> -> <span class="type">SHSignature</span> {
        <span class="comment">// ì˜¤ë””ì˜¤ íŒŒì¼ ì½ê¸°</span>
        <span class="kw">let</span> file = <span class="kw">try</span> <span class="type">AVAudioFile</span>(forReading: url)

        <span class="comment">// ì‹œê·¸ë‹ˆì²˜ ìƒì„±ê¸°</span>
        <span class="kw">let</span> generator = <span class="type">SHSignatureGenerator</span>()

        <span class="comment">// ë²„í¼ ì½ê¸° ë° ì‹œê·¸ë‹ˆì²˜ ìƒì„±</span>
        <span class="kw">let</span> bufferSize: <span class="type">AVAudioFrameCount</span> = <span class="str">2048</span>
        <span class="kw">guard</span> <span class="kw">let</span> buffer = <span class="type">AVAudioPCMBuffer</span>(
            pcmFormat: file.processingFormat,
            frameCapacity: bufferSize
        ) <span class="kw">else</span> {
            <span class="kw">throw</span> <span class="type">NSError</span>(domain: <span class="str">"AudioError"</span>, code: -<span class="str">1</span>)
        }

        <span class="kw">while</span> file.framePosition < file.length {
            <span class="kw">try</span> file.read(into: buffer)
            <span class="kw">try</span> generator.append(buffer, at: <span class="kw">nil</span>)
        }

        <span class="comment">// ì‹œê·¸ë‹ˆì²˜ ë°˜í™˜</span>
        <span class="kw">return</span> generator.signature()
    }

    <span class="comment">// íŒŒì¼ì—ì„œ ìŒì•… ì¸ì‹</span>
    <span class="kw">func</span> recognizeAudioFile(at url: <span class="type">URL</span>) <span class="kw">async</span> {
        <span class="kw">do</span> {
            <span class="comment">// ì‹œê·¸ë‹ˆì²˜ ìƒì„±</span>
            <span class="kw">let</span> signature = <span class="kw">try</span> <span class="kw">await</span> generateSignature(from: url)

            <span class="comment">// Shazam ì¹´íƒˆë¡œê·¸ì—ì„œ ë§¤ì¹­</span>
            <span class="kw">let</span> match = <span class="kw">try</span> <span class="kw">await</span> session?.match(signature)

            <span class="kw">if</span> <span class="kw">let</span> mediaItem = match?.mediaItems.first {
                matchedMedia = mediaItem
                print(<span class="str">"ğŸµ íŒŒì¼ ì¸ì‹ ì„±ê³µ: \(mediaItem.title ?? "Unknown")"</span>)
            }
        } <span class="kw">catch</span> {
            errorMessage = <span class="str">"íŒŒì¼ ì¸ì‹ ì‹¤íŒ¨: \(error.localizedDescription)"</span>
            print(<span class="str">"âŒ \(errorMessage ?? "")"</span>)
        }
    }
}</pre>
</div>

<h2>ğŸ—‚ï¸ 3. ì»¤ìŠ¤í…€ ì¹´íƒˆë¡œê·¸</h2>
<p>ìì²´ ì˜¤ë””ì˜¤ ì¹´íƒˆë¡œê·¸ë¥¼ ë§Œë“¤ì–´ ì•± ë‚´ ì½˜í…ì¸ ë¥¼ ì¸ì‹í•©ë‹ˆë‹¤.</p>

<div class="code-block">
<div class="code-header">CustomCatalog.swift â€” ì»¤ìŠ¤í…€ ì¹´íƒˆë¡œê·¸</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">ShazamKit</span>
<span class="kw">import</span> <span class="type">AVFoundation</span>

<span class="kw">@Observable</span>
<span class="kw">class</span> <span class="type">CustomCatalogManager</span>: <span class="type">NSObject</span>, <span class="type">SHSessionDelegate</span> {
    <span class="kw">private</span> <span class="kw">var</span> session: <span class="type">SHSession</span>?
    <span class="kw">private</span> <span class="kw">var</span> catalog: <span class="type">SHCustomCatalog</span>?

    <span class="kw">var</span> matchedReference: <span class="type">SHMediaItem</span>?
    <span class="kw">var</span> isListening = <span class="kw">false</span>

    <span class="comment">// ì»¤ìŠ¤í…€ ì¹´íƒˆë¡œê·¸ ìƒì„±</span>
    <span class="kw">func</span> createCustomCatalog(from audioFiles: [<span class="type">URL</span>]) <span class="kw">async</span> <span class="kw">throws</span> {
        <span class="kw">var</span> referenceSignatures: [<span class="type">SHSignature</span>] = []

        <span class="comment">// ê° ì˜¤ë””ì˜¤ íŒŒì¼ì—ì„œ ì‹œê·¸ë‹ˆì²˜ ìƒì„±</span>
        <span class="kw">for</span> (index, fileURL) <span class="kw">in</span> audioFiles.enumerated() {
            <span class="kw">let</span> file = <span class="kw">try</span> <span class="type">AVAudioFile</span>(forReading: fileURL)
            <span class="kw">let</span> generator = <span class="type">SHSignatureGenerator</span>()

            <span class="kw">let</span> bufferSize: <span class="type">AVAudioFrameCount</span> = <span class="str">2048</span>
            <span class="kw">guard</span> <span class="kw">let</span> buffer = <span class="type">AVAudioPCMBuffer</span>(
                pcmFormat: file.processingFormat,
                frameCapacity: bufferSize
            ) <span class="kw">else</span> { <span class="kw">continue</span> }

            <span class="kw">while</span> file.framePosition < file.length {
                <span class="kw">try</span> file.read(into: buffer)
                <span class="kw">try</span> generator.append(buffer, at: <span class="kw">nil</span>)
            }

            <span class="kw">let</span> signature = generator.signature()
            referenceSignatures.append(signature)

            print(<span class="str">"âœ… ì‹œê·¸ë‹ˆì²˜ ìƒì„±: \(fileURL.lastPathComponent)"</span>)
        }

        <span class="comment">// ë¯¸ë””ì–´ ì•„ì´í…œ ìƒì„±</span>
        <span class="kw">var</span> mediaItems: [<span class="type">SHMediaItem</span>] = []
        <span class="kw">for</span> (index, signature) <span class="kw">in</span> referenceSignatures.enumerated() {
            <span class="kw">let</span> mediaItem = <span class="type">SHMediaItem</span>(
                properties: [
                    .title: <span class="str">"Track \(index + 1)"</span>,
                    .artist: <span class="str">"Custom Artist"</span>
                ]
            )
            mediaItems.append(mediaItem)
        }

        <span class="comment">// ì»¤ìŠ¤í…€ ì¹´íƒˆë¡œê·¸ ìƒì„±</span>
        catalog = <span class="type">SHCustomCatalog</span>()

        <span class="kw">for</span> (signature, mediaItem) <span class="kw">in</span> zip(referenceSignatures, mediaItems) {
            <span class="kw">try</span> <span class="kw">await</span> catalog?.addReferenceSignature(signature, representing: [mediaItem])
        }

        <span class="comment">// ì»¤ìŠ¤í…€ ì¹´íƒˆë¡œê·¸ ì„¸ì…˜ ìƒì„±</span>
        <span class="kw">if</span> <span class="kw">let</span> catalog = catalog {
            session = <span class="type">SHSession</span>(catalog: catalog)
            session?.delegate = <span class="kw">self</span>
            print(<span class="str">"âœ… ì»¤ìŠ¤í…€ ì¹´íƒˆë¡œê·¸ ìƒì„± ì™„ë£Œ"</span>)
        }
    }

    <span class="comment">// ì»¤ìŠ¤í…€ ì¹´íƒˆë¡œê·¸ì—ì„œ ë§¤ì¹­</span>
    <span class="kw">func</span> matchAgainstCustomCatalog(signature: <span class="type">SHSignature</span>) <span class="kw">async</span> {
        <span class="kw">guard</span> <span class="kw">let</span> session = session <span class="kw">else</span> { <span class="kw">return</span> }

        <span class="kw">do</span> {
            <span class="kw">let</span> match = <span class="kw">try</span> <span class="kw">await</span> session.match(signature)
            <span class="kw">if</span> <span class="kw">let</span> mediaItem = match.mediaItems.first {
                matchedReference = mediaItem
                print(<span class="str">"ğŸµ ì»¤ìŠ¤í…€ ì¹´íƒˆë¡œê·¸ ë§¤ì¹­: \(mediaItem.title ?? "Unknown")"</span>)
            }
        } <span class="kw">catch</span> {
            print(<span class="str">"âŒ ì»¤ìŠ¤í…€ ë§¤ì¹­ ì‹¤íŒ¨: \(error)"</span>)
        }
    }

    <span class="comment">// MARK: - SHSessionDelegate</span>

    <span class="kw">func</span> session(<span class="kw">_</span> session: <span class="type">SHSession</span>, didFind match: <span class="type">SHMatch</span>) {
        <span class="kw">guard</span> <span class="kw">let</span> mediaItem = match.mediaItems.first <span class="kw">else</span> { <span class="kw">return</span> }

        <span class="type">Task</span> { <span class="kw">@MainActor</span> <span class="kw">in</span>
            matchedReference = mediaItem
            print(<span class="str">"ğŸµ ì»¤ìŠ¤í…€ ë§¤ì¹­ ì„±ê³µ"</span>)
        }
    }

    <span class="kw">func</span> session(<span class="kw">_</span> session: <span class="type">SHSession</span>, didNotFindMatchFor signature: <span class="type">SHSignature</span>, error: <span class="type">Error</span>?) {
        print(<span class="str">"âŒ ì»¤ìŠ¤í…€ ë§¤ì¹­ ì‹¤íŒ¨"</span>)
    }
}</pre>
</div>

<h2>ğŸ’¾ 4. ì‹œê·¸ë‹ˆì²˜ ì €ì¥ ë° ë¡œë“œ</h2>
<p>ìƒì„±í•œ ì‹œê·¸ë‹ˆì²˜ë¥¼ íŒŒì¼ë¡œ ì €ì¥í•˜ê³  ë‚˜ì¤‘ì— ë‹¤ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>

<div class="code-block">
<div class="code-header">SignatureStorage.swift â€” ì‹œê·¸ë‹ˆì²˜ ê´€ë¦¬</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">ShazamKit</span>
<span class="kw">import</span> <span class="type">Foundation</span>

<span class="kw">class</span> <span class="type">SignatureStorage</span> {
    <span class="comment">// ì‹œê·¸ë‹ˆì²˜ë¥¼ íŒŒì¼ë¡œ ì €ì¥</span>
    <span class="kw">func</span> saveSignature(<span class="kw">_</span> signature: <span class="type">SHSignature</span>, to fileName: <span class="type">String</span>) <span class="kw">throws</span> {
        <span class="comment">// ì‹œê·¸ë‹ˆì²˜ ë°ì´í„°</span>
        <span class="kw">let</span> data = signature.dataRepresentation

        <span class="comment">// ì €ì¥ ê²½ë¡œ</span>
        <span class="kw">let</span> url = <span class="type">FileManager</span>.default
            .urls(for: .documentDirectory, in: .userDomainMask)[<span class="str">0</span>]
            .appendingPathComponent(<span class="str">"\(fileName).shazamsignature"</span>)

        <span class="comment">// íŒŒì¼ ì €ì¥</span>
        <span class="kw">try</span> data.write(to: url)
        print(<span class="str">"âœ… ì‹œê·¸ë‹ˆì²˜ ì €ì¥: \(url)"</span>)
    }

    <span class="comment">// íŒŒì¼ì—ì„œ ì‹œê·¸ë‹ˆì²˜ ë¡œë“œ</span>
    <span class="kw">func</span> loadSignature(from fileName: <span class="type">String</span>) <span class="kw">throws</span> -> <span class="type">SHSignature</span> {
        <span class="comment">// íŒŒì¼ ê²½ë¡œ</span>
        <span class="kw">let</span> url = <span class="type">FileManager</span>.default
            .urls(for: .documentDirectory, in: .userDomainMask)[<span class="str">0</span>]
            .appendingPathComponent(<span class="str">"\(fileName).shazamsignature"</span>)

        <span class="comment">// ë°ì´í„° ì½ê¸°</span>
        <span class="kw">let</span> data = <span class="kw">try</span> <span class="type">Data</span>(contentsOf: url)

        <span class="comment">// ì‹œê·¸ë‹ˆì²˜ ìƒì„±</span>
        <span class="kw">let</span> signature = <span class="kw">try</span> <span class="type">SHSignature</span>(dataRepresentation: data)
        print(<span class="str">"âœ… ì‹œê·¸ë‹ˆì²˜ ë¡œë“œ: \(url)"</span>)

        <span class="kw">return</span> signature
    }

    <span class="comment">// ì €ì¥ëœ ëª¨ë“  ì‹œê·¸ë‹ˆì²˜ ëª©ë¡</span>
    <span class="kw">func</span> listSavedSignatures() -> [<span class="type">String</span>] {
        <span class="kw">let</span> documentsURL = <span class="type">FileManager</span>.default
            .urls(for: .documentDirectory, in: .userDomainMask)[<span class="str">0</span>]

        <span class="kw">do</span> {
            <span class="kw">let</span> files = <span class="kw">try</span> <span class="type">FileManager</span>.default
                .contentsOfDirectory(at: documentsURL, includingPropertiesForKeys: <span class="kw">nil</span>)
                .filter { $<span class="str">0</span>.pathExtension == <span class="str">"shazamsignature"</span> }
                .map { $<span class="str">0</span>.deletingPathExtension().lastPathComponent }

            <span class="kw">return</span> files
        } <span class="kw">catch</span> {
            print(<span class="str">"âŒ íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨: \(error)"</span>)
            <span class="kw">return</span> []
        }
    }

    <span class="comment">// ì‹œê·¸ë‹ˆì²˜ ì‚­ì œ</span>
    <span class="kw">func</span> deleteSignature(fileName: <span class="type">String</span>) <span class="kw">throws</span> {
        <span class="kw">let</span> url = <span class="type">FileManager</span>.default
            .urls(for: .documentDirectory, in: .userDomainMask)[<span class="str">0</span>]
            .appendingPathComponent(<span class="str">"\(fileName).shazamsignature"</span>)

        <span class="kw">try</span> <span class="type">FileManager</span>.default.removeItem(at: url)
        print(<span class="str">"âœ… ì‹œê·¸ë‹ˆì²˜ ì‚­ì œ: \(fileName)"</span>)
    }
}</pre>
</div>

<h2>ğŸ“± ì¢…í•© ì˜ˆì œ</h2>

<div class="code-block">
<div class="code-header">ShazamAppView.swift â€” Shazam ì•±</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">ShazamKit</span>

<span class="kw">struct</span> <span class="type">ShazamAppView</span>: <span class="type">View</span> {
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> shazamManager = <span class="type">ShazamManager</span>()
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> showingResult = <span class="kw">false</span>

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">NavigationStack</span> {
            <span class="type">VStack</span>(spacing: <span class="str">30</span>) {
                <span class="comment">// ë²„íŠ¼</span>
                <span class="type">Button</span> {
                    <span class="kw">if</span> shazamManager.isListening {
                        shazamManager.stopListening()
                    } <span class="kw">else</span> {
                        shazamManager.startListening()
                    }
                } label: {
                    <span class="type">ZStack</span> {
                        <span class="type">Circle</span>()
                            .fill(shazamManager.isListening ? <span class="type">Color</span>.red : <span class="type">Color</span>.blue)
                            .frame(width: <span class="str">150</span>, height: <span class="str">150</span>)

                        <span class="kw">if</span> shazamManager.isListening {
                            <span class="type">Image</span>(systemName: <span class="str">"waveform.circle.fill"</span>)
                                .font(.system(size: <span class="str">60</span>))
                                .foregroundStyle(.white)
                        } <span class="kw">else</span> {
                            <span class="type">Image</span>(systemName: <span class="str">"magnifyingglass"</span>)
                                .font(.system(size: <span class="str">60</span>))
                                .foregroundStyle(.white)
                        }
                    }
                }
                .buttonStyle(.plain)

                <span class="type">Text</span>(shazamManager.isListening ? <span class="str">"ì¸ì‹ ì¤‘..."</span> : <span class="str">"íƒ­í•˜ì—¬ ìŒì•… ì¸ì‹"</span>)
                    .font(.headline)

                <span class="comment">// ê²°ê³¼ í‘œì‹œ</span>
                <span class="kw">if</span> <span class="kw">let</span> media = shazamManager.matchedMedia {
                    <span class="type">VStack</span>(spacing: <span class="str">12</span>) {
                        <span class="type">AsyncImage</span>(url: media.artworkURL) { image <span class="kw">in</span>
                            image
                                .resizable()
                                .scaledToFit()
                        } placeholder: {
                            <span class="type">Rectangle</span>()
                                .fill(<span class="type">Color</span>.gray.opacity(<span class="str">0.3</span>))
                        }
                        .frame(width: <span class="str">200</span>, height: <span class="str">200</span>)
                        .cornerRadius(<span class="str">12</span>)

                        <span class="type">VStack</span>(spacing: <span class="str">4</span>) {
                            <span class="type">Text</span>(media.title ?? <span class="str">"Unknown"</span>)
                                .font(.title2)
                                .fontWeight(.bold)

                            <span class="type">Text</span>(media.artist ?? <span class="str">"Unknown Artist"</span>)
                                .font(.subheadline)
                                .foregroundStyle(.secondary)
                        }

                        <span class="kw">if</span> <span class="kw">let</span> appleMusicURL = media.appleMusicURL {
                            <span class="type">Link</span>(<span class="str">"Apple Musicì—ì„œ ì—´ê¸°"</span>, destination: appleMusicURL)
                                .buttonStyle(.borderedProminent)
                        }

                        <span class="kw">if</span> <span class="kw">let</span> webURL = media.webURL {
                            <span class="type">Link</span>(<span class="str">"ì›¹ì—ì„œ ë³´ê¸°"</span>, destination: webURL)
                                .buttonStyle(.bordered)
                        }
                    }
                    .padding()
                }

                <span class="comment">// ì—ëŸ¬ ë©”ì‹œì§€</span>
                <span class="kw">if</span> <span class="kw">let</span> error = shazamManager.errorMessage {
                    <span class="type">Text</span>(error)
                        .foregroundStyle(.red)
                        .font(.caption)
                }

                <span class="type">Spacer</span>()
            }
            .padding()
            .navigationTitle(<span class="str">"ìŒì•… ì¸ì‹"</span>)
        }
    }
}</pre>
</div>

<h2>ğŸ’¡ HIG ê°€ì´ë“œë¼ì¸</h2>

<ul>
<li><strong>ê¶Œí•œ:</strong> ë§ˆì´í¬ ê¶Œí•œ í•„ìš” (Info.plistì— <code>NSMicrophoneUsageDescription</code> ì¶”ê°€)</li>
<li><strong>í”¼ë“œë°±:</strong> ì¸ì‹ ì¤‘ì„ì„ ëª…í™•íˆ í‘œì‹œ</li>
<li><strong>ê²°ê³¼ í‘œì‹œ:</strong> ì•¨ë²” ì•„íŠ¸, ì œëª©, ì•„í‹°ìŠ¤íŠ¸ë¥¼ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œ</li>
<li><strong>ë§í¬ ì œê³µ:</strong> Apple Music ë˜ëŠ” ì›¹ ë§í¬ ì œê³µ</li>
<li><strong>ì˜¤í”„ë¼ì¸:</strong> ì¸í„°ë„· ì—°ê²° í•„ìš” (Shazam ì¹´íƒˆë¡œê·¸ ì‚¬ìš© ì‹œ)</li>
</ul>

<h2>ğŸ¯ ì‹¤ì „ í™œìš©</h2>

<ul>
<li><strong>ìŒì•… ì•±:</strong> ì¬ìƒ ì¤‘ì¸ ìŒì•… ìë™ ì¸ì‹</li>
<li><strong>ë¼ë””ì˜¤ ì•±:</strong> ë°©ì†¡ ì¤‘ì¸ ìŒì•… ì‹ë³„</li>
<li><strong>ê²Œì„:</strong> ì»¤ìŠ¤í…€ ì¹´íƒˆë¡œê·¸ë¡œ ë°°ê²½ ìŒì•… íŠ¸ë˜í‚¹</li>
<li><strong>êµìœ¡ ì•±:</strong> ì˜¤ë””ì˜¤ ì½˜í…ì¸  ì§„ë„ ì¶”ì </li>
<li><strong>ì´ë²¤íŠ¸ ì•±:</strong> ê³µì—° ì¤‘ ê³¡ ì •ë³´ ì œê³µ</li>
</ul>

<h2>ğŸ“š ë” ì•Œì•„ë³´ê¸°</h2>

<ul>
<li><a href="https://developer.apple.com/documentation/shazamkit">ShazamKit ê³µì‹ ë¬¸ì„œ</a></li>
<li><a href="https://developer.apple.com/videos/play/wwdc2021/10044/">WWDC: ShazamKit ì„¸ì…˜</a></li>
<li><a href="https://developer.apple.com/design/human-interface-guidelines/">HIG: Audio Recognition</a></li>
</ul>

<div class="info-box">
<strong>âš¡ï¸ ì„±ëŠ¥ íŒ:</strong> ì»¤ìŠ¤í…€ ì¹´íƒˆë¡œê·¸ëŠ” ì•± ë²ˆë“¤ì— í¬í•¨í•˜ê±°ë‚˜ ì„œë²„ì—ì„œ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹œê·¸ë‹ˆì²˜ ìƒì„±ì€ CPU ì§‘ì•½ì ì´ë¯€ë¡œ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰í•˜ì„¸ìš”. Shazam ì¹´íƒˆë¡œê·¸ ì‚¬ìš© ì‹œ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì´ í•„ìš”í•˜ì§€ë§Œ, ì»¤ìŠ¤í…€ ì¹´íƒˆë¡œê·¸ëŠ” ì˜¤í”„ë¼ì¸ì—ì„œë„ ì‘ë™í•©ë‹ˆë‹¤.
</div>

<div style="margin-top:48px;padding:24px;background:linear-gradient(135deg,#f5f5f7,#e8e8ed);border-radius:16px;">
  <h2 style="font-size:20px;margin-bottom:12px;">ğŸ“ Apple ê³µì‹ ìë£Œ</h2>
  <div style="display:flex;flex-wrap:wrap;gap:12px;">
    <a href="https://developer.apple.com/documentation/shazamkit" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:white;border-radius:10px;text-decoration:none;color:var(--accent);font-weight:600;font-size:14px;border:1px solid var(--border);transition:all .2s;">ğŸ“˜ ê³µì‹ ë¬¸ì„œ</a>
    <a href="https://developer.apple.com/videos/all-videos/?q=ShazamKit" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:white;border-radius:10px;text-decoration:none;color:var(--accent);font-weight:600;font-size:14px;border:1px solid var(--border);transition:all .2s;">ğŸ¬ WWDC ì„¸ì…˜</a>
  </div>
</div>
</article>
</body></html>
