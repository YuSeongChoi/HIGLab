<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Complete guide to SwiftData data persistence framework. Learn with hands-on examples at HIG Lab.">
    <meta property="og:title" content="ğŸ’¾ SwiftData ì™„ì „ì •ë³µ â€” HIG Lab">
    <meta property="og:description" content="Complete guide to SwiftData data persistence framework. Learn with hands-on examples at HIG Lab.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://m1zz.github.io/HIGLab/swiftdata/01-tutorial.en.html">
    <meta property="og:site_name" content="HIG Lab">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="ğŸ’¾ SwiftData ì™„ì „ì •ë³µ â€” HIG Lab">
    <meta name="twitter:description" content="Complete guide to SwiftData data persistence framework. Learn with hands-on examples at HIG Lab.">
    <link rel="alternate" hreflang="ko" href="https://m1zz.github.io/HIGLab/swiftdata/01-tutorial.html">
    <link rel="alternate" hreflang="en" href="https://m1zz.github.io/HIGLab/swiftdata/01-tutorial.en.html">
<title>ğŸ’¾ SwiftData ì™„ì „ì •ë³µ â€” HIG Lab</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root{--bg:#fafafa;--surface:#fff;--text:#1d1d1f;--text-2:#6e6e73;--accent:#0071e3;--green:#34c759;--border:#d2d2d7;--code-bg:#1e1e2e;--radius:16px}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Inter',-apple-system,sans-serif;background:var(--bg);color:var(--text);line-height:1.8}
.top-bar{position:sticky;top:0;z-index:100;background:rgba(250,250,250,0.88);backdrop-filter:blur(20px);border-bottom:.5px solid var(--border)}
.top-bar-inner{max-width:800px;margin:0 auto;padding:12px 24px;display:flex;justify-content:space-between}
.top-logo{font-size:16px;font-weight:700;text-decoration:none;color:var(--text)}.top-logo span{color:var(--accent)}
article{max-width:800px;margin:0 auto;padding:48px 24px 120px}
h1{font-size:clamp(32px,5vw,44px);font-weight:900;letter-spacing:-1.5px;line-height:1.2;margin-bottom:16px}
h2{font-size:26px;font-weight:800;margin:48px 0 16px}p{margin-bottom:16px}
.code-block{background:var(--code-bg);border-radius:12px;margin:20px 0;overflow:hidden}
.code-header{padding:10px 16px;background:rgba(255,255,255,0.05);border-bottom:1px solid rgba(255,255,255,0.08);display:flex;justify-content:space-between}
.code-filename{font-size:13px;color:#cdd6f4;font-family:'JetBrains Mono',monospace}
pre.code-body{margin:0;padding:16px;font-family:'JetBrains Mono',monospace;font-size:13px;line-height:1.6;color:#cdd6f4;white-space:pre;overflow-x:auto}
.code-body .kw{color:#cba6f7}.code-body .type{color:#89b4fa}.code-body .str{color:#a6e3a1}.code-body .func{color:#89dceb}.code-body .prop{color:#f5c2e7}.code-body .comment{color:#6c7086}.code-body .num{color:#fab387}
</style>
</head>
<body>
<div class="top-bar"><div class="top-bar-inner"><a href="../index.html" class="top-logo">HIG <span>Lab</span></a><a href="01-tutorial.html" class="lang-toggle" style="font-size:12px;font-weight:600;color:#0071e3;text-decoration:none;padding:4px 10px;border:1.5px solid #0071e3;border-radius:12px;">ğŸŒ KO</a></div></div>
<article>
<h1>ğŸ’¾ SwiftData ì™„ì „ì •ë³µ</h1>
<p>A modern database replacing Core Data. Easily implement persistent storage with Swift macros.</p>
<!-- higlab-metadata -->
<div style="display:flex;gap:16px;align-items:center;margin:12px 0 24px;padding:12px 16px;background:var(--tag-bg,#f5f5f7);border-radius:10px;font-size:13px;color:var(--text-2,#6e6e73);flex-wrap:wrap;">
  <span>â­ Difficulty: â­â­</span>
  <span>â±ï¸ Est. Time: 1-2h</span>
  <span>ğŸ“‚ App Frameworks</span>
</div>

<h2>âœ¨ SwiftData?</h2>
<p>SwiftData is a new data persistence framework available on iOS 17+. It completely replaces Core Data and is much simpler thanks to Swift macros.</p>

<h2>ğŸ“¦ Model ì •ì˜</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">Todo.swift</span></div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftData</span>
<span class="kw">import</span> <span class="type">Foundation</span>

@<span class="type">Model</span>
<span class="kw">final class</span> <span class="type">Todo</span> {
    <span class="kw">var</span> <span class="prop">title</span>: <span class="type">String</span>
    <span class="kw">var</span> <span class="prop">isCompleted</span>: <span class="type">Bool</span>
    <span class="kw">var</span> <span class="prop">createdAt</span>: <span class="type">Date</span>

    <span class="kw">init</span>(title: <span class="type">String</span>, isCompleted: <span class="type">Bool</span> = <span class="kw">false</span>) {
        <span class="kw">self</span>.title = title
        <span class="kw">self</span>.isCompleted = isCompleted
        <span class="kw">self</span>.createdAt = <span class="type">Date</span>()
    }
}</pre></div>

<h2>ğŸ—ï¸ App ì„¤ì •</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">TodoApp.swift</span></div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">SwiftData</span>

@<span class="kw">main</span>
<span class="kw">struct</span> <span class="type">TodoApp</span>: <span class="type">App</span> {
    <span class="kw">var</span> <span class="prop">body</span>: <span class="kw">some</span> <span class="type">Scene</span> {
        <span class="type">WindowGroup</span> {
            <span class="type">ContentView</span>()
        }
        .<span class="func">modelContainer</span>(<span class="kw">for</span>: <span class="type">Todo</span>.<span class="kw">self</span>)
    }
}</pre></div>

<h2>ğŸ“ ë°ì´í„° ì½ê¸° (@Query)</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">ContentView.swift</span></div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">SwiftData</span>

<span class="kw">struct</span> <span class="type">ContentView</span>: <span class="type">View</span> {
    @<span class="type">Query</span> <span class="kw">private var</span> todos: [<span class="type">Todo</span>]
    @<span class="type">Environment</span>(\.<span class="prop">modelContext</span>) <span class="kw">private var</span> modelContext

    <span class="kw">var</span> <span class="prop">body</span>: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">NavigationStack</span> {
            <span class="type">List</span> {
                <span class="type">ForEach</span>(todos) { todo <span class="kw">in</span>
                    <span class="type">HStack</span> {
                        <span class="type">Image</span>(systemName: todo.isCompleted ? <span class="str">"checkmark.circle.fill"</span> : <span class="str">"circle"</span>)
                            .foregroundStyle(todo.isCompleted ? .green : .gray)

                        <span class="type">Text</span>(todo.title)
                            .strikethrough(todo.isCompleted)
                    }
                    .onTapGesture {
                        todo.isCompleted.toggle()
                    }
                }
                .onDelete(perform: <span class="func">deleteTodos</span>)
            }
            .navigationTitle(<span class="str">"í•  ì¼"</span>)
            .toolbar {
                <span class="type">Button</span>(<span class="str">"ì¶”ê°€"</span>, systemImage: <span class="str">"plus"</span>) {
                    <span class="func">addTodo</span>()
                }
            }
        }
    }

    <span class="kw">func</span> <span class="func">addTodo</span>() {
        <span class="kw">let</span> newTodo = <span class="type">Todo</span>(title: <span class="str">"ìƒˆ í•  ì¼"</span>)
        modelContext.insert(newTodo)
    }

    <span class="kw">func</span> <span class="func">deleteTodos</span>(at offsets: <span class="type">IndexSet</span>) {
        <span class="kw">for</span> index <span class="kw">in</span> offsets {
            modelContext.delete(todos[index])
        }
    }
}</pre></div>

<h2>ğŸ” Query í•„í„°ë§ & ì •ë ¬</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">FilteredView.swift</span></div>
<pre class="code-body"><span class="kw">struct</span> <span class="type">FilteredTodoView</span>: <span class="type">View</span> {
    <span class="comment">// ì™„ë£Œë˜ì§€ ì•Šì€ í•  ì¼ë§Œ, ìµœì‹ ìˆœ ì •ë ¬</span>
    @<span class="type">Query</span>(
        filter: #<span class="type">Predicate</span>&lt;<span class="type">Todo</span>&gt; { todo <span class="kw">in</span>
            !todo.isCompleted
        },
        sort: \<span class="type">Todo</span>.createdAt,
        order: .reverse
    )
    <span class="kw">private var</span> incompleteTodos: [<span class="type">Todo</span>]

    <span class="kw">var</span> <span class="prop">body</span>: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">List</span>(incompleteTodos) { todo <span class="kw">in</span>
            <span class="type">Text</span>(todo.title)
        }
    }
}

<span class="comment">// ì—¬ëŸ¬ ì •ë ¬ ì¡°ê±´</span>
@<span class="type">Query</span>(sort: [
    <span class="type">SortDescriptor</span>(\<span class="type">Todo</span>.isCompleted),
    <span class="type">SortDescriptor</span>(\<span class="type">Todo</span>.createdAt, order: .reverse)
])
<span class="kw">private var</span> sortedTodos: [<span class="type">Todo</span>]</pre></div>

<h2>ğŸ”— ê´€ê³„(Relationship) ì •ì˜</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">Models.swift</span></div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftData</span>

@<span class="type">Model</span>
<span class="kw">final class</span> <span class="type">Category</span> {
    <span class="kw">var</span> <span class="prop">name</span>: <span class="type">String</span>
    @<span class="type">Relationship</span>(deleteRule: .cascade, inverse: \<span class="type">Todo</span>.category)
    <span class="kw">var</span> <span class="prop">todos</span>: [<span class="type">Todo</span>] = []

    <span class="kw">init</span>(name: <span class="type">String</span>) {
        <span class="kw">self</span>.name = name
    }
}

@<span class="type">Model</span>
<span class="kw">final class</span> <span class="type">Todo</span> {
    <span class="kw">var</span> <span class="prop">title</span>: <span class="type">String</span>
    <span class="kw">var</span> <span class="prop">isCompleted</span>: <span class="type">Bool</span>
    <span class="kw">var</span> <span class="prop">category</span>: <span class="type">Category</span>?

    <span class="kw">init</span>(title: <span class="type">String</span>, category: <span class="type">Category</span>? = <span class="kw">nil</span>) {
        <span class="kw">self</span>.title = title
        <span class="kw">self</span>.isCompleted = <span class="kw">false</span>
        <span class="kw">self</span>.category = category
    }
}</pre></div>

<h2>ğŸ’¾ ìˆ˜ë™ ì €ì¥ & ë¡¤ë°±</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">ManualSave.swift</span></div>
<pre class="code-body"><span class="kw">struct</span> <span class="type">TodoEditView</span>: <span class="type">View</span> {
    @<span class="type">Environment</span>(\.<span class="prop">modelContext</span>) <span class="kw">private var</span> modelContext
    @<span class="type">State</span> <span class="kw">private var</span> title = <span class="str">""</span>

    <span class="kw">var</span> <span class="prop">body</span>: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">Form</span> {
            <span class="type">TextField</span>(<span class="str">"ì œëª©"</span>, text: $title)

            <span class="type">HStack</span> {
                <span class="type">Button</span>(<span class="str">"ì €ì¥"</span>) {
                    <span class="func">save</span>()
                }

                <span class="type">Button</span>(<span class="str">"ì·¨ì†Œ"</span>, role: .cancel) {
                    <span class="func">rollback</span>()
                }
            }
        }
    }

    <span class="kw">func</span> <span class="func">save</span>() {
        <span class="kw">let</span> todo = <span class="type">Todo</span>(title: title)
        modelContext.insert(todo)

        <span class="kw">do</span> {
            <span class="kw">try</span> modelContext.save()
        } <span class="kw">catch</span> {
            <span class="func">print</span>(<span class="str">"ì €ì¥ ì‹¤íŒ¨: \(error)"</span>)
        }
    }

    <span class="kw">func</span> <span class="func">rollback</span>() {
        modelContext.rollback()
    }
}</pre></div>

<h2>ğŸ”§ ModelContext ì§ì ‘ ì‚¬ìš©</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">FetchData.swift</span></div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftData</span>

<span class="kw">func</span> <span class="func">fetchTodos</span>(context: <span class="type">ModelContext</span>) <span class="kw">throws</span> -> [<span class="type">Todo</span>] {
    <span class="kw">let</span> descriptor = <span class="type">FetchDescriptor</span>&lt;<span class="type">Todo</span>&gt;(
        predicate: #<span class="type">Predicate</span> { !$0.isCompleted },
        sortBy: [<span class="type">SortDescriptor</span>(\<span class="type">Todo</span>.createdAt, order: .reverse)]
    )

    <span class="kw">return try</span> context.fetch(descriptor)
}

<span class="comment">// ê°œìˆ˜ë§Œ ê°€ì ¸ì˜¤ê¸°</span>
<span class="kw">func</span> <span class="func">countTodos</span>(context: <span class="type">ModelContext</span>) <span class="kw">throws</span> -> <span class="type">Int</span> {
    <span class="kw">let</span> descriptor = <span class="type">FetchDescriptor</span>&lt;<span class="type">Todo</span>&gt;()
    <span class="kw">return try</span> context.fetchCount(descriptor)
}</pre></div>

<h2>ğŸ—‘ï¸ ì‚­ì œ ê·œì¹™ (Delete Rule)</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">DeleteRule.swift</span></div>
<pre class="code-body">@<span class="type">Model</span>
<span class="kw">final class</span> <span class="type">Project</span> {
    <span class="kw">var</span> <span class="prop">name</span>: <span class="type">String</span>

    <span class="comment">// cascade: Project ì‚­ì œ ì‹œ Taskë„ ëª¨ë‘ ì‚­ì œ</span>
    @<span class="type">Relationship</span>(deleteRule: .cascade)
    <span class="kw">var</span> <span class="prop">tasks</span>: [<span class="type">Task</span>] = []

    <span class="comment">// nullify: Project ì‚­ì œ ì‹œ Taskì˜ projectë¥¼ nilë¡œ</span>
    <span class="comment">// @Relationship(deleteRule: .nullify)</span>

    <span class="comment">// deny: Taskê°€ ìˆìœ¼ë©´ Project ì‚­ì œ ë¶ˆê°€</span>
    <span class="comment">// @Relationship(deleteRule: .deny)</span>

    <span class="kw">init</span>(name: <span class="type">String</span>) {
        <span class="kw">self</span>.name = name
    }
}

@<span class="type">Model</span>
<span class="kw">final class</span> <span class="type">Task</span> {
    <span class="kw">var</span> <span class="prop">title</span>: <span class="type">String</span>
    <span class="kw">var</span> <span class="prop">project</span>: <span class="type">Project</span>?

    <span class="kw">init</span>(title: <span class="type">String</span>, project: <span class="type">Project</span>? = <span class="kw">nil</span>) {
        <span class="kw">self</span>.title = title
        <span class="kw">self</span>.project = project
    }
}</pre></div>

<h2>ğŸ¯ Unique ì œì•½ ì¡°ê±´</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">UniqueModel.swift</span></div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftData</span>

@<span class="type">Model</span>
<span class="kw">final class</span> <span class="type">User</span> {
    @<span class="type">Attribute</span>(.unique)
    <span class="kw">var</span> <span class="prop">email</span>: <span class="type">String</span>

    <span class="kw">var</span> <span class="prop">name</span>: <span class="type">String</span>

    <span class="kw">init</span>(email: <span class="type">String</span>, name: <span class="type">String</span>) {
        <span class="kw">self</span>.email = email
        <span class="kw">self</span>.name = name
    }
}

<span class="comment">// ë™ì¼í•œ emailë¡œ insert ì‹œ ìë™ìœ¼ë¡œ updateë¨</span></pre></div>

<h2>ğŸ§ª In-Memory Container for Testing</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">PreviewContainer.swift</span></div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftData</span>

<span class="kw">extension</span> <span class="type">ModelContainer</span> {
    <span class="kw">static var</span> <span class="prop">preview</span>: <span class="type">ModelContainer</span> {
        <span class="kw">let</span> schema = <span class="type">Schema</span>([<span class="type">Todo</span>.<span class="kw">self</span>])
        <span class="kw">let</span> configuration = <span class="type">ModelConfiguration</span>(isStoredInMemoryOnly: <span class="kw">true</span>)
        <span class="kw">let</span> container = <span class="kw">try</span>! <span class="type">ModelContainer</span>(for: schema, configurations: configuration)

        <span class="comment">// ìƒ˜í”Œ ë°ì´í„° ì¶”ê°€</span>
        <span class="kw">let</span> context = container.mainContext
        context.insert(<span class="type">Todo</span>(title: <span class="str">"í•  ì¼ 1"</span>))
        context.insert(<span class="type">Todo</span>(title: <span class="str">"í•  ì¼ 2"</span>))

        <span class="kw">return</span> container
    }
}

<span class="comment">// Previewì—ì„œ ì‚¬ìš©</span>
#<span class="type">Preview</span> {
    <span class="type">ContentView</span>()
        .modelContainer(<span class="type">ModelContainer</span>.preview)
}</pre></div>

<p style="background:#34c75910;border:1px solid #34c75940;border-radius:12px;padding:16px 20px;margin:24px 0"><strong style="color:#34c759">ğŸ’¡ HIG Guidelines</strong><br>
âœ… @QueryëŠ” ìë™ìœ¼ë¡œ UI ì—…ë°ì´íŠ¸<br>
âœ… ModelContextëŠ” ìë™ ì €ì¥<br>
âœ… Core Dataë³´ë‹¤ 80% ì ì€ ì½”ë“œ<br>
âœ… íƒ€ì… ì•ˆì „ì„± ë³´ì¥<br>
âœ… Swift ë§¤í¬ë¡œë¡œ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì œê±°</p>

<h2>ğŸ“¦ Learning Resources</h2>
<div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin:24px 0">
<a href="https://github.com/M1zz/HIGLab" style="background:#fff;border:1px solid #d2d2d7;border-radius:12px;padding:20px;text-decoration:none;color:inherit;text-align:center">
<div style="font-size:28px">ğŸ’»</div>
<div style="font-size:13px;font-weight:600;color:#0071e3;margin-top:8px">GitHub Project</div>
</a>
<a href="https://developer.apple.com/documentation/swiftdata" style="background:#fff;border:1px solid #d2d2d7;border-radius:12px;padding:20px;text-decoration:none;color:inherit;text-align:center">
<div style="font-size:28px">ğŸ</div>
<div style="font-size:13px;font-weight:600;color:#0071e3;margin-top:8px">Apple Official Docs</div>
</a>
<a href="https://developer.apple.com/videos/play/wwdc2023/10187/" style="background:#fff;border:1px solid #d2d2d7;border-radius:12px;padding:20px;text-decoration:none;color:inherit;text-align:center">
<div style="font-size:28px">ğŸ¥</div>
<div style="font-size:13px;font-weight:600;color:#0071e3;margin-top:8px">WWDC23 Session</div>
</a>
</div>

<div style="margin-top:48px;padding:24px;background:linear-gradient(135deg,#f5f5f7,#e8e8ed);border-radius:16px;">
  <h2 style="font-size:20px;margin-bottom:12px;">ğŸ“ Apple Official Resources</h2>
  <div style="display:flex;flex-wrap:wrap;gap:12px;">
    <a href="https://developer.apple.com/documentation/swiftdata" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:white;border-radius:10px;text-decoration:none;color:var(--accent);font-weight:600;font-size:14px;border:1px solid var(--border);transition:all .2s;">ğŸ“˜ Documentation</a>
    <a href="https://developer.apple.com/documentation/swiftdata/building-a-document-based-app-with-swiftdata" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:white;border-radius:10px;text-decoration:none;color:var(--accent);font-weight:600;font-size:14px;border:1px solid var(--border);transition:all .2s;">ğŸ’» Sample Code</a>
    <a href="https://developer.apple.com/videos/all-videos/?q=SwiftData" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:white;border-radius:10px;text-decoration:none;color:var(--accent);font-weight:600;font-size:14px;border:1px solid var(--border);transition:all .2s;">ğŸ¬ WWDC Sessions</a>
  </div>
</div>
</article>
</body>
</html>
