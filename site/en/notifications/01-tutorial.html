<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ğŸ”” User Notifications â€” HIG Lab</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=JetBrains+Mono&display=swap" rel="stylesheet">
<style>
:root{--bg:#fafafa;--text:#1d1d1f;--text-2:#6e6e73;--accent:#0071e3;--code-bg:#1e1e2e;--border:#d2d2d7}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);line-height:1.8}
.top-bar{position:sticky;top:0;z-index:100;background:rgba(250,250,250,0.9);backdrop-filter:blur(20px);border-bottom:1px solid var(--border)}
.top-bar-inner{max-width:800px;margin:0 auto;padding:12px 24px;display:flex;justify-content:space-between}
.top-logo{font-size:16px;font-weight:700;text-decoration:none;color:var(--text)}.top-logo span{color:var(--accent)}
article{max-width:800px;margin:0 auto;padding:48px 24px 120px}
h1{font-size:clamp(28px,5vw,40px);font-weight:900;margin-bottom:16px;letter-spacing:-1px}
h2{font-size:24px;font-weight:800;margin:48px 0 16px}p{margin-bottom:16px}
.subtitle{font-size:18px;color:var(--text-2);margin-bottom:32px}
.code-block{background:var(--code-bg);border-radius:12px;margin:20px 0;overflow:hidden}
.code-header{padding:12px 16px;border-bottom:1px solid rgba(255,255,255,0.1);font-size:12px;color:#6e6e73;font-weight:600}
pre.code-body{margin:0;padding:16px;font-family:'JetBrains Mono',monospace;font-size:13px;color:#cdd6f4;white-space:pre;overflow-x:auto}
.kw{color:#cba6f7}.type{color:#89b4fa}.str{color:#a6e3a1}.comment{color:#6c7086}
.badge{display:inline-block;padding:4px 12px;border-radius:16px;font-size:13px;font-weight:600;margin:0 4px 8px 0}
.badge.ios{background:#0071e3;color:#fff}.badge.new{background:#34c759;color:#fff}
ul{margin:16px 0 16px 24px}li{margin:8px 0}
.info-box{background:#f5f5f7;border-left:4px solid var(--accent);padding:16px;margin:24px 0;border-radius:8px}
</style></head>
<body>
<div class="top-bar"><div class="top-bar-inner"><a href="../index.html" class="top-logo">HIG <span>Lab</span></a><a href="../../notifications/01-tutorial.html" class="lang-toggle" style="font-size:12px;font-weight:600;color:#0071e3;text-decoration:none;padding:4px 10px;border:1.5px solid #0071e3;border-radius:12px;">ğŸ‡°ğŸ‡· KO</a></div></div>
<article>
<h1>ğŸ”” User Notifications</h1>
<!-- higlab-metadata -->
<div style="display:flex;gap:16px;align-items:center;margin:12px 0 24px;padding:12px 16px;background:var(--tag-bg,#f5f5f7);border-radius:10px;font-size:13px;color:var(--text-2,#6e6e73);flex-wrap:wrap;">
  <span>â­ Difficulty: â­â­</span>
  <span>â±ï¸ Est. Time: 1-2h</span>
  <span>ğŸ“‚ App Services</span>
</div>
<p class="subtitle">ë¡œì»¬ ì•Œë¦¼ê³¼ ì›ê²© í‘¸ì‹œ ì•Œë¦¼ ì™„ì „ì •ë³µ</p>

<div><span class="badge ios">iOS 10+</span><span class="badge new">Live Activities í†µí•©</span></div>

<h2>âœ¨ User Notifications?</h2>
<p>The User Notifications framework manages both local and remote push notifications. It provides powerful features including time/location-based triggers, media attachments, custom actions, and Notification Service Extensions.</p>

<div class="info-box">
<strong>ğŸ’¡ Key Features:</strong> Local/Remote Notifications Â· Time/Location Triggers Â· Media Attachments Â· Custom Actions Â· Notification Management Â· Notification Extension Â· Settings Â· Foreground Alerts
</div>

<h2>ğŸ¯ 1. ê¶Œí•œ ìš”ì²­</h2>
<p>ì•Œë¦¼ ì‚¬ìš© ì „ ë¨¼ì € ì‚¬ìš©ì ê¶Œí•œì„ ìš”ì²­í•´ì•¼ .</p>

<div class="code-block">
<div class="code-header">NotificationManager.swift â€” Permission Request</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">UserNotifications</span>
<span class="kw">import</span> <span class="type">SwiftUI</span>

<span class="kw">@Observable</span>
<span class="kw">class</span> <span class="type">NotificationManager</span>: <span class="type">NSObject</span> {
    <span class="kw">var</span> authorizationStatus: <span class="type">UNAuthorizationStatus</span> = .notDetermined
    <span class="kw">var</span> isAuthorized = <span class="kw">false</span>

    <span class="kw">override</span> <span class="kw">init</span>() {
        <span class="kw">super</span>.<span class="kw">init</span>()
        <span class="type">UNUserNotificationCenter</span>.current().delegate = <span class="kw">self</span>
        checkAuthorizationStatus()
    }

    <span class="comment">// ê¶Œí•œ ìƒíƒœ í™•ì¸</span>
    <span class="kw">func</span> checkAuthorizationStatus() {
        <span class="type">UNUserNotificationCenter</span>.current().getNotificationSettings { [<span class="kw">weak self</span>] settings <span class="kw">in</span>
            <span class="type">Task</span> { <span class="kw">@MainActor</span> <span class="kw">in</span>
                <span class="kw">self</span>?.authorizationStatus = settings.authorizationStatus
                <span class="kw">self</span>?.isAuthorized = settings.authorizationStatus == .authorized
            }
        }
    }

    <span class="comment">// ê¶Œí•œ ìš”ì²­</span>
    <span class="kw">func</span> requestAuthorization() <span class="kw">async</span> <span class="kw">throws</span> -> <span class="type">Bool</span> {
        <span class="kw">let</span> center = <span class="type">UNUserNotificationCenter</span>.current()

        <span class="comment">// ì•Œë¦¼, ì‚¬ìš´ë“œ, ë°°ì§€ ê¶Œí•œ ìš”ì²­</span>
        <span class="kw">let</span> granted = <span class="kw">try</span> <span class="kw">await</span> center.requestAuthorization(
            options: [.alert, .sound, .badge, .criticalAlert]
        )

        <span class="kw">await</span> <span class="type">MainActor</span>.run {
            isAuthorized = granted
        }

        <span class="comment">// ì›ê²© í‘¸ì‹œ ì•Œë¦¼ ë“±ë¡</span>
        <span class="kw">if</span> granted {
            <span class="kw">await</span> <span class="type">UIApplication</span>.shared.registerForRemoteNotifications()
        }

        <span class="kw">return</span> granted
    }
}</pre>
</div>

<h2>â° 2. Local Notifications</h2>
<p>ì•±ì—ì„œ ì§ì ‘ ìŠ¤ì¼€ì¤„ë§í•˜ëŠ” ì•Œë¦¼.</p>

<div class="code-block">
<div class="code-header">LocalNotifications.swift â€” Time-Based Notifications</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">UserNotifications</span>

<span class="kw">extension</span> <span class="type">NotificationManager</span> {
    <span class="comment">// ì‹œê°„ ê¸°ë°˜ ì•Œë¦¼</span>
    <span class="kw">func</span> scheduleTimeNotification(
        title: <span class="type">String</span>,
        body: <span class="type">String</span>,
        timeInterval: <span class="type">TimeInterval</span>,
        repeats: <span class="type">Bool</span> = <span class="kw">false</span>
    ) <span class="kw">async</span> <span class="kw">throws</span> {
        <span class="kw">let</span> content = <span class="type">UNMutableNotificationContent</span>()
        content.title = title
        content.body = body
        content.sound = .<span class="kw">default</span>
        content.badge = <span class="str">1</span>

        <span class="comment">// íŠ¸ë¦¬ê±° ì„¤ì • (5ì´ˆ í›„)</span>
        <span class="kw">let</span> trigger = <span class="type">UNTimeIntervalNotificationTrigger</span>(
            timeInterval: timeInterval,
            repeats: repeats
        )

        <span class="kw">let</span> request = <span class="type">UNNotificationRequest</span>(
            identifier: <span class="type">UUID</span>().uuidString,
            content: content,
            trigger: trigger
        )

        <span class="kw">try</span> <span class="kw">await</span> <span class="type">UNUserNotificationCenter</span>.current().add(request)
    }

    <span class="comment">// ìº˜ë¦°ë” ê¸°ë°˜ ì•Œë¦¼ (ë§¤ì¼ ì˜¤ì „ 9ì‹œ)</span>
    <span class="kw">func</span> scheduleDailyNotification(
        title: <span class="type">String</span>,
        body: <span class="type">String</span>,
        hour: <span class="type">Int</span>,
        minute: <span class="type">Int</span>
    ) <span class="kw">async</span> <span class="kw">throws</span> {
        <span class="kw">let</span> content = <span class="type">UNMutableNotificationContent</span>()
        content.title = title
        content.body = body
        content.sound = .<span class="kw">default</span>

        <span class="kw">var</span> dateComponents = <span class="type">DateComponents</span>()
        dateComponents.hour = hour
        dateComponents.minute = minute

        <span class="kw">let</span> trigger = <span class="type">UNCalendarNotificationTrigger</span>(
            dateMatching: dateComponents,
            repeats: <span class="kw">true</span>
        )

        <span class="kw">let</span> request = <span class="type">UNNotificationRequest</span>(
            identifier: <span class="str">"daily-\(hour)-\(minute)"</span>,
            content: content,
            trigger: trigger
        )

        <span class="kw">try</span> <span class="kw">await</span> <span class="type">UNUserNotificationCenter</span>.current().add(request)
    }

    <span class="comment">// ìœ„ì¹˜ ê¸°ë°˜ ì•Œë¦¼</span>
    <span class="kw">func</span> scheduleLocationNotification(
        title: <span class="type">String</span>,
        body: <span class="type">String</span>,
        latitude: <span class="type">Double</span>,
        longitude: <span class="type">Double</span>,
        radius: <span class="type">Double</span>
    ) <span class="kw">async</span> <span class="kw">throws</span> {
        <span class="kw">let</span> content = <span class="type">UNMutableNotificationContent</span>()
        content.title = title
        content.body = body
        content.sound = .<span class="kw">default</span>

        <span class="kw">let</span> center = <span class="type">CLLocationCoordinate2D</span>(latitude: latitude, longitude: longitude)
        <span class="kw">let</span> region = <span class="type">CLCircularRegion</span>(
            center: center,
            radius: radius,
            identifier: <span class="type">UUID</span>().uuidString
        )
        region.notifyOnEntry = <span class="kw">true</span>
        region.notifyOnExit = <span class="kw">false</span>

        <span class="kw">let</span> trigger = <span class="type">UNLocationNotificationTrigger</span>(
            region: region,
            repeats: <span class="kw">false</span>
        )

        <span class="kw">let</span> request = <span class="type">UNNotificationRequest</span>(
            identifier: <span class="type">UUID</span>().uuidString,
            content: content,
            trigger: trigger
        )

        <span class="kw">try</span> <span class="kw">await</span> <span class="type">UNUserNotificationCenter</span>.current().add(request)
    }
}</pre>
</div>

<h2>ğŸ“· 3. Media Attachments</h2>
<p>ì•Œë¦¼ì— ì´ë¯¸ì§€, ë¹„ë””ì˜¤, ì˜¤ë””ì˜¤ë¥¼ ì²¨ë¶€.</p>

<div class="code-block">
<div class="code-header">MediaNotifications.swift â€” Media Attachments</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">UserNotifications</span>

<span class="kw">extension</span> <span class="type">NotificationManager</span> {
    <span class="comment">// ì´ë¯¸ì§€ ì²¨ë¶€</span>
    <span class="kw">func</span> scheduleNotificationWithImage(
        title: <span class="type">String</span>,
        body: <span class="type">String</span>,
        imageURL: <span class="type">URL</span>
    ) <span class="kw">async</span> <span class="kw">throws</span> {
        <span class="kw">let</span> content = <span class="type">UNMutableNotificationContent</span>()
        content.title = title
        content.body = body
        content.sound = .<span class="kw">default</span>

        <span class="comment">// ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë° ì²¨ë¶€</span>
        <span class="kw">let</span> (data, _) = <span class="kw">try</span> <span class="kw">await</span> <span class="type">URLSession</span>.shared.data(from: imageURL)

        <span class="kw">let</span> tempDirectory = <span class="type">FileManager</span>.<span class="kw">default</span>.temporaryDirectory
        <span class="kw">let</span> fileURL = tempDirectory.appendingPathComponent(<span class="str">"notification-image.jpg"</span>)

        <span class="kw">try</span> data.write(to: fileURL)

        <span class="kw">let</span> attachment = <span class="kw">try</span> <span class="type">UNNotificationAttachment</span>(
            identifier: <span class="str">"image"</span>,
            url: fileURL,
            options: <span class="kw">nil</span>
        )

        content.attachments = [attachment]

        <span class="kw">let</span> trigger = <span class="type">UNTimeIntervalNotificationTrigger</span>(timeInterval: <span class="str">5</span>, repeats: <span class="kw">false</span>)
        <span class="kw">let</span> request = <span class="type">UNNotificationRequest</span>(
            identifier: <span class="type">UUID</span>().uuidString,
            content: content,
            trigger: trigger
        )

        <span class="kw">try</span> <span class="kw">await</span> <span class="type">UNUserNotificationCenter</span>.current().add(request)
    }

    <span class="comment">// ë¹„ë””ì˜¤ ì²¨ë¶€</span>
    <span class="kw">func</span> scheduleNotificationWithVideo(videoURL: <span class="type">URL</span>) <span class="kw">async</span> <span class="kw">throws</span> {
        <span class="kw">let</span> content = <span class="type">UNMutableNotificationContent</span>()
        content.title = <span class="str">"ìƒˆ ë¹„ë””ì˜¤"</span>
        content.body = <span class="str">"ë¹„ë””ì˜¤ë¥¼ í™•ì¸í•˜ì„¸ìš”"</span>

        <span class="kw">let</span> attachment = <span class="kw">try</span> <span class="type">UNNotificationAttachment</span>(
            identifier: <span class="str">"video"</span>,
            url: videoURL,
            options: [<span class="type">UNNotificationAttachmentOptionsTypeHintKey</span>: <span class="str">"public.mpeg-4"</span>]
        )

        content.attachments = [attachment]

        <span class="kw">let</span> request = <span class="type">UNNotificationRequest</span>(
            identifier: <span class="type">UUID</span>().uuidString,
            content: content,
            trigger: <span class="kw">nil</span>
        )

        <span class="kw">try</span> <span class="kw">await</span> <span class="type">UNUserNotificationCenter</span>.current().add(request)
    }
}</pre>
</div>

<h2>ğŸ¬ 4. ì»¤ìŠ¤í…€ ì•¡ì…˜ (Actions)</h2>
<p>Add buttons to perform actions directly from notifications.</p>

<div class="code-block">
<div class="code-header">NotificationActions.swift â€” Custom Actions</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">UserNotifications</span>

<span class="kw">extension</span> <span class="type">NotificationManager</span> {
    <span class="comment">// ì•¡ì…˜ ì¹´í…Œê³ ë¦¬ ë“±ë¡</span>
    <span class="kw">func</span> registerNotificationCategories() {
        <span class="comment">// ë©”ì‹œì§€ ì•Œë¦¼ ì•¡ì…˜</span>
        <span class="kw">let</span> replyAction = <span class="type">UNTextInputNotificationAction</span>(
            identifier: <span class="str">"REPLY_ACTION"</span>,
            title: <span class="str">"ë‹µì¥"</span>,
            options: [],
            textInputButtonTitle: <span class="str">"ë³´ë‚´ê¸°"</span>,
            textInputPlaceholder: <span class="str">"ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”"</span>
        )

        <span class="kw">let</span> likeAction = <span class="type">UNNotificationAction</span>(
            identifier: <span class="str">"LIKE_ACTION"</span>,
            title: <span class="str">"ğŸ‘"</span>,
            options: [.foreground]
        )

        <span class="kw">let</span> deleteAction = <span class="type">UNNotificationAction</span>(
            identifier: <span class="str">"DELETE_ACTION"</span>,
            title: <span class="str">"ì‚­ì œ"</span>,
            options: [.destructive]
        )

        <span class="kw">let</span> messageCategory = <span class="type">UNNotificationCategory</span>(
            identifier: <span class="str">"MESSAGE_CATEGORY"</span>,
            actions: [replyAction, likeAction, deleteAction],
            intentIdentifiers: [],
            options: []
        )

        <span class="comment">// ë¦¬ë§ˆì¸ë” ì•Œë¦¼ ì•¡ì…˜</span>
        <span class="kw">let</span> completeAction = <span class="type">UNNotificationAction</span>(
            identifier: <span class="str">"COMPLETE_ACTION"</span>,
            title: <span class="str">"ì™„ë£Œ"</span>,
            options: []
        )

        <span class="kw">let</span> snoozeAction = <span class="type">UNNotificationAction</span>(
            identifier: <span class="str">"SNOOZE_ACTION"</span>,
            title: <span class="str">"10ë¶„ ë’¤ ì•Œë¦¼"</span>,
            options: []
        )

        <span class="kw">let</span> reminderCategory = <span class="type">UNNotificationCategory</span>(
            identifier: <span class="str">"REMINDER_CATEGORY"</span>,
            actions: [completeAction, snoozeAction],
            intentIdentifiers: [],
            options: []
        )

        <span class="type">UNUserNotificationCenter</span>.current().setNotificationCategories([
            messageCategory,
            reminderCategory
        ])
    }

    <span class="comment">// ì•¡ì…˜ì´ ìˆëŠ” ì•Œë¦¼ ì „ì†¡</span>
    <span class="kw">func</span> scheduleActionableNotification() <span class="kw">async</span> <span class="kw">throws</span> {
        <span class="kw">let</span> content = <span class="type">UNMutableNotificationContent</span>()
        content.title = <span class="str">"ìƒˆ ë©”ì‹œì§€"</span>
        content.body = <span class="str">"Johnì´ ë©”ì‹œì§€ë¥¼ ë³´ëƒˆìŠµë‹ˆë‹¤"</span>
        content.categoryIdentifier = <span class="str">"MESSAGE_CATEGORY"</span>
        content.sound = .<span class="kw">default</span>

        <span class="kw">let</span> trigger = <span class="type">UNTimeIntervalNotificationTrigger</span>(timeInterval: <span class="str">5</span>, repeats: <span class="kw">false</span>)
        <span class="kw">let</span> request = <span class="type">UNNotificationRequest</span>(
            identifier: <span class="type">UUID</span>().uuidString,
            content: content,
            trigger: trigger
        )

        <span class="kw">try</span> <span class="kw">await</span> <span class="type">UNUserNotificationCenter</span>.current().add(request)
    }
}</pre>
</div>

<h2>ğŸ¯ 5. Delegate ì²˜ë¦¬</h2>
<p>ì•Œë¦¼ ì‘ë‹µê³¼ í¬ê·¸ë¼ìš´ë“œ ì•Œë¦¼ handling.</p>

<div class="code-block">
<div class="code-header">NotificationDelegate.swift â€” Delegate Implementation</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">UserNotifications</span>

<span class="kw">extension</span> <span class="type">NotificationManager</span>: <span class="type">UNUserNotificationCenterDelegate</span> {
    <span class="comment">// í¬ê·¸ë¼ìš´ë“œì—ì„œ ì•Œë¦¼ í‘œì‹œ</span>
    <span class="kw">func</span> userNotificationCenter(
        <span class="kw">_</span> center: <span class="type">UNUserNotificationCenter</span>,
        willPresent notification: <span class="type">UNNotification</span>
    ) <span class="kw">async</span> -> <span class="type">UNNotificationPresentationOptions</span> {
        <span class="comment">// ì•±ì´ í™œì„±í™” ìƒíƒœì¼ ë•Œë„ ì•Œë¦¼ í‘œì‹œ</span>
        <span class="kw">return</span> [.banner, .sound, .badge]
    }

    <span class="comment">// ì•Œë¦¼ ì‘ë‹µ ì²˜ë¦¬ (íƒ­í•˜ê±°ë‚˜ ì•¡ì…˜ ì„ íƒ)</span>
    <span class="kw">func</span> userNotificationCenter(
        <span class="kw">_</span> center: <span class="type">UNUserNotificationCenter</span>,
        didReceive response: <span class="type">UNNotificationResponse</span>
    ) <span class="kw">async</span> {
        <span class="kw">let</span> userInfo = response.notification.request.content.userInfo
        <span class="kw">let</span> actionIdentifier = response.actionIdentifier

        <span class="kw">switch</span> actionIdentifier {
        <span class="kw">case</span> <span class="str">"REPLY_ACTION"</span>:
            <span class="kw">if</span> <span class="kw">let</span> textResponse = response <span class="kw">as</span>? <span class="type">UNTextInputNotificationResponse</span> {
                <span class="kw">let</span> replyText = textResponse.userText
                <span class="comment">// ë‹µì¥ ì²˜ë¦¬</span>
                print(<span class="str">"ë‹µì¥: \(replyText)"</span>)
            }

        <span class="kw">case</span> <span class="str">"LIKE_ACTION"</span>:
            <span class="comment">// ì¢‹ì•„ìš” ì²˜ë¦¬</span>
            print(<span class="str">"ì¢‹ì•„ìš” í´ë¦­"</span>)

        <span class="kw">case</span> <span class="str">"DELETE_ACTION"</span>:
            <span class="comment">// ì‚­ì œ ì²˜ë¦¬</span>
            print(<span class="str">"ì‚­ì œ í´ë¦­"</span>)

        <span class="kw">case</span> <span class="str">"COMPLETE_ACTION"</span>:
            <span class="comment">// ì™„ë£Œ ì²˜ë¦¬</span>
            print(<span class="str">"ì™„ë£Œ í´ë¦­"</span>)

        <span class="kw">case</span> <span class="str">"SNOOZE_ACTION"</span>:
            <span class="comment">// 10ë¶„ ë’¤ ë‹¤ì‹œ ì•Œë¦¼</span>
            <span class="kw">try</span>? <span class="kw">await</span> scheduleTimeNotification(
                title: <span class="str">"ë¦¬ë§ˆì¸ë”"</span>,
                body: <span class="str">"ë‹¤ì‹œ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤"</span>,
                timeInterval: <span class="str">600</span>
            )

        <span class="kw">case</span> <span class="type">UNNotificationDefaultActionIdentifier</span>:
            <span class="comment">// ì•Œë¦¼ íƒ­ (ê¸°ë³¸ ì•¡ì…˜)</span>
            print(<span class="str">"ì•Œë¦¼ íƒ­ë¨"</span>)

        <span class="kw">case</span> <span class="type">UNNotificationDismissActionIdentifier</span>:
            <span class="comment">// ì•Œë¦¼ ë¬´ì‹œ</span>
            print(<span class="str">"ì•Œë¦¼ ë¬´ì‹œë¨"</span>)

        <span class="kw">default</span>:
            <span class="kw">break</span>
        }
    }
}</pre>
</div>

<h2>ğŸ“± 6. ì•Œë¦¼ ê´€ë¦¬</h2>
<p>ì˜ˆì•½ëœ ì•Œë¦¼ì„ ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ.</p>

<div class="code-block">
<div class="code-header">NotificationManagement.swift â€” Notification Management</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">UserNotifications</span>

<span class="kw">extension</span> <span class="type">NotificationManager</span> {
    <span class="comment">// ëŒ€ê¸° ì¤‘ì¸ ì•Œë¦¼ ëª©ë¡</span>
    <span class="kw">func</span> getPendingNotifications() <span class="kw">async</span> -> [<span class="type">UNNotificationRequest</span>] {
        <span class="kw">await</span> <span class="type">UNUserNotificationCenter</span>.current().pendingNotificationRequests()
    }

    <span class="comment">// ì „ë‹¬ëœ ì•Œë¦¼ ëª©ë¡</span>
    <span class="kw">func</span> getDeliveredNotifications() <span class="kw">async</span> -> [<span class="type">UNNotification</span>] {
        <span class="kw">await</span> <span class="type">UNUserNotificationCenter</span>.current().deliveredNotifications()
    }

    <span class="comment">// íŠ¹ì • ì•Œë¦¼ ì·¨ì†Œ</span>
    <span class="kw">func</span> cancelNotification(withIdentifier identifier: <span class="type">String</span>) {
        <span class="type">UNUserNotificationCenter</span>.current().removePendingNotificationRequests(
            withIdentifiers: [identifier]
        )
    }

    <span class="comment">// ëª¨ë“  ì•Œë¦¼ ì·¨ì†Œ</span>
    <span class="kw">func</span> cancelAllNotifications() {
        <span class="type">UNUserNotificationCenter</span>.current().removeAllPendingNotificationRequests()
    }

    <span class="comment">// ì „ë‹¬ëœ ì•Œë¦¼ ì œê±°</span>
    <span class="kw">func</span> removeDeliveredNotification(withIdentifier identifier: <span class="type">String</span>) {
        <span class="type">UNUserNotificationCenter</span>.current().removeDeliveredNotifications(
            withIdentifiers: [identifier]
        )
    }

    <span class="comment">// ë°°ì§€ ìˆ«ì ì´ˆê¸°í™”</span>
    <span class="kw">func</span> clearBadge() {
        <span class="type">Task</span> { <span class="kw">@MainActor</span> <span class="kw">in</span>
            <span class="type">UIApplication</span>.shared.applicationIconBadgeNumber = <span class="str">0</span>
        }
    }
}</pre>
</div>

<h2>ğŸ“± SwiftUI Integration</h2>

<div class="code-block">
<div class="code-header">NotificationDemoView.swift â€” Complete Demo</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>

<span class="kw">struct</span> <span class="type">NotificationDemoView</span>: <span class="type">View</span> {
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> manager = <span class="type">NotificationManager</span>()
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> pendingNotifications: [<span class="type">UNNotificationRequest</span>] = []

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">NavigationStack</span> {
            <span class="type">List</span> {
                <span class="type">Section</span>(<span class="str">"ê¶Œí•œ"</span>) {
                    <span class="kw">if</span> manager.isAuthorized {
                        <span class="type">Label</span>(<span class="str">"ì•Œë¦¼ í—ˆìš©ë¨"</span>, systemImage: <span class="str">"checkmark.circle.fill"</span>)
                            .foregroundStyle(.green)
                    } <span class="kw">else</span> {
                        <span class="type">Button</span>(<span class="str">"ì•Œë¦¼ ê¶Œí•œ ìš”ì²­"</span>) {
                            <span class="type">Task</span> {
                                <span class="kw">try</span>? <span class="kw">await</span> manager.requestAuthorization()
                            }
                        }
                    }
                }

                <span class="type">Section</span>(<span class="str">"ë¡œì»¬ ì•Œë¦¼"</span>) {
                    <span class="type">Button</span>(<span class="str">"5ì´ˆ í›„ ì•Œë¦¼"</span>) {
                        <span class="type">Task</span> {
                            <span class="kw">try</span>? <span class="kw">await</span> manager.scheduleTimeNotification(
                                title: <span class="str">"í…ŒìŠ¤íŠ¸ ì•Œë¦¼"</span>,
                                body: <span class="str">"5ì´ˆê°€ ì§€ë‚¬ìŠµë‹ˆë‹¤"</span>,
                                timeInterval: <span class="str">5</span>
                            )
                        }
                    }

                    <span class="type">Button</span>(<span class="str">"ë§¤ì¼ ì˜¤ì „ 9ì‹œ ì•Œë¦¼"</span>) {
                        <span class="type">Task</span> {
                            <span class="kw">try</span>? <span class="kw">await</span> manager.scheduleDailyNotification(
                                title: <span class="str">"ì¢‹ì€ ì•„ì¹¨!"</span>,
                                body: <span class="str">"ì˜¤ëŠ˜ë„ ì¢‹ì€ í•˜ë£¨ ë˜ì„¸ìš”"</span>,
                                hour: <span class="str">9</span>,
                                minute: <span class="str">0</span>
                            )
                        }
                    }

                    <span class="type">Button</span>(<span class="str">"ì•¡ì…˜ì´ ìˆëŠ” ì•Œë¦¼"</span>) {
                        <span class="type">Task</span> {
                            manager.registerNotificationCategories()
                            <span class="kw">try</span>? <span class="kw">await</span> manager.scheduleActionableNotification()
                        }
                    }
                }

                <span class="type">Section</span>(<span class="str">"ì˜ˆì•½ëœ ì•Œë¦¼ (\(pendingNotifications.count)ê°œ)"</span>) {
                    <span class="type">ForEach</span>(pendingNotifications, id: \.identifier) { notification <span class="kw">in</span>
                        <span class="type">VStack</span>(alignment: .leading) {
                            <span class="type">Text</span>(notification.content.title)
                                .font(.headline)
                            <span class="type">Text</span>(notification.content.body)
                                .font(.caption)
                                .foregroundStyle(.secondary)
                        }
                        .swipeActions {
                            <span class="type">Button</span>(<span class="str">"ì‚­ì œ"</span>, role: .destructive) {
                                manager.cancelNotification(withIdentifier: notification.identifier)
                                loadPendingNotifications()
                            }
                        }
                    }
                }

                <span class="type">Section</span> {
                    <span class="type">Button</span>(<span class="str">"ëª¨ë“  ì•Œë¦¼ ì·¨ì†Œ"</span>, role: .destructive) {
                        manager.cancelAllNotifications()
                        loadPendingNotifications()
                    }

                    <span class="type">Button</span>(<span class="str">"ë°°ì§€ ì´ˆê¸°í™”"</span>) {
                        manager.clearBadge()
                    }
                }
            }
            .navigationTitle(<span class="str">"User Notifications"</span>)
            .task {
                loadPendingNotifications()
            }
            .refreshable {
                loadPendingNotifications()
            }
        }
    }

    <span class="kw">func</span> loadPendingNotifications() {
        <span class="type">Task</span> {
            pendingNotifications = <span class="kw">await</span> manager.getPendingNotifications()
        }
    }
}</pre>
</div>

<h2>ğŸ’¡ HIG Guidelines</h2>

<ul>
<li><strong>ì‹œì˜ì ì ˆì„±:</strong> Only send notifications for important, time-sensitive information</li>
<li><strong>ëª…í™•ì„±:</strong> ì•Œë¦¼ ë‚´ìš©ì„ ê°„ê²°í•˜ê³  ëª…í™•í•˜ê²Œ ì‘ì„±</li>
<li><strong>ì•¡ì…˜:</strong> ì•Œë¦¼ì—ì„œ ë°”ë¡œ ìˆ˜í–‰ ê°€ëŠ¥í•œ ì˜ë¯¸ ìˆëŠ” ì•¡ì…˜ ì œê³µ</li>
<li><strong>íƒ€ì´ë°:</strong> ì‚¬ìš©ìê°€ ë°©í•´ë°›ì§€ ì•ŠëŠ” ì ì ˆí•œ ì‹œê°„ì— ì•Œë¦¼ ì „ì†¡</li>
<li><strong>ê°œì¸í™”:</strong> ì‚¬ìš©ì í–‰ë™ê³¼ ì„ í˜¸ë„ë¥¼ ë°˜ì˜í•œ ì•Œë¦¼</li>
<li><strong>ì œì–´:</strong> Provide settings for users to control notification frequency and type</li>
</ul>

<h2>ğŸ¯ Practical Usage</h2>

<ul>
<li><strong>ë¦¬ë§ˆì¸ë” ì•±:</strong> ì‹œê°„/ìœ„ì¹˜ ê¸°ë°˜ í•  ì¼ ì•Œë¦¼</li>
<li><strong>Messaging Apps:</strong> ìƒˆ ë©”ì‹œì§€ ì•Œë¦¼ + ë¹ ë¥¸ ë‹µì¥</li>
<li><strong>Fitness Apps:</strong> ìš´ë™ ì‹œê°„ ì•Œë¦¼ + ë¯¸ë””ì–´ ì²¨ë¶€</li>
<li><strong>ë°°ë‹¬ ì•±:</strong> ì£¼ë¬¸ ìƒíƒœ ì—…ë°ì´íŠ¸ ì•Œë¦¼</li>
<li><strong>News Apps:</strong> ì†ë³´ ì•Œë¦¼ with ì´ë¯¸ì§€</li>
</ul>

<h2>ğŸ“š Learn More</h2>

<ul>
<li><a href="https://developer.apple.com/documentation/usernotifications">User Notifications ê³µì‹ ë¬¸ì„œ</a></li>
<li><a href="https://developer.apple.com/videos/play/wwdc2023/10134/">WWDC: Update your app for iOS 17 notifications</a></li>
<li><a href="https://developer.apple.com/documentation/usernotifications/sending_notification_requests_to_apns">Sending Notification Requests to APNs</a></li>
<li><a href="https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/">Push Notification Programming Guide</a></li>
</ul>

<div class="info-box">
<strong>âš¡ï¸ íŒ:</strong> Critical Alerts bypass Do Not Disturb mode. They require special Apple entitlement and should only be used for urgent situations (medical, security, etc.).
</div>

<div style="margin-top:48px;padding:24px;background:linear-gradient(135deg,#f5f5f7,#e8e8ed);border-radius:16px;">
  <h2 style="font-size:20px;margin-bottom:12px;">ğŸ“ Apple Official Resources</h2>
  <div style="display:flex;flex-wrap:wrap;gap:12px;">
    <a href="https://developer.apple.com/documentation/usernotifications" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:white;border-radius:10px;text-decoration:none;color:var(--accent);font-weight:600;font-size:14px;border:1px solid var(--border);transition:all .2s;">ğŸ“˜ Documentation</a>
    <a href="https://developer.apple.com/videos/all-videos/?q=User+Notifications" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:white;border-radius:10px;text-decoration:none;color:var(--accent);font-weight:600;font-size:14px;border:1px solid var(--border);transition:all .2s;">ğŸ¬ WWDC Sessions</a>
  </div>
</div>
</article>
</body></html>