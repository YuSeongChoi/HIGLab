{"identifier":{"url":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/07-Activity-Lifecycle","interfaceLanguage":"swift"},"kind":"project","sections":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn how to start, update, and end Live Activities."}]}],"kind":"hero","chapter":"Ring 5: Real-time Updates","title":"Activity Lifecycle Management","estimatedTimeInMinutes":15},{"kind":"tasks","tasks":[{"stepsSection":[{"code":"07-check-permission.swift","caption":[],"type":"step","runtimePreview":null,"media":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Check Live Activity permission."}]}]},{"code":"07-start-activity.swift","caption":[],"type":"step","runtimePreview":null,"media":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Start a new delivery Activity."}]}]}],"anchor":"Starting-an-Activity","title":"Starting an Activity","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Start a new Live Activity with Activity.request."},{"type":"text","text":" "},{"type":"text","text":"You must check user permissions and system limitations."}]}],"mediaPosition":"trailing"}]},{"title":"Updating an Activity","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"text":"Update ContentState to reflect real-time status.","type":"text"}]}],"mediaPosition":"trailing"}],"stepsSection":[{"runtimePreview":null,"type":"step","media":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Update the Activity when delivery status changes."}]}],"caption":[],"code":"07-update-activity.swift"},{"runtimePreview":null,"type":"step","media":null,"content":[{"inlineContent":[{"type":"text","text":"End the Activity when delivery is complete."}],"type":"paragraph"}],"caption":[],"code":"07-end-activity.swift"}],"anchor":"Updating-an-Activity"}]},{"action":{"isActive":true,"identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/08-Push-Updates","type":"reference","overridingTitle":"Get started","overridingTitleInlineContent":[{"type":"text","text":"Get started"}]},"kind":"callToAction","featuredEyebrow":"Tutorial","title":"Push Token Updates","abstract":[{"type":"text","text":"Learn how to remotely update Live Activity via push notifications from the server."}]}],"schemaVersion":{"minor":3,"patch":0,"major":0},"hierarchy":{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents","paths":[["doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents","doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents\/$volume","doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents\/Ring-5:-Real-time-Updates"]],"modules":[{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents\/Ring-1:-Understanding-Live-Activity","projects":[{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/01-Understanding-Live-Activities","sections":[{"kind":"task","reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/01-Understanding-Live-Activities#What-is-Live-Activity"},{"kind":"task","reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/01-Understanding-Live-Activities#Dynamic-Island-Layouts"}]}]},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents\/Ring-2:-Building-Activity-Structure","projects":[{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/02-Activity-Attributes","sections":[{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/02-Activity-Attributes#Designing-Data-Structure","kind":"task"}]},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/03-Activity-Configuration","sections":[{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/03-Activity-Configuration#Widget-Extension-Setup","kind":"task"}]}]},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents\/Ring-3:-Dynamic-Island-UI","projects":[{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/04-Dynamic-Island-Compact","sections":[{"kind":"task","reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/04-Dynamic-Island-Compact#Compact-Layout"}]},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/05-Dynamic-Island-Expanded","sections":[{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/05-Dynamic-Island-Expanded#Expanded-Area-Structure","kind":"task"}]}]},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents\/Ring-4:-Lock-Screen-UI","projects":[{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/06-Lock-Screen-Layout","sections":[{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/06-Lock-Screen-Layout#Lock-Screen-Layout","kind":"task"}]}]},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents\/Ring-5:-Real-time-Updates","projects":[{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/07-Activity-Lifecycle","sections":[{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/07-Activity-Lifecycle#Starting-an-Activity","kind":"task"},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/07-Activity-Lifecycle#Updating-an-Activity","kind":"task"}]},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/08-Push-Updates","sections":[{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/08-Push-Updates#Push-Token-Setup","kind":"task"},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/08-Push-Updates#Server-Implementation","kind":"task"}]}]},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents\/Ring-6:-Testing-and-Advanced-Features","projects":[{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/09-Testing","sections":[{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/09-Testing#Simulator-Testing","kind":"task"},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/09-Testing#Debug-Logging","kind":"task"},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/09-Testing#Check-Your-Understanding","kind":"assessment"}]},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/10-Advanced","sections":[{"kind":"task","reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/10-Advanced#Implementing-Real-time-Timers"},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/10-Advanced#State-Transitions-and-Animation","kind":"task"},{"reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/10-Advanced#Advanced-Debugging-Techniques","kind":"task"},{"kind":"assessment","reference":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/10-Advanced#Check-Your-Understanding"}]}]}]},"metadata":{"role":"project","title":"Activity Lifecycle Management","categoryPathComponent":"Table-of-Contents","category":"Building a Delivery Tracking Live Activity"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/higactivitykit\/07-activity-lifecycle"]}],"references":{"doc://activitykit.HIGActivityKit/tutorials/Table-of-Contents/Ring-5:-Real-time-Updates":{"url":"\/tutorials\/table-of-contents\/ring-5:-real-time-updates","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents\/Ring-5:-Real-time-Updates","kind":"article","abstract":[],"role":"article","type":"topic","title":"Ring 5: Real-time Updates"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/01-Understanding-Live-Activities":{"type":"topic","abstract":[{"text":"Learn the essence of Live Activity as defined by Apple HIG and","type":"text"},{"text":" ","type":"text"},{"text":"the core principles for creating great Live Activities.","type":"text"}],"estimatedTime":"10min","role":"project","title":"Understanding Live Activity","kind":"project","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/01-Understanding-Live-Activities","url":"\/tutorials\/higactivitykit\/01-understanding-live-activities"},"07-start-activity.swift":{"highlights":[{"line":3},{"line":5},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13},{"line":14},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46},{"line":49},{"line":50},{"line":51},{"line":52},{"line":53}],"fileName":"ActivityManager.swift","content":["import ActivityKit","","extension DeliveryActivityManager {","    ","    \/\/ MARK: - Activity 시작","    ","    func startDeliveryActivity(","        orderNumber: String,","        storeName: String,","        estimatedMinutes: Int","    ) async throws {","        \/\/ 1. 권한 확인","        guard await checkPermission() else {","            throw ActivityError.notAuthorized","        }","        ","        \/\/ 2. Attributes 생성 (Static 데이터)","        let attributes = DeliveryAttributes(","            orderNumber: orderNumber,","            storeName: storeName,","            storeImageURL: nil,","            customerAddress: \"서울시 강남구\"","        )","        ","        \/\/ 3. 초기 ContentState 생성","        let initialState = DeliveryAttributes.ContentState(","            status: .preparing,","            estimatedArrival: Date().addingTimeInterval(TimeInterval(estimatedMinutes * 60)),","            driverName: nil,","            driverImageURL: nil","        )","        ","        \/\/ 4. Activity 시작","        let content = ActivityContent(","            state: initialState,","            staleDate: Date().addingTimeInterval(3600) \/\/ 1시간 후 stale 처리","        )","        ","        let activity = try Activity.request(","            attributes: attributes,","            content: content,","            pushType: .token  \/\/ 푸시 업데이트 활성화","        )","        ","        self.currentActivity = activity","        print(\"Activity 시작됨: \\(activity.id)\")","    }","}","","enum ActivityError: Error {","    case notAuthorized","    case alreadyRunning","}"],"identifier":"07-start-activity.swift","syntax":"swift","type":"file","fileType":"swift"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/10-Advanced#Advanced-Debugging-Techniques":{"url":"\/tutorials\/higactivitykit\/10-advanced#Advanced-Debugging-Techniques","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/10-Advanced#Advanced-Debugging-Techniques","kind":"section","abstract":[{"text":"Learn about timers, state transition animations, and advanced debugging techniques.","type":"text"},{"text":" ","type":"text"},{"text":"Master useful patterns for real deployment environments.","type":"text"}],"role":"pseudoSymbol","type":"section","title":"Advanced Debugging Techniques"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/01-Understanding-Live-Activities#Dynamic-Island-Layouts":{"url":"\/tutorials\/higactivitykit\/01-understanding-live-activities#Dynamic-Island-Layouts","abstract":[{"text":"Learn the essence of Live Activity as defined by Apple HIG and","type":"text"},{"text":" ","type":"text"},{"text":"the core principles for creating great Live Activities.","type":"text"}],"role":"pseudoSymbol","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/01-Understanding-Live-Activities#Dynamic-Island-Layouts","kind":"section","title":"Dynamic Island Layouts","type":"section"},"doc://activitykit.HIGActivityKit/tutorials/Table-of-Contents/Ring-4:-Lock-Screen-UI":{"url":"\/tutorials\/table-of-contents\/ring-4:-lock-screen-ui","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents\/Ring-4:-Lock-Screen-UI","kind":"article","abstract":[],"role":"article","type":"topic","title":"Ring 4: Lock Screen UI"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/09-Testing":{"type":"topic","abstract":[{"text":"Learn how to test Live Activity on the simulator and real devices.","type":"text"}],"estimatedTime":"10min","role":"project","title":"Testing Live Activity","kind":"project","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/09-Testing","url":"\/tutorials\/higactivitykit\/09-testing"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/10-Advanced":{"type":"topic","abstract":[{"text":"Learn about timers, state transition animations, and advanced debugging techniques.","type":"text"},{"text":" ","type":"text"},{"text":"Master useful patterns for real deployment environments.","type":"text"}],"estimatedTime":"20min","role":"project","title":"Advanced Live Activity Features","kind":"project","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/10-Advanced","url":"\/tutorials\/higactivitykit\/10-advanced"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/08-Push-Updates#Server-Implementation":{"url":"\/tutorials\/higactivitykit\/08-push-updates#Server-Implementation","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/08-Push-Updates#Server-Implementation","kind":"section","abstract":[{"text":"Learn how to remotely update Live Activity via push notifications from the server.","type":"text"}],"role":"pseudoSymbol","type":"section","title":"Server Implementation"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/02-Activity-Attributes#Designing-Data-Structure":{"url":"\/tutorials\/higactivitykit\/02-activity-attributes#Designing-Data-Structure","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/02-Activity-Attributes#Designing-Data-Structure","kind":"section","abstract":[{"text":"Define ActivityAttributes and ContentState,","type":"text"},{"text":" ","type":"text"},{"text":"the data models for Live Activity.","type":"text"}],"role":"pseudoSymbol","type":"section","title":"Designing Data Structure"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/07-Activity-Lifecycle#Starting-an-Activity":{"url":"\/tutorials\/higactivitykit\/07-activity-lifecycle#Starting-an-Activity","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/07-Activity-Lifecycle#Starting-an-Activity","kind":"section","abstract":[{"text":"Learn how to start, update, and end Live Activities.","type":"text"}],"role":"pseudoSymbol","type":"section","title":"Starting an Activity"},"doc://activitykit.HIGActivityKit/tutorials/Table-of-Contents/Ring-6:-Testing-and-Advanced-Features":{"type":"topic","abstract":[],"role":"article","title":"Ring 6: Testing and Advanced Features","kind":"article","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents\/Ring-6:-Testing-and-Advanced-Features","url":"\/tutorials\/table-of-contents\/ring-6:-testing-and-advanced-features"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/09-Testing#Simulator-Testing":{"url":"\/tutorials\/higactivitykit\/09-testing#Simulator-Testing","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/09-Testing#Simulator-Testing","kind":"section","abstract":[{"text":"Learn how to test Live Activity on the simulator and real devices.","type":"text"}],"role":"pseudoSymbol","type":"section","title":"Simulator Testing"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/02-Activity-Attributes":{"type":"topic","role":"project","kind":"project","url":"\/tutorials\/higactivitykit\/02-activity-attributes","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/02-Activity-Attributes","estimatedTime":"15min","abstract":[{"type":"text","text":"Define ActivityAttributes and ContentState,"},{"type":"text","text":" "},{"type":"text","text":"the data models for Live Activity."}],"title":"Defining ActivityAttributes"},"doc://activitykit.HIGActivityKit/tutorials/Table-of-Contents/Ring-2:-Building-Activity-Structure":{"url":"\/tutorials\/table-of-contents\/ring-2:-building-activity-structure","abstract":[],"role":"article","title":"Ring 2: Building Activity Structure","kind":"article","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents\/Ring-2:-Building-Activity-Structure","type":"topic"},"07-end-activity.swift":{"highlights":[{"line":5},{"line":7},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":21},{"line":22},{"line":23},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46}],"fileName":"ActivityManager.swift","content":["import ActivityKit","","extension DeliveryActivityManager {","    ","    \/\/ MARK: - Activity 종료","    ","    func endDeliveryActivity() async {","        guard let activity = currentActivity else {","            print(\"진행 중인 Activity가 없습니다.\")","            return","        }","        ","        \/\/ 최종 상태로 업데이트","        let finalState = DeliveryAttributes.ContentState(","            status: .delivered,","            estimatedArrival: Date(),","            driverName: activity.content.state.driverName,","            driverImageURL: activity.content.state.driverImageURL","        )","        ","        let finalContent = ActivityContent(","            state: finalState,","            staleDate: nil","        )","        ","        \/\/ 종료 정책 설정","        \/\/ .default: 즉시 종료","        \/\/ .after(Date): 지정 시간까지 표시 후 종료","        \/\/ .immediate: 정말 즉시 종료","        await activity.end(","            finalContent,","            dismissalPolicy: .after(Date().addingTimeInterval(3600)) \/\/ 1시간 후 제거","        )","        ","        self.currentActivity = nil","        print(\"Activity 종료됨\")","    }","    ","    \/\/ 주문 취소 시","    func cancelDeliveryActivity() async {","        guard let activity = currentActivity else { return }","        ","        \/\/ 취소 상태로 종료 (즉시 제거)","        await activity.end(nil, dismissalPolicy: .immediate)","        self.currentActivity = nil","        print(\"Activity 취소됨\")","    }","}"],"identifier":"07-end-activity.swift","syntax":"swift","type":"file","fileType":"swift"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/10-Advanced#State-Transitions-and-Animation":{"type":"section","abstract":[{"text":"Learn about timers, state transition animations, and advanced debugging techniques.","type":"text"},{"text":" ","type":"text"},{"text":"Master useful patterns for real deployment environments.","type":"text"}],"role":"pseudoSymbol","title":"State Transitions and Animation","kind":"section","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/10-Advanced#State-Transitions-and-Animation","url":"\/tutorials\/higactivitykit\/10-advanced#State-Transitions-and-Animation"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/05-Dynamic-Island-Expanded":{"type":"topic","abstract":[{"text":"Implement the Expanded layout shown when long-pressed.","type":"text"},{"text":" ","type":"text"},{"text":"Provide the richest information and interaction.","type":"text"}],"estimatedTime":"20min","role":"project","title":"Dynamic Island - Expanded Layout","kind":"project","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/05-Dynamic-Island-Expanded","url":"\/tutorials\/higactivitykit\/05-dynamic-island-expanded"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/08-Push-Updates":{"type":"topic","role":"project","kind":"project","url":"\/tutorials\/higactivitykit\/08-push-updates","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/08-Push-Updates","estimatedTime":"15min","abstract":[{"type":"text","text":"Learn how to remotely update Live Activity via push notifications from the server."}],"title":"Push Token Updates"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/10-Advanced#Implementing-Real-time-Timers":{"url":"\/tutorials\/higactivitykit\/10-advanced#Implementing-Real-time-Timers","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/10-Advanced#Implementing-Real-time-Timers","kind":"section","abstract":[{"text":"Learn about timers, state transition animations, and advanced debugging techniques.","type":"text"},{"text":" ","type":"text"},{"text":"Master useful patterns for real deployment environments.","type":"text"}],"role":"pseudoSymbol","type":"section","title":"Implementing Real-time Timers"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/06-Lock-Screen-Layout":{"type":"topic","role":"project","kind":"project","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/06-Lock-Screen-Layout","url":"\/tutorials\/higactivitykit\/06-lock-screen-layout","estimatedTime":"15min","abstract":[{"text":"Design the Live Activity layout displayed on the lock screen.","type":"text"},{"text":" ","type":"text"},{"text":"Similar to widgets but with real-time update capability.","type":"text"}],"title":"Lock Screen Live Activity"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/06-Lock-Screen-Layout#Lock-Screen-Layout":{"url":"\/tutorials\/higactivitykit\/06-lock-screen-layout#Lock-Screen-Layout","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/06-Lock-Screen-Layout#Lock-Screen-Layout","kind":"section","abstract":[{"type":"text","text":"Design the Live Activity layout displayed on the lock screen."},{"type":"text","text":" "},{"type":"text","text":"Similar to widgets but with real-time update capability."}],"role":"pseudoSymbol","type":"section","title":"Lock Screen Layout"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/05-Dynamic-Island-Expanded#Expanded-Area-Structure":{"url":"\/tutorials\/higactivitykit\/05-dynamic-island-expanded#Expanded-Area-Structure","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/05-Dynamic-Island-Expanded#Expanded-Area-Structure","kind":"section","abstract":[{"type":"text","text":"Implement the Expanded layout shown when long-pressed."},{"type":"text","text":" "},{"type":"text","text":"Provide the richest information and interaction."}],"role":"pseudoSymbol","type":"section","title":"Expanded Area Structure"},"07-update-activity.swift":{"highlights":[],"fileName":"ActivityManager.swift","content":["import ActivityKit","","extension DeliveryActivityManager {","    ","    \/\/ MARK: - Activity 업데이트","    ","    func updateDeliveryStatus(","        to status: DeliveryStatus,","        driverName: String? = nil,","        newEstimatedMinutes: Int? = nil","    ) async {","        guard let activity = currentActivity else {","            print(\"진행 중인 Activity가 없습니다.\")","            return","        }","        ","        \/\/ 새로운 ContentState 생성","        let estimatedArrival: Date","        if let minutes = newEstimatedMinutes {","            estimatedArrival = Date().addingTimeInterval(TimeInterval(minutes * 60))","        } else {","            estimatedArrival = activity.content.state.estimatedArrival","        }","        ","        let updatedState = DeliveryAttributes.ContentState(","            status: status,","            estimatedArrival: estimatedArrival,","            driverName: driverName ?? activity.content.state.driverName,","            driverImageURL: activity.content.state.driverImageURL","        )","        ","        \/\/ Activity 업데이트","        let content = ActivityContent(","            state: updatedState,","            staleDate: Date().addingTimeInterval(3600)","        )","        ","        await activity.update(content)","        print(\"Activity 업데이트됨: \\(status.displayName)\")","    }","    ","    \/\/ 배달원 배정 시","    func assignDriver(name: String, imageURL: URL?) async {","        await updateDeliveryStatus(to: .pickedUp, driverName: name)","    }","    ","    \/\/ 근처 도착 시","    func driverNearby() async {","        await updateDeliveryStatus(to: .nearby, newEstimatedMinutes: 3)","    }","}"],"identifier":"07-update-activity.swift","syntax":"swift","type":"file","fileType":"swift"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/04-Dynamic-Island-Compact":{"type":"topic","abstract":[{"text":"Implement Compact and Minimal states,","type":"text"},{"text":" ","type":"text"},{"text":"the smallest layouts for Dynamic Island.","type":"text"}],"estimatedTime":"15min","role":"project","title":"Dynamic Island - Compact Layout","kind":"project","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/04-Dynamic-Island-Compact","url":"\/tutorials\/higactivitykit\/04-dynamic-island-compact"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/07-Activity-Lifecycle#Updating-an-Activity":{"url":"\/tutorials\/higactivitykit\/07-activity-lifecycle#Updating-an-Activity","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/07-Activity-Lifecycle#Updating-an-Activity","kind":"section","abstract":[{"text":"Learn how to start, update, and end Live Activities.","type":"text"}],"role":"pseudoSymbol","type":"section","title":"Updating an Activity"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/03-Activity-Configuration#Widget-Extension-Setup":{"url":"\/tutorials\/higactivitykit\/03-activity-configuration#Widget-Extension-Setup","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/03-Activity-Configuration#Widget-Extension-Setup","kind":"section","abstract":[{"text":"Configure Live Activity in Widget Extension","type":"text"},{"text":" ","type":"text"},{"text":"and create the basic layout structure.","type":"text"}],"role":"pseudoSymbol","type":"section","title":"Widget Extension Setup"},"07-check-permission.swift":{"highlights":[],"fileName":"ActivityManager.swift","content":["import ActivityKit","","\/\/ MARK: - Activity Manager","\/\/ Live Activity 생명주기 관리","","@MainActor","class DeliveryActivityManager: ObservableObject {","    @Published var currentActivity: Activity<DeliveryAttributes>?","    ","    \/\/ MARK: - 권한 확인","    ","    var areActivitiesEnabled: Bool {","        ActivityAuthorizationInfo().areActivitiesEnabled","    }","    ","    func checkPermission() async -> Bool {","        \/\/ 설정에서 Live Activities가 켜져 있는지 확인","        guard areActivitiesEnabled else {","            print(\"Live Activities가 비활성화되어 있습니다.\")","            print(\"설정 > 앱 > Live Activities 활성화 필요\")","            return false","        }","        ","        \/\/ 진행 중인 Activity 수 제한 확인 (앱당 1개 권장)","        let runningActivities = Activity<DeliveryAttributes>.activities","        if runningActivities.count >= 1 {","            print(\"이미 진행 중인 배달이 있습니다.\")","            return false","        }","        ","        return true","    }","}"],"identifier":"07-check-permission.swift","syntax":"swift","type":"file","fileType":"swift"},"doc://activitykit.HIGActivityKit/tutorials/Table-of-Contents/Ring-3:-Dynamic-Island-UI":{"url":"\/tutorials\/table-of-contents\/ring-3:-dynamic-island-ui","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents\/Ring-3:-Dynamic-Island-UI","kind":"article","abstract":[],"role":"article","type":"topic","title":"Ring 3: Dynamic Island UI"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/10-Advanced#Check-Your-Understanding":{"url":"\/tutorials\/higactivitykit\/10-advanced#Check-Your-Understanding","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/10-Advanced#Check-Your-Understanding","title":"Check Your Understanding","type":"link","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://activitykit.HIGActivityKit/tutorials/Table-of-Contents":{"type":"topic","role":"overview","kind":"overview","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents","url":"\/tutorials\/table-of-contents","abstract":[{"type":"text","text":"Using ActivityKit, implement a Live Activity that displays real-time delivery status"},{"type":"text","text":" "},{"type":"text","text":"on the lock screen and Dynamic Island."}],"title":"Building a Delivery Tracking App"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/08-Push-Updates#Push-Token-Setup":{"type":"section","abstract":[{"text":"Learn how to remotely update Live Activity via push notifications from the server.","type":"text"}],"role":"pseudoSymbol","title":"Push Token Setup","kind":"section","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/08-Push-Updates#Push-Token-Setup","url":"\/tutorials\/higactivitykit\/08-push-updates#Push-Token-Setup"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/09-Testing#Check-Your-Understanding":{"url":"\/tutorials\/higactivitykit\/09-testing#Check-Your-Understanding","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/09-Testing#Check-Your-Understanding","title":"Check Your Understanding","type":"link","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://activitykit.HIGActivityKit/tutorials/Table-of-Contents/Ring-1:-Understanding-Live-Activity":{"url":"\/tutorials\/table-of-contents\/ring-1:-understanding-live-activity","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/Table-of-Contents\/Ring-1:-Understanding-Live-Activity","kind":"article","abstract":[],"role":"article","type":"topic","title":"Ring 1: Understanding Live Activity"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/04-Dynamic-Island-Compact#Compact-Layout":{"type":"section","abstract":[{"text":"Implement Compact and Minimal states,","type":"text"},{"text":" ","type":"text"},{"text":"the smallest layouts for Dynamic Island.","type":"text"}],"role":"pseudoSymbol","title":"Compact Layout","kind":"section","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/04-Dynamic-Island-Compact#Compact-Layout","url":"\/tutorials\/higactivitykit\/04-dynamic-island-compact#Compact-Layout"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/09-Testing#Debug-Logging":{"url":"\/tutorials\/higactivitykit\/09-testing#Debug-Logging","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/09-Testing#Debug-Logging","kind":"section","abstract":[{"text":"Learn how to test Live Activity on the simulator and real devices.","type":"text"}],"role":"pseudoSymbol","type":"section","title":"Debug Logging"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/03-Activity-Configuration":{"type":"topic","abstract":[{"text":"Configure Live Activity in Widget Extension","type":"text"},{"text":" ","type":"text"},{"text":"and create the basic layout structure.","type":"text"}],"estimatedTime":"15min","role":"project","title":"Setting Up ActivityConfiguration","kind":"project","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/03-Activity-Configuration","url":"\/tutorials\/higactivitykit\/03-activity-configuration"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/07-Activity-Lifecycle":{"type":"topic","role":"project","kind":"project","url":"\/tutorials\/higactivitykit\/07-activity-lifecycle","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/07-Activity-Lifecycle","estimatedTime":"15min","abstract":[{"type":"text","text":"Learn how to start, update, and end Live Activities."}],"title":"Activity Lifecycle Management"},"doc://activitykit.HIGActivityKit/tutorials/HIGActivityKit/01-Understanding-Live-Activities#What-is-Live-Activity":{"url":"\/tutorials\/higactivitykit\/01-understanding-live-activities#What-is-Live-Activity","abstract":[{"type":"text","text":"Learn the essence of Live Activity as defined by Apple HIG and"},{"type":"text","text":" "},{"text":"the core principles for creating great Live Activities.","type":"text"}],"role":"pseudoSymbol","title":"What is Live Activity?","kind":"section","identifier":"doc:\/\/activitykit.HIGActivityKit\/tutorials\/HIGActivityKit\/01-Understanding-Live-Activities#What-is-Live-Activity","type":"section"}}}