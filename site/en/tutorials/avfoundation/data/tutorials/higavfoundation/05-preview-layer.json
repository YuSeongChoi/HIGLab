{"sections":[{"title":"Preview Layer (AVCaptureVideoPreviewLayer)","kind":"hero","content":[{"inlineContent":[{"type":"text","text":"Display the camera preview on screen with AVCaptureVideoPreviewLayer."},{"type":"text","text":" "},{"type":"text","text":"Implement real-time preview by connecting SwiftUI and UIKit."}],"type":"paragraph"}],"chapter":"Photos and Videos","estimatedTimeInMinutes":20},{"tasks":[{"contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"text":"AVCaptureVideoPreviewLayer is a subclass of CALayer.","type":"text"},{"text":" ","type":"text"},{"text":"It renders real-time video from the capture session to the screen.","type":"text"}]},{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Key Features:","type":"text"}],"type":"strong"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Hardware-accelerated rendering","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Automatic rotation support","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Video gravity settings","type":"text"}],"type":"paragraph"}]}]}],"kind":"contentAndMedia","mediaPosition":"trailing"}],"title":"Understanding PreviewLayer","stepsSection":[{"type":"step","caption":[],"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Understand the basic concept of PreviewLayer."},{"text":" ","type":"text"},{"type":"text","text":"When connected to a session, video is automatically displayed."}]}],"media":null,"code":"05-preview-concept.swift"},{"type":"step","caption":[],"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Learn about videoGravity options.","type":"text"}]}],"media":null,"code":"05-video-gravity.swift"}],"anchor":"Understanding-PreviewLayer"},{"contentSection":[{"kind":"contentAndMedia","mediaPosition":"trailing","content":[{"inlineContent":[{"type":"text","text":"To use PreviewLayer in SwiftUI, UIViewRepresentable is needed."},{"text":" ","type":"text"},{"type":"text","text":"Wrap UIKit views for use in SwiftUI."}],"type":"paragraph"}]}],"stepsSection":[{"type":"step","caption":[],"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a UIView to hold the PreviewLayer."},{"text":" ","type":"text"},{"text":"Ensure the layer size adjusts to fit the view.","type":"text"}]}],"media":null,"code":"05-preview-uiview.swift"},{"type":"step","caption":[],"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Implement UIViewRepresentable.","type":"text"},{"text":" ","type":"text"},{"text":"Define makeUIView and updateUIView.","type":"text"}]}],"media":null,"code":"05-uiview-representable.swift"},{"type":"step","caption":[],"runtimePreview":null,"content":[{"inlineContent":[{"text":"Create previewLayer in CameraManager.","type":"text"},{"text":" ","type":"text"},{"text":"Connect to session and set up video preview.","type":"text"}],"type":"paragraph"}],"media":null,"code":"05-create-preview-layer.swift"},{"media":null,"caption":[],"content":[{"inlineContent":[{"type":"text","text":"Display preview in SwiftUI view."},{"type":"text","text":" "},{"text":"Place CameraPreviewView on screen.","type":"text"}],"type":"paragraph"}],"runtimePreview":null,"type":"step","code":"05-show-preview.swift"}],"anchor":"Connecting-SwiftUI-with-UIViewRepresentable","title":"Connecting SwiftUI with UIViewRepresentable"},{"contentSection":[{"mediaPosition":"trailing","content":[{"inlineContent":[{"text":"The preview layer should rotate with the device.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Adjust the connection’s videoRotationAngle."}],"type":"paragraph"}],"kind":"contentAndMedia"}],"stepsSection":[{"type":"step","code":"05-rotation-angle.swift","caption":[],"media":null,"content":[{"inlineContent":[{"text":"Calculate rotation angle based on device orientation.","type":"text"},{"text":" ","type":"text"},{"text":"Determine angle based on UIDevice.orientation.","type":"text"}],"type":"paragraph"}],"runtimePreview":null},{"media":null,"caption":[],"content":[{"type":"paragraph","inlineContent":[{"text":"Set up orientation change detection.","type":"text"},{"text":" ","type":"text"},{"text":"Detect orientation changes with NotificationCenter.","type":"text"}]}],"runtimePreview":null,"type":"step","code":"05-orientation-observer.swift"},{"media":null,"caption":[],"content":[{"inlineContent":[{"type":"text","text":"Apply preview layer rotation."},{"type":"text","text":" "},{"type":"text","text":"Update videoRotationAngle."}],"type":"paragraph"}],"runtimePreview":null,"type":"step","code":"05-apply-rotation.swift"}],"anchor":"Handling-Screen-Rotation","title":"Handling Screen Rotation"},{"stepsSection":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Add tap gesture.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Detect tap location and pass to CameraManager."}]}],"caption":[],"code":"05-tap-gesture.swift","type":"step","runtimePreview":null,"media":null},{"media":null,"code":"05-convert-point.swift","runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"text":"Convert screen coordinates to camera coordinates.","type":"text"},{"text":" ","type":"text"},{"text":"Use captureDevicePointConverted.","type":"text"}]}],"caption":[]},{"caption":[],"content":[{"inlineContent":[{"text":"Set focus and exposure.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Lock device with lockForConfiguration and configure settings."}],"type":"paragraph"}],"code":"05-focus-exposure.swift","media":null,"runtimePreview":null,"type":"step"}],"contentSection":[{"kind":"contentAndMedia","content":[{"inlineContent":[{"text":"Focus on the point when the user taps the screen.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Convert PreviewLayer coordinates to camera coordinates."}],"type":"paragraph"}],"mediaPosition":"trailing"}],"anchor":"Tap-to-Focus","title":"Tap to Focus"}],"kind":"tasks"},{"kind":"assessments","anchor":"Check-Your-Understanding","assessments":[{"content":[],"choices":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":".resizeAspect"}]}],"justification":[{"type":"paragraph","inlineContent":[{"type":"text","text":"resizeAspect maintains ratio but may create letterboxes."}]}],"isCorrect":false},{"justification":[{"inlineContent":[{"type":"text","text":"resizeAspectFill fills the screen while maintaining aspect ratio."}],"type":"paragraph"}],"content":[{"type":"paragraph","inlineContent":[{"code":".resizeAspectFill","type":"codeVoice"}]}],"isCorrect":true},{"content":[{"inlineContent":[{"type":"codeVoice","code":".resize"}],"type":"paragraph"}],"justification":[{"inlineContent":[{"type":"text","text":"resize ignores ratio and fills the screen, causing distortion."}],"type":"paragraph"}],"isCorrect":false}],"type":"multiple-choice","title":[{"inlineContent":[{"type":"text","text":"Which videoGravity option fills the preview while maintaining aspect ratio?"}],"type":"paragraph"}]},{"content":[],"choices":[{"justification":[{"inlineContent":[{"text":"UIViewRepresentable allows using UIView in SwiftUI.","type":"text"}],"type":"paragraph"}],"content":[{"inlineContent":[{"type":"codeVoice","code":"UIViewRepresentable"}],"type":"paragraph"}],"isCorrect":true},{"justification":[{"inlineContent":[{"text":"This protocol is used to wrap UIViewController.","type":"text"}],"type":"paragraph"}],"content":[{"inlineContent":[{"code":"UIViewControllerRepresentable","type":"codeVoice"}],"type":"paragraph"}],"isCorrect":false},{"isCorrect":false,"content":[{"inlineContent":[{"type":"codeVoice","code":"ObservableObject"}],"type":"paragraph"}],"justification":[{"inlineContent":[{"type":"text","text":"ObservableObject is a protocol for data binding."}],"type":"paragraph"}]}],"type":"multiple-choice","title":[{"inlineContent":[{"text":"Which protocol is adopted to use UIKit views in SwiftUI?","type":"text"}],"type":"paragraph"}]}]},{"abstract":[{"type":"text","text":"Scan barcodes and QR codes with AVCaptureMetadataOutput."},{"type":"text","text":" "},{"type":"text","text":"Recognize and process metadata in real-time."}],"title":"Metadata Capture (Barcodes)","kind":"callToAction","action":{"type":"reference","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture","overridingTitle":"Get started","isActive":true,"overridingTitleInlineContent":[{"type":"text","text":"Get started"}]},"featuredEyebrow":"Tutorial"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/higavfoundation\/05-preview-layer"]}],"metadata":{"categoryPathComponent":"Table-of-Contents","category":"Building a Camera App with AVFoundation","title":"Preview Layer (AVCaptureVideoPreviewLayer)","role":"project"},"hierarchy":{"paths":[["doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents","doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/$volume","doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Photos-and-Videos"]],"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents","modules":[{"projects":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction","sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction#What-is-AVFoundation","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction#Capture-Pipeline-Structure","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction#Check-Your-Understanding","kind":"assessment"}]},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup","sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Initializing-Capture-Session","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Setting-Up-Camera-Input","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Starting-and-Stopping-Session","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Check-Your-Understanding","kind":"assessment"}]}],"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Building-Foundations"},{"projects":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture","sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Photo-Output-Setup","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Implementing-Photo-Capture","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Saving-Photos","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#SwiftUI-Camera-View","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Check-Your-Understanding","kind":"assessment"}]},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording","sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Movie-File-Output-Setup","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Starting-and-Stopping-Recording","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Recording-UI-Implementation","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Check-Your-Understanding","kind":"assessment"}]},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer","sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Understanding-PreviewLayer","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Connecting-SwiftUI-with-UIViewRepresentable","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Handling-Screen-Rotation","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Tap-to-Focus","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Check-Your-Understanding","kind":"assessment"}]}],"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Photos-and-Videos"},{"projects":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture","sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Metadata-Output-Setup","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Processing-Barcode-Recognition","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Displaying-Scan-Area","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Complete-Barcode-Scanner","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Check-Your-Understanding","kind":"assessment"}]},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording","sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#AVAudioRecorder-Setup","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Recording-Control","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Level-Monitoring","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Recording-File-Management","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Check-Your-Understanding","kind":"assessment"}]}],"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Advanced-Capture"},{"projects":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing","sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Composition-Basics","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Video-Trimming","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Video-Merging","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Export","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Check-Your-Understanding","kind":"assessment"}]},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session","sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#AVAudioSession-Basics","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Categories-and-Options","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Interruption-Handling","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Route-Change-Handling","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Check-Your-Understanding","kind":"assessment"}]},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter","sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Video-Data-Output-Setup","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Applying-CIFilter","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Rendering-with-Metal","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Filter-Selection-UI","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Check-Your-Understanding","kind":"assessment"}]}],"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Editing-and-Finishing"}]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer"},"schemaVersion":{"minor":3,"major":0,"patch":0},"kind":"project","references":{"05-convert-point.swift":{"fileName":"CameraManager.swift","syntax":"swift","fileType":"swift","highlights":[],"content":["import AVFoundation","import UIKit","","extension CameraManager {","    ","    \/\/ MARK: - Point Conversion","    ","    \/\/\/ 화면 좌표를 카메라 좌표로 변환","    \/\/\/ - Parameter viewPoint: 화면상의 좌표 (0~뷰크기)","    \/\/\/ - Returns: 카메라 좌표 (0~1)","    func convertToDevicePoint(_ viewPoint: CGPoint, in previewLayer: AVCaptureVideoPreviewLayer) -> CGPoint {","        \/\/ PreviewLayer의 메서드 사용","        \/\/ 화면 좌표 → 정규화된 카메라 좌표 (0.0 ~ 1.0)","        return previewLayer.captureDevicePointConverted(fromLayerPoint: viewPoint)","    }","    ","    \/\/\/ 카메라 좌표를 화면 좌표로 변환","    \/\/\/ - Parameter devicePoint: 카메라 좌표 (0~1)","    \/\/\/ - Returns: 화면상의 좌표","    func convertToViewPoint(_ devicePoint: CGPoint, in previewLayer: AVCaptureVideoPreviewLayer) -> CGPoint {","        \/\/ 정규화된 카메라 좌표 → 화면 좌표","        return previewLayer.layerPointConverted(fromCaptureDevicePoint: devicePoint)","    }","}"],"type":"file","identifier":"05-convert-point.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/07-Audio-Recording#AVAudioRecorder-Setup":{"url":"\/tutorials\/higavfoundation\/07-audio-recording#AVAudioRecorder-Setup","type":"section","abstract":[{"type":"text","text":"Record high-quality audio with AVAudioRecorder."},{"text":" ","type":"text"},{"text":"Implement recording level monitoring and file management.","type":"text"}],"title":"AVAudioRecorder Setup","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#AVAudioRecorder-Setup","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/03-Photo-Capture":{"title":"Photo Capture (AVCapturePhotoOutput)","estimatedTime":"25min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/03-photo-capture","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture","abstract":[{"type":"text","text":"Capture high-quality photos using AVCapturePhotoOutput."},{"type":"text","text":" "},{"type":"text","text":"Implement various capture options like flash, HDR, and Live Photo."}],"kind":"project"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/07-Audio-Recording#Check-Your-Understanding":{"url":"\/tutorials\/higavfoundation\/07-audio-recording#Check-Your-Understanding","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Check-Your-Understanding","type":"link","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/03-Photo-Capture#Implementing-Photo-Capture":{"url":"\/tutorials\/higavfoundation\/03-photo-capture#Implementing-Photo-Capture","type":"section","abstract":[{"type":"text","text":"Capture high-quality photos using AVCapturePhotoOutput."},{"type":"text","text":" "},{"text":"Implement various capture options like flash, HDR, and Live Photo.","type":"text"}],"title":"Implementing Photo Capture","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Implementing-Photo-Capture","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/09-Audio-Session#Interruption-Handling":{"title":"Interruption Handling","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/09-audio-session#Interruption-Handling","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Interruption-Handling","abstract":[{"type":"text","text":"Manage your app’s audio behavior with AVAudioSession."},{"text":" ","type":"text"},{"type":"text","text":"Implement categories, modes, and interruption handling."}],"kind":"section"},"05-focus-exposure.swift":{"fileName":"CameraManager.swift","syntax":"swift","fileType":"swift","highlights":[{"line":5},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48}],"type":"file","content":["import AVFoundation","","extension CameraManager {","    ","    \/\/ MARK: - Focus & Exposure","    ","    \/\/\/ 특정 지점에 초점과 노출 맞추기","    \/\/\/ - Parameter point: 정규화된 좌표 (0~1)","    func focusAndExpose(at point: CGPoint) {","        guard let device = currentVideoDevice else { return }","        ","        do {","            \/\/ 장치 잠금","            try device.lockForConfiguration()","            defer { device.unlockForConfiguration() }","            ","            \/\/ 초점 설정","            if device.isFocusPointOfInterestSupported {","                device.focusPointOfInterest = point","                device.focusMode = .autoFocus","            }","            ","            \/\/ 노출 설정","            if device.isExposurePointOfInterestSupported {","                device.exposurePointOfInterest = point","                device.exposureMode = .autoExpose","            }","            ","            \/\/ 설정 완료 후 다시 연속 모드로 전환","            if device.isFocusModeSupported(.continuousAutoFocus) {","                device.focusMode = .continuousAutoFocus","            }","            if device.isExposureModeSupported(.continuousAutoExposure) {","                device.exposureMode = .continuousAutoExposure","            }","            ","        } catch {","            print(\"초점\/노출 설정 실패: \\(error)\")","        }","    }","    ","    \/\/\/ 탭 위치에 초점 표시 애니메이션을 위한 좌표 반환","    func handleTapToFocus(at devicePoint: CGPoint) {","        focusAndExpose(at: devicePoint)","        ","        \/\/ 햅틱 피드백","        let generator = UIImpactFeedbackGenerator(style: .light)","        generator.impactOccurred()","    }","}"],"identifier":"05-focus-exposure.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/03-Photo-Capture#Check-Your-Understanding":{"url":"\/tutorials\/higavfoundation\/03-photo-capture#Check-Your-Understanding","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Check-Your-Understanding","type":"link","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/07-Audio-Recording":{"title":"Audio Recording (AVAudioRecorder)","estimatedTime":"20min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/07-audio-recording","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording","abstract":[{"text":"Record high-quality audio with AVAudioRecorder.","type":"text"},{"text":" ","type":"text"},{"text":"Implement recording level monitoring and file management.","type":"text"}],"kind":"project"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/10-Realtime-Filter":{"title":"Real-time Filters (CIFilter)","estimatedTime":"30min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/10-realtime-filter","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter","abstract":[{"type":"text","text":"Apply Core Image filters to real-time camera preview."},{"type":"text","text":" "},{"type":"text","text":"Implement frame-by-frame processing with AVCaptureVideoDataOutput."}],"kind":"project"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/05-Preview-Layer#Tap-to-Focus":{"title":"Tap to Focus","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/05-preview-layer#Tap-to-Focus","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Tap-to-Focus","abstract":[{"text":"Display the camera preview on screen with AVCaptureVideoPreviewLayer.","type":"text"},{"text":" ","type":"text"},{"text":"Implement real-time preview by connecting SwiftUI and UIKit.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/06-Metadata-Capture#Displaying-Scan-Area":{"url":"\/tutorials\/higavfoundation\/06-metadata-capture#Displaying-Scan-Area","type":"section","abstract":[{"text":"Scan barcodes and QR codes with AVCaptureMetadataOutput.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Recognize and process metadata in real-time."}],"title":"Displaying Scan Area","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Displaying-Scan-Area","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/10-Realtime-Filter#Check-Your-Understanding":{"url":"\/tutorials\/higavfoundation\/10-realtime-filter#Check-Your-Understanding","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Check-Your-Understanding","type":"link","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/08-Video-Editing#Video-Merging":{"title":"Video Merging","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/08-video-editing#Video-Merging","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Video-Merging","abstract":[{"text":"Edit videos with AVMutableComposition.","type":"text"},{"text":" ","type":"text"},{"text":"Implement trimming, merging, and audio mixing.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/Table-of-Contents/Building-Foundations":{"title":"Building Foundations","type":"topic","role":"article","url":"\/tutorials\/table-of-contents\/building-foundations","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Building-Foundations","abstract":[],"kind":"article"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/06-Metadata-Capture#Complete-Barcode-Scanner":{"title":"Complete Barcode Scanner","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/06-metadata-capture#Complete-Barcode-Scanner","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Complete-Barcode-Scanner","abstract":[{"text":"Scan barcodes and QR codes with AVCaptureMetadataOutput.","type":"text"},{"text":" ","type":"text"},{"text":"Recognize and process metadata in real-time.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/02-AVCaptureSession-Setup#Initializing-Capture-Session":{"url":"\/tutorials\/higavfoundation\/02-avcapturesession-setup#Initializing-Capture-Session","type":"section","abstract":[{"text":"AVCaptureSession is the core of the capture pipeline.","type":"text"},{"text":" ","type":"text"},{"text":"It manages real-time capture by connecting camera input and various outputs.","type":"text"}],"title":"Initializing Capture Session","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Initializing-Capture-Session","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/10-Realtime-Filter#Applying-CIFilter":{"url":"\/tutorials\/higavfoundation\/10-realtime-filter#Applying-CIFilter","type":"section","abstract":[{"text":"Apply Core Image filters to real-time camera preview.","type":"text"},{"text":" ","type":"text"},{"text":"Implement frame-by-frame processing with AVCaptureVideoDataOutput.","type":"text"}],"title":"Applying CIFilter","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Applying-CIFilter","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/07-Audio-Recording#Recording-File-Management":{"title":"Recording File Management","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/07-audio-recording#Recording-File-Management","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Recording-File-Management","abstract":[{"text":"Record high-quality audio with AVAudioRecorder.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Implement recording level monitoring and file management."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/02-AVCaptureSession-Setup#Check-Your-Understanding":{"url":"\/tutorials\/higavfoundation\/02-avcapturesession-setup#Check-Your-Understanding","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Check-Your-Understanding","type":"link","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/10-Realtime-Filter#Filter-Selection-UI":{"title":"Filter Selection UI","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/10-realtime-filter#Filter-Selection-UI","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Filter-Selection-UI","abstract":[{"text":"Apply Core Image filters to real-time camera preview.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Implement frame-by-frame processing with AVCaptureVideoDataOutput."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/Table-of-Contents":{"title":"Create Your Own Camera App","type":"topic","role":"overview","url":"\/tutorials\/table-of-contents","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents","abstract":[{"type":"text","text":"Build a polished camera app with SwiftUI that supports"},{"type":"text","text":" "},{"type":"text","text":"photo capture, video recording, barcode scanning, and real-time filters"},{"type":"text","text":" "},{"type":"text","text":"using AVFoundation’s powerful media capture capabilities."}],"kind":"overview"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/03-Photo-Capture#Saving-Photos":{"title":"Saving Photos","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/03-photo-capture#Saving-Photos","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Saving-Photos","abstract":[{"type":"text","text":"Capture high-quality photos using AVCapturePhotoOutput."},{"type":"text","text":" "},{"text":"Implement various capture options like flash, HDR, and Live Photo.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/02-AVCaptureSession-Setup#Starting-and-Stopping-Session":{"title":"Starting and Stopping Session","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/02-avcapturesession-setup#Starting-and-Stopping-Session","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Starting-and-Stopping-Session","abstract":[{"type":"text","text":"AVCaptureSession is the core of the capture pipeline."},{"type":"text","text":" "},{"type":"text","text":"It manages real-time capture by connecting camera input and various outputs."}],"kind":"section"},"05-create-preview-layer.swift":{"fileName":"CameraManager.swift","syntax":"swift","fileType":"swift","highlights":[],"content":["import AVFoundation","import SwiftUI","","@MainActor","class CameraManager: ObservableObject {","    let captureSession = AVCaptureSession()","    private let sessionQueue = DispatchQueue(label: \"camera.session.queue\")","    ","    \/\/\/ 프리뷰 레이어 (읽기 전용)","    private(set) var previewLayer: AVCaptureVideoPreviewLayer?","    ","    @Published var isSessionRunning = false","    ","    \/\/ MARK: - Setup Preview Layer","    ","    func setupPreviewLayer() -> AVCaptureVideoPreviewLayer {","        let layer = AVCaptureVideoPreviewLayer(session: captureSession)","        layer.videoGravity = .resizeAspectFill","        ","        \/\/ 비디오 연결 설정","        if let connection = layer.connection {","            \/\/ 초기 방향 설정 (iOS 17+)","            if connection.isVideoRotationAngleSupported(0) {","                connection.videoRotationAngle = 90 \/\/ 세로 모드","            }","        }","        ","        self.previewLayer = layer","        return layer","    }","}"],"type":"file","identifier":"05-create-preview-layer.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/06-Metadata-Capture":{"title":"Metadata Capture (Barcodes)","estimatedTime":"20min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/06-metadata-capture","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture","abstract":[{"type":"text","text":"Scan barcodes and QR codes with AVCaptureMetadataOutput."},{"type":"text","text":" "},{"text":"Recognize and process metadata in real-time.","type":"text"}],"kind":"project"},"05-show-preview.swift":{"fileName":"CameraView.swift","syntax":"swift","fileType":"swift","highlights":[],"content":["import SwiftUI","import AVFoundation","","struct CameraView: View {","    @StateObject private var cameraManager = CameraManager()","    ","    var body: some View {","        ZStack {","            \/\/ 카메라 프리뷰","            CameraPreviewView(session: cameraManager.captureSession)","                .ignoresSafeArea()","            ","            \/\/ 컨트롤 오버레이","            VStack {","                \/\/ 상단 바","                HStack {","                    Spacer()","                    ","                    \/\/ 플래시 토글","                    Button(action: {}) {","                        Image(systemName: \"bolt.slash.fill\")","                            .font(.title2)","                            .foregroundColor(.white)","                    }","                    .padding()","                }","                ","                Spacer()","                ","                \/\/ 하단 컨트롤","                bottomControls","            }","        }","        .task {","            await cameraManager.requestCameraPermission()","            cameraManager.configureSession()","            cameraManager.startSession()","        }","    }","    ","    private var bottomControls: some View {","        HStack(spacing: 60) {","            \/\/ 갤러리","            thumbnailButton","            ","            \/\/ 셔터","            shutterButton","            ","            \/\/ 카메라 전환","            switchButton","        }","        .padding(.bottom, 30)","    }","    ","    private var thumbnailButton: some View {","        RoundedRectangle(cornerRadius: 8)","            .fill(Color.gray.opacity(0.3))","            .frame(width: 50, height: 50)","    }","    ","    private var shutterButton: some View {","        Button(action: { cameraManager.capturePhoto() }) {","            ZStack {","                Circle().stroke(Color.white, lineWidth: 4)","                Circle().fill(Color.white).padding(6)","            }","            .frame(width: 70, height: 70)","        }","    }","    ","    private var switchButton: some View {","        Button(action: { cameraManager.switchCamera() }) {","            Image(systemName: \"arrow.triangle.2.circlepath.camera\")","                .font(.title)","                .foregroundColor(.white)","        }","        .frame(width: 50, height: 50)","    }","}"],"type":"file","identifier":"05-show-preview.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/02-AVCaptureSession-Setup":{"title":"AVCaptureSession Setup","estimatedTime":"20min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/02-avcapturesession-setup","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup","abstract":[{"type":"text","text":"AVCaptureSession is the core of the capture pipeline."},{"type":"text","text":" "},{"text":"It manages real-time capture by connecting camera input and various outputs.","type":"text"}],"kind":"project"},"05-preview-uiview.swift":{"fileName":"CameraPreviewView.swift","syntax":"swift","fileType":"swift","highlights":[],"type":"file","content":["import AVFoundation","import UIKit","","\/\/\/ PreviewLayer를 담는 UIView","class PreviewView: UIView {","    ","    \/\/ 레이어 클래스를 AVCaptureVideoPreviewLayer로 지정","    override class var layerClass: AnyClass {","        return AVCaptureVideoPreviewLayer.self","    }","    ","    \/\/ 타입 캐스팅된 레이어 접근","    var previewLayer: AVCaptureVideoPreviewLayer {","        return layer as! AVCaptureVideoPreviewLayer","    }","    ","    \/\/ 세션 연결","    var session: AVCaptureSession? {","        get { previewLayer.session }","        set { previewLayer.session = newValue }","    }","    ","    override init(frame: CGRect) {","        super.init(frame: frame)","        setupLayer()","    }","    ","    required init?(coder: NSCoder) {","        super.init(coder: coder)","        setupLayer()","    }","    ","    private func setupLayer() {","        \/\/ 비디오 중력 설정","        previewLayer.videoGravity = .resizeAspectFill","    }","}"],"identifier":"05-preview-uiview.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/05-Preview-Layer#Understanding-PreviewLayer":{"url":"\/tutorials\/higavfoundation\/05-preview-layer#Understanding-PreviewLayer","type":"section","abstract":[{"type":"text","text":"Display the camera preview on screen with AVCaptureVideoPreviewLayer."},{"type":"text","text":" "},{"type":"text","text":"Implement real-time preview by connecting SwiftUI and UIKit."}],"title":"Understanding PreviewLayer","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Understanding-PreviewLayer","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/01-AVFoundation-Introduction#What-is-AVFoundation":{"url":"\/tutorials\/higavfoundation\/01-avfoundation-introduction#What-is-AVFoundation","type":"section","abstract":[{"text":"AVFoundation is the core framework for media work on Apple platforms.","type":"text"},{"text":" ","type":"text"},{"text":"It provides various media features from camera capture to audio recording and video editing.","type":"text"}],"title":"What is AVFoundation?","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction#What-is-AVFoundation","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/09-Audio-Session#AVAudioSession-Basics":{"title":"AVAudioSession Basics","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/09-audio-session#AVAudioSession-Basics","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#AVAudioSession-Basics","abstract":[{"text":"Manage your app’s audio behavior with AVAudioSession.","type":"text"},{"text":" ","type":"text"},{"text":"Implement categories, modes, and interruption handling.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/10-Realtime-Filter#Video-Data-Output-Setup":{"title":"Video Data Output Setup","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/10-realtime-filter#Video-Data-Output-Setup","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Video-Data-Output-Setup","abstract":[{"type":"text","text":"Apply Core Image filters to real-time camera preview."},{"type":"text","text":" "},{"type":"text","text":"Implement frame-by-frame processing with AVCaptureVideoDataOutput."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/05-Preview-Layer#Handling-Screen-Rotation":{"url":"\/tutorials\/higavfoundation\/05-preview-layer#Handling-Screen-Rotation","type":"section","abstract":[{"type":"text","text":"Display the camera preview on screen with AVCaptureVideoPreviewLayer."},{"type":"text","text":" "},{"type":"text","text":"Implement real-time preview by connecting SwiftUI and UIKit."}],"title":"Handling Screen Rotation","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Handling-Screen-Rotation","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/04-Video-Recording#Movie-File-Output-Setup":{"url":"\/tutorials\/higavfoundation\/04-video-recording#Movie-File-Output-Setup","type":"section","abstract":[{"type":"text","text":"Record video using AVCaptureMovieFileOutput."},{"text":" ","type":"text"},{"text":"Implement start\/stop recording, timer, and file saving.","type":"text"}],"title":"Movie File Output Setup","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Movie-File-Output-Setup","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/09-Audio-Session#Categories-and-Options":{"title":"Categories and Options","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/09-audio-session#Categories-and-Options","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Categories-and-Options","abstract":[{"type":"text","text":"Manage your app’s audio behavior with AVAudioSession."},{"type":"text","text":" "},{"type":"text","text":"Implement categories, modes, and interruption handling."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/01-AVFoundation-Introduction#Capture-Pipeline-Structure":{"url":"\/tutorials\/higavfoundation\/01-avfoundation-introduction#Capture-Pipeline-Structure","type":"section","abstract":[{"type":"text","text":"AVFoundation is the core framework for media work on Apple platforms."},{"type":"text","text":" "},{"text":"It provides various media features from camera capture to audio recording and video editing.","type":"text"}],"title":"Capture Pipeline Structure","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction#Capture-Pipeline-Structure","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/10-Realtime-Filter#Rendering-with-Metal":{"url":"\/tutorials\/higavfoundation\/10-realtime-filter#Rendering-with-Metal","type":"section","abstract":[{"text":"Apply Core Image filters to real-time camera preview.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Implement frame-by-frame processing with AVCaptureVideoDataOutput."}],"title":"Rendering with Metal","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Rendering-with-Metal","kind":"section"},"05-video-gravity.swift":{"fileName":"PreviewGravity.swift","syntax":"swift","fileType":"swift","highlights":[],"content":["import AVFoundation","","\/\/ Video Gravity 옵션 비교","\/\/","\/\/ 1. resizeAspect (기본값)","\/\/    - 비율 유지","\/\/    - 전체 이미지가 보임","\/\/    - 레터박스\/필러박스 발생 가능","\/\/","\/\/ 2. resizeAspectFill (추천)","\/\/    - 비율 유지","\/\/    - 화면을 완전히 채움","\/\/    - 이미지 일부가 잘릴 수 있음","\/\/","\/\/ 3. resize","\/\/    - 비율 무시","\/\/    - 화면을 완전히 채움","\/\/    - 이미지 왜곡 발생","","enum VideoGravityExample {","    static func demonstrateGravity() {","        let previewLayer = AVCaptureVideoPreviewLayer()","        ","        \/\/ 비율 유지, 레터박스 허용","        previewLayer.videoGravity = .resizeAspect","        ","        \/\/ 비율 유지, 화면 채움 (가장 많이 사용)","        previewLayer.videoGravity = .resizeAspectFill","        ","        \/\/ 비율 무시, 화면 채움 (왜곡됨)","        previewLayer.videoGravity = .resize","    }","}"],"type":"file","identifier":"05-video-gravity.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/08-Video-Editing#Check-Your-Understanding":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Check-Your-Understanding","title":"Check Your Understanding","url":"\/tutorials\/higavfoundation\/08-video-editing#Check-Your-Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/05-Preview-Layer#Check-Your-Understanding":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Check-Your-Understanding","title":"Check Your Understanding","url":"\/tutorials\/higavfoundation\/05-preview-layer#Check-Your-Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/08-Video-Editing#Composition-Basics":{"title":"Composition Basics","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/08-video-editing#Composition-Basics","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Composition-Basics","abstract":[{"type":"text","text":"Edit videos with AVMutableComposition."},{"type":"text","text":" "},{"type":"text","text":"Implement trimming, merging, and audio mixing."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/06-Metadata-Capture#Check-Your-Understanding":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Check-Your-Understanding","url":"\/tutorials\/higavfoundation\/06-metadata-capture#Check-Your-Understanding","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"type":"link"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/07-Audio-Recording#Level-Monitoring":{"title":"Level Monitoring","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/07-audio-recording#Level-Monitoring","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Level-Monitoring","abstract":[{"text":"Record high-quality audio with AVAudioRecorder.","type":"text"},{"type":"text","text":" "},{"text":"Implement recording level monitoring and file management.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/04-Video-Recording#Recording-UI-Implementation":{"url":"\/tutorials\/higavfoundation\/04-video-recording#Recording-UI-Implementation","type":"section","abstract":[{"text":"Record video using AVCaptureMovieFileOutput.","type":"text"},{"type":"text","text":" "},{"text":"Implement start\/stop recording, timer, and file saving.","type":"text"}],"title":"Recording UI Implementation","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Recording-UI-Implementation","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/06-Metadata-Capture#Processing-Barcode-Recognition":{"title":"Processing Barcode Recognition","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/06-metadata-capture#Processing-Barcode-Recognition","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Processing-Barcode-Recognition","abstract":[{"type":"text","text":"Scan barcodes and QR codes with AVCaptureMetadataOutput."},{"type":"text","text":" "},{"type":"text","text":"Recognize and process metadata in real-time."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/Table-of-Contents/Editing-and-Finishing":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Editing-and-Finishing","type":"topic","title":"Editing and Finishing","abstract":[],"url":"\/tutorials\/table-of-contents\/editing-and-finishing","kind":"article","role":"article"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/01-AVFoundation-Introduction#Check-Your-Understanding":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction#Check-Your-Understanding","url":"\/tutorials\/higavfoundation\/01-avfoundation-introduction#Check-Your-Understanding","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"type":"link"},"doc://avfoundation.HIGAVFoundation/tutorials/Table-of-Contents/Photos-and-Videos":{"url":"\/tutorials\/table-of-contents\/photos-and-videos","type":"topic","abstract":[],"title":"Photos and Videos","role":"article","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Photos-and-Videos","kind":"article"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/09-Audio-Session":{"title":"Audio Session Management","estimatedTime":"20min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/09-audio-session","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session","abstract":[{"text":"Manage your app’s audio behavior with AVAudioSession.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Implement categories, modes, and interruption handling."}],"kind":"project"},"doc://avfoundation.HIGAVFoundation/tutorials/Table-of-Contents/Advanced-Capture":{"url":"\/tutorials\/table-of-contents\/advanced-capture","type":"topic","abstract":[],"title":"Advanced Capture","role":"article","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Advanced-Capture","kind":"article"},"05-preview-concept.swift":{"fileName":"PreviewConcept.swift","syntax":"swift","fileType":"swift","highlights":[],"content":["import AVFoundation","import UIKit","","\/\/ AVCaptureVideoPreviewLayer 개념","\/\/","\/\/ AVCaptureVideoPreviewLayer는 CALayer의 서브클래스입니다.","\/\/ 캡처 세션의 실시간 비디오 스트림을 화면에 표시합니다.","\/\/","\/\/ 특징:","\/\/ - 하드웨어 가속 렌더링","\/\/ - 낮은 지연 시간","\/\/ - 자동 회전 지원","\/\/ - 다양한 비디오 중력 옵션","","class PreviewLayerExample {","    let captureSession = AVCaptureSession()","    var previewLayer: AVCaptureVideoPreviewLayer?","    ","    func setupPreviewLayer(in view: UIView) {","        \/\/ PreviewLayer 생성","        let previewLayer = AVCaptureVideoPreviewLayer(session: captureSession)","        ","        \/\/ 비디오 중력 설정 (화면 채우기)","        previewLayer.videoGravity = .resizeAspectFill","        ","        \/\/ 뷰 크기에 맞게 레이어 크기 설정","        previewLayer.frame = view.bounds","        ","        \/\/ 뷰의 레이어에 추가","        view.layer.addSublayer(previewLayer)","        ","        self.previewLayer = previewLayer","    }","}"],"type":"file","identifier":"05-preview-concept.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/06-Metadata-Capture#Metadata-Output-Setup":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Metadata-Output-Setup","type":"section","title":"Metadata Output Setup","abstract":[{"text":"Scan barcodes and QR codes with AVCaptureMetadataOutput.","type":"text"},{"text":" ","type":"text"},{"text":"Recognize and process metadata in real-time.","type":"text"}],"url":"\/tutorials\/higavfoundation\/06-metadata-capture#Metadata-Output-Setup","kind":"section","role":"pseudoSymbol"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/08-Video-Editing#Video-Trimming":{"title":"Video Trimming","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/08-video-editing#Video-Trimming","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Video-Trimming","abstract":[{"type":"text","text":"Edit videos with AVMutableComposition."},{"type":"text","text":" "},{"type":"text","text":"Implement trimming, merging, and audio mixing."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/03-Photo-Capture#SwiftUI-Camera-View":{"title":"SwiftUI Camera View","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/03-photo-capture#SwiftUI-Camera-View","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#SwiftUI-Camera-View","abstract":[{"text":"Capture high-quality photos using AVCapturePhotoOutput.","type":"text"},{"text":" ","type":"text"},{"text":"Implement various capture options like flash, HDR, and Live Photo.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/04-Video-Recording#Starting-and-Stopping-Recording":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Starting-and-Stopping-Recording","type":"section","title":"Starting and Stopping Recording","abstract":[{"type":"text","text":"Record video using AVCaptureMovieFileOutput."},{"type":"text","text":" "},{"type":"text","text":"Implement start\/stop recording, timer, and file saving."}],"url":"\/tutorials\/higavfoundation\/04-video-recording#Starting-and-Stopping-Recording","kind":"section","role":"pseudoSymbol"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/03-Photo-Capture#Photo-Output-Setup":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Photo-Output-Setup","type":"section","title":"Photo Output Setup","abstract":[{"text":"Capture high-quality photos using AVCapturePhotoOutput.","type":"text"},{"text":" ","type":"text"},{"text":"Implement various capture options like flash, HDR, and Live Photo.","type":"text"}],"url":"\/tutorials\/higavfoundation\/03-photo-capture#Photo-Output-Setup","kind":"section","role":"pseudoSymbol"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/05-Preview-Layer#Connecting-SwiftUI-with-UIViewRepresentable":{"title":"Connecting SwiftUI with UIViewRepresentable","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/05-preview-layer#Connecting-SwiftUI-with-UIViewRepresentable","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Connecting-SwiftUI-with-UIViewRepresentable","abstract":[{"text":"Display the camera preview on screen with AVCaptureVideoPreviewLayer.","type":"text"},{"text":" ","type":"text"},{"text":"Implement real-time preview by connecting SwiftUI and UIKit.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/09-Audio-Session#Check-Your-Understanding":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Check-Your-Understanding","title":"Check Your Understanding","url":"\/tutorials\/higavfoundation\/09-audio-session#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"type":"link"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/07-Audio-Recording#Recording-Control":{"title":"Recording Control","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/07-audio-recording#Recording-Control","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Recording-Control","abstract":[{"type":"text","text":"Record high-quality audio with AVAudioRecorder."},{"type":"text","text":" "},{"text":"Implement recording level monitoring and file management.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/02-AVCaptureSession-Setup#Setting-Up-Camera-Input":{"title":"Setting Up Camera Input","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/02-avcapturesession-setup#Setting-Up-Camera-Input","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Setting-Up-Camera-Input","abstract":[{"text":"AVCaptureSession is the core of the capture pipeline.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"It manages real-time capture by connecting camera input and various outputs."}],"kind":"section"},"05-apply-rotation.swift":{"fileName":"CameraManager.swift","syntax":"swift","fileType":"swift","highlights":[{"line":4},{"line":6},{"line":8},{"line":9},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":19},{"line":20},{"line":21},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43}],"content":["import AVFoundation","import UIKit","","extension CameraManager {","    ","    \/\/ MARK: - Apply Rotation","    ","    func updatePreviewLayerRotation(for orientation: UIDeviceOrientation) {","        guard let connection = previewLayer?.connection else { return }","        ","        let angle = videoRotationAngle(for: orientation)","        ","        \/\/ iOS 17+: videoRotationAngle 사용","        if connection.isVideoRotationAngleSupported(angle) {","            connection.videoRotationAngle = angle","        }","    }","    ","    \/\/\/ 출력의 비디오 방향도 함께 업데이트 (사진\/비디오 저장용)","    func updateOutputRotation(for orientation: UIDeviceOrientation) {","        let angle = videoRotationAngle(for: orientation)","        ","        \/\/ Photo Output 연결","        if let photoConnection = photoOutput.connection(with: .video),","           photoConnection.isVideoRotationAngleSupported(angle) {","            photoConnection.videoRotationAngle = angle","        }","        ","        \/\/ Movie Output 연결","        if let movieConnection = movieOutput.connection(with: .video),","           movieConnection.isVideoRotationAngleSupported(angle) {","            movieConnection.videoRotationAngle = angle","        }","    }","    ","    private func videoRotationAngle(for orientation: UIDeviceOrientation) -> CGFloat {","        switch orientation {","        case .portrait: return 90","        case .portraitUpsideDown: return 270","        case .landscapeLeft: return 0","        case .landscapeRight: return 180","        default: return 90","        }","    }","}"],"type":"file","identifier":"05-apply-rotation.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/01-AVFoundation-Introduction":{"title":"Introduction to AVFoundation & Architecture","estimatedTime":"15min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/01-avfoundation-introduction","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction","abstract":[{"type":"text","text":"AVFoundation is the core framework for media work on Apple platforms."},{"type":"text","text":" "},{"type":"text","text":"It provides various media features from camera capture to audio recording and video editing."}],"kind":"project"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/09-Audio-Session#Route-Change-Handling":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Route-Change-Handling","type":"section","title":"Route Change Handling","url":"\/tutorials\/higavfoundation\/09-audio-session#Route-Change-Handling","abstract":[{"text":"Manage your app’s audio behavior with AVAudioSession.","type":"text"},{"text":" ","type":"text"},{"text":"Implement categories, modes, and interruption handling.","type":"text"}],"kind":"section","role":"pseudoSymbol"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/05-Preview-Layer":{"url":"\/tutorials\/higavfoundation\/05-preview-layer","estimatedTime":"20min","type":"topic","abstract":[{"text":"Display the camera preview on screen with AVCaptureVideoPreviewLayer.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Implement real-time preview by connecting SwiftUI and UIKit."}],"title":"Preview Layer (AVCaptureVideoPreviewLayer)","role":"project","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer","kind":"project"},"05-rotation-angle.swift":{"fileName":"CameraManager.swift","syntax":"swift","fileType":"swift","highlights":[],"content":["import AVFoundation","import UIKit","","extension CameraManager {","    ","    \/\/ MARK: - Video Rotation","    ","    \/\/\/ 기기 방향에 따른 비디오 회전 각도 계산","    func videoRotationAngle(for orientation: UIDeviceOrientation) -> CGFloat {","        switch orientation {","        case .portrait:","            return 90","        case .portraitUpsideDown:","            return 270","        case .landscapeLeft:","            return 0","        case .landscapeRight:","            return 180","        default:","            return 90 \/\/ 기본값: 세로","        }","    }","    ","    \/\/\/ 현재 기기 방향에 맞는 회전 각도","    var currentVideoRotationAngle: CGFloat {","        videoRotationAngle(for: UIDevice.current.orientation)","    }","}"],"type":"file","identifier":"05-rotation-angle.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/04-Video-Recording":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording","type":"topic","estimatedTime":"25min","title":"Video Recording","abstract":[{"text":"Record video using AVCaptureMovieFileOutput.","type":"text"},{"type":"text","text":" "},{"text":"Implement start\/stop recording, timer, and file saving.","type":"text"}],"url":"\/tutorials\/higavfoundation\/04-video-recording","kind":"project","role":"project"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/08-Video-Editing":{"title":"Video Editing (AVMutableComposition)","estimatedTime":"30min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/08-video-editing","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing","abstract":[{"type":"text","text":"Edit videos with AVMutableComposition."},{"text":" ","type":"text"},{"type":"text","text":"Implement trimming, merging, and audio mixing."}],"kind":"project"},"05-orientation-observer.swift":{"highlights":[{"line":3},{"line":5},{"line":6},{"line":7},{"line":8},{"line":10},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":35},{"line":36},{"line":37},{"line":38}],"content":["import AVFoundation","import UIKit","import Combine","","@MainActor","class CameraManager: ObservableObject {","    let captureSession = AVCaptureSession()","    var previewLayer: AVCaptureVideoPreviewLayer?","    ","    private var cancellables = Set<AnyCancellable>()","    ","    \/\/ MARK: - Orientation Observer","    ","    func setupOrientationObserver() {","        \/\/ 기기 방향 변경 감지 활성화","        UIDevice.current.beginGeneratingDeviceOrientationNotifications()","        ","        \/\/ 방향 변경 노티피케이션 구독","        NotificationCenter.default.publisher(for: UIDevice.orientationDidChangeNotification)","            .sink { [weak self] _ in","                self?.handleOrientationChange()","            }","            .store(in: &cancellables)","    }","    ","    private func handleOrientationChange() {","        let orientation = UIDevice.current.orientation","        ","        \/\/ 유효한 방향인지 확인 (faceUp, faceDown 제외)","        guard orientation.isPortrait || orientation.isLandscape else { return }","        ","        \/\/ 프리뷰 레이어 회전 적용","        updatePreviewLayerRotation(for: orientation)","    }","    ","    deinit {","        UIDevice.current.endGeneratingDeviceOrientationNotifications()","    }","}"],"syntax":"swift","type":"file","identifier":"05-orientation-observer.swift","fileName":"CameraManager.swift","fileType":"swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/04-Video-Recording#Check-Your-Understanding":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Check-Your-Understanding","url":"\/tutorials\/higavfoundation\/04-video-recording#Check-Your-Understanding","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"type":"link"},"05-tap-gesture.swift":{"fileName":"CameraPreviewView.swift","syntax":"swift","fileType":"swift","highlights":[],"content":["import SwiftUI","import AVFoundation","","struct CameraPreviewView: UIViewRepresentable {","    let session: AVCaptureSession","    let onTap: (CGPoint) -> Void","    ","    func makeUIView(context: Context) -> PreviewView {","        let view = PreviewView()","        view.session = session","        ","        \/\/ 탭 제스처 추가","        let tapGesture = UITapGestureRecognizer(","            target: context.coordinator,","            action: #selector(Coordinator.handleTap(_:))","        )","        view.addGestureRecognizer(tapGesture)","        ","        return view","    }","    ","    func updateUIView(_ uiView: PreviewView, context: Context) {","        uiView.session = session","    }","    ","    func makeCoordinator() -> Coordinator {","        Coordinator(self)","    }","    ","    \/\/ MARK: - Coordinator","    ","    class Coordinator: NSObject {","        let parent: CameraPreviewView","        ","        init(_ parent: CameraPreviewView) {","            self.parent = parent","        }","        ","        @objc func handleTap(_ gesture: UITapGestureRecognizer) {","            guard let view = gesture.view as? PreviewView else { return }","            ","            \/\/ 탭 위치 (뷰 좌표계)","            let tapPoint = gesture.location(in: view)","            ","            \/\/ 카메라 좌표계로 변환","            let devicePoint = view.previewLayer.captureDevicePointConverted(","                fromLayerPoint: tapPoint","            )","            ","            parent.onTap(devicePoint)","        }","    }","}","","class PreviewView: UIView {","    override class var layerClass: AnyClass { AVCaptureVideoPreviewLayer.self }","    var previewLayer: AVCaptureVideoPreviewLayer { layer as! AVCaptureVideoPreviewLayer }","    var session: AVCaptureSession? {","        get { previewLayer.session }","        set { previewLayer.session = newValue }","    }","}"],"type":"file","identifier":"05-tap-gesture.swift"},"05-uiview-representable.swift":{"fileName":"CameraPreviewView.swift","syntax":"swift","fileType":"swift","highlights":[{"line":1},{"line":4},{"line":5},{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":24},{"line":28}],"content":["import SwiftUI","import AVFoundation","","\/\/\/ SwiftUI에서 카메라 프리뷰를 표시하기 위한 UIViewRepresentable","struct CameraPreviewView: UIViewRepresentable {","    let session: AVCaptureSession","    ","    func makeUIView(context: Context) -> PreviewView {","        let view = PreviewView()","        view.session = session","        view.previewLayer.videoGravity = .resizeAspectFill","        return view","    }","    ","    func updateUIView(_ uiView: PreviewView, context: Context) {","        \/\/ 세션이 변경되면 업데이트","        uiView.session = session","    }","}","","\/\/\/ PreviewLayer를 담는 UIView","class PreviewView: UIView {","    override class var layerClass: AnyClass {","        AVCaptureVideoPreviewLayer.self","    }","    ","    var previewLayer: AVCaptureVideoPreviewLayer {","        layer as! AVCaptureVideoPreviewLayer","    }","    ","    var session: AVCaptureSession? {","        get { previewLayer.session }","        set { previewLayer.session = newValue }","    }","}"],"type":"file","identifier":"05-uiview-representable.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/08-Video-Editing#Export":{"title":"Export","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/08-video-editing#Export","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Export","abstract":[{"text":"Edit videos with AVMutableComposition.","type":"text"},{"text":" ","type":"text"},{"text":"Implement trimming, merging, and audio mixing.","type":"text"}],"kind":"section"}}}