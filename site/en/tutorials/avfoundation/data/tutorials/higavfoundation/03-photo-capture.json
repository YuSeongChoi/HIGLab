{"sections":[{"chapter":"Photos and Videos","title":"Photo Capture (AVCapturePhotoOutput)","kind":"hero","estimatedTimeInMinutes":25,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Capture high-quality photos using AVCapturePhotoOutput."},{"type":"text","text":" "},{"type":"text","text":"Implement various capture options like flash, HDR, and Live Photo."}]}]},{"kind":"tasks","tasks":[{"anchor":"Photo-Output-Setup","contentSection":[{"mediaPosition":"trailing","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"AVCapturePhotoOutput handles still image capture."},{"type":"text","text":" "},{"type":"text","text":"It supports various formats including HEIF, JPEG, and RAW."}]}],"kind":"contentAndMedia"}],"title":"Photo Output Setup","stepsSection":[{"type":"step","caption":[],"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add photoOutput property to CameraManager."}]}],"media":null,"code":"03-photo-output-property.swift"},{"type":"step","caption":[],"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add photoOutput to the session."},{"type":"text","text":" "},{"type":"text","text":"Check if addition is possible with canAddOutput()."}]}],"media":null,"code":"03-add-photo-output.swift"},{"type":"step","caption":[],"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Check supported features."},{"type":"text","text":" "},{"type":"text","text":"Supported features may vary by device."}]}],"media":null,"code":"03-check-capabilities.swift"}]},{"anchor":"Implementing-Photo-Capture","contentSection":[{"mediaPosition":"trailing","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Set capture options with AVCapturePhotoSettings and"},{"type":"text","text":" "},{"type":"text","text":"capture photos with the capturePhoto() method."}]}],"kind":"contentAndMedia"}],"title":"Implementing Photo Capture","stepsSection":[{"type":"step","caption":[],"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Implement PhotoCaptureDelegate."},{"type":"text","text":" "},{"type":"text","text":"Adopt AVCapturePhotoCaptureDelegate to receive callbacks on capture completion."}]}],"media":null,"code":"03-photo-delegate.swift"},{"type":"step","caption":[],"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Configure capture settings."},{"type":"text","text":" "},{"type":"text","text":"Set flash, HDR, etc. with AVCapturePhotoSettings."}]}],"media":null,"code":"03-photo-settings.swift"},{"type":"step","caption":[],"runtimePreview":null,"content":[{"inlineContent":[{"text":"Implement the capturePhoto() method.","type":"text"},{"text":" ","type":"text"},{"text":"Pass the delegate along with the capture request.","type":"text"}],"type":"paragraph"}],"media":null,"code":"03-capture-photo.swift"},{"content":[{"inlineContent":[{"text":"Implement capture completion processing.","type":"text"},{"type":"text","text":" "},{"text":"Extract image data in didFinishProcessingPhoto.","type":"text"}],"type":"paragraph"}],"media":null,"caption":[],"runtimePreview":null,"type":"step","code":"03-process-photo.swift"}]},{"anchor":"Saving-Photos","contentSection":[{"mediaPosition":"trailing","kind":"contentAndMedia","content":[{"inlineContent":[{"text":"Save captured photos to the photo library.","type":"text"},{"text":" ","type":"text"},{"text":"Use PHPhotoLibrary to save to albums.","type":"text"}],"type":"paragraph"}]}],"title":"Saving Photos","stepsSection":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Add photo library permission to Info.plist.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"The "},{"code":"NSPhotoLibraryAddUsageDescription","type":"codeVoice"},{"type":"text","text":" key is required."}]}],"media":null,"caption":[],"runtimePreview":null,"type":"step","code":"03-photo-library-plist.swift"},{"content":[{"type":"paragraph","inlineContent":[{"text":"Implement PhotoLibraryService.","type":"text"},{"text":" ","type":"text"},{"text":"Save photos with PHPhotoLibrary.","type":"text"}]}],"media":null,"caption":[],"runtimePreview":null,"type":"step","code":"03-photo-library-service.swift"},{"content":[{"type":"paragraph","inlineContent":[{"text":"Connect auto-save after capture completion.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Call PhotoLibraryService from the delegate."}]}],"media":null,"caption":[],"runtimePreview":null,"type":"step","code":"03-auto-save.swift"}]},{"contentSection":[{"mediaPosition":"trailing","kind":"contentAndMedia","content":[{"inlineContent":[{"text":"Create the camera interface with SwiftUI.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Arrange the capture button and preview."}],"type":"paragraph"}]}],"title":"SwiftUI Camera View","anchor":"SwiftUI-Camera-View","stepsSection":[{"type":"step","code":"03-camera-view.swift","caption":[],"media":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Create the basic structure of CameraView.","type":"text"}]}],"runtimePreview":null},{"type":"step","code":"03-capture-button.swift","caption":[],"media":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Add the capture button.","type":"text"},{"text":" ","type":"text"},{"text":"Call capturePhoto() on tap.","type":"text"}]}],"runtimePreview":null},{"media":null,"caption":[],"content":[{"type":"paragraph","inlineContent":[{"text":"Display captured image preview.","type":"text"},{"text":" ","type":"text"},{"text":"Bind to UI with @Published property.","type":"text"}]}],"runtimePreview":null,"type":"step","code":"03-photo-preview.swift"}]}]},{"assessments":[{"content":[],"choices":[{"justification":[{"inlineContent":[{"text":"This method is called before capture starts.","type":"text"}],"type":"paragraph"}],"content":[{"inlineContent":[{"type":"codeVoice","code":"photoOutput(_:willBeginCaptureFor:)"}],"type":"paragraph"}],"isCorrect":false},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"photoOutput(_:didFinishProcessingPhoto:error:)"}]}],"justification":[{"type":"paragraph","inlineContent":[{"text":"This method allows access to image data through the AVCapturePhoto object.","type":"text"}]}],"isCorrect":true},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"photoOutput(_:didCapturePhotoFor:)"}]}],"justification":[{"type":"paragraph","inlineContent":[{"text":"This method is called right after capture but before image processing.","type":"text"}]}],"isCorrect":false}],"type":"multiple-choice","title":[{"inlineContent":[{"text":"Which delegate method receives image data when photo capture is complete?","type":"text"}],"type":"paragraph"}]},{"title":[{"inlineContent":[{"type":"text","text":"Which property in AVCapturePhotoSettings sets the flash mode?"}],"type":"paragraph"}],"type":"multiple-choice","content":[],"choices":[{"justification":[{"inlineContent":[{"type":"text","text":"flashMode can be set to .auto, .on, or .off."}],"type":"paragraph"}],"content":[{"inlineContent":[{"code":"flashMode","type":"codeVoice"}],"type":"paragraph"}],"isCorrect":true},{"justification":[{"inlineContent":[{"type":"text","text":"torchMode is a property of AVCaptureDevice."}],"type":"paragraph"}],"content":[{"type":"paragraph","inlineContent":[{"code":"torchMode","type":"codeVoice"}]}],"isCorrect":false},{"justification":[{"inlineContent":[{"type":"text","text":"lightMode doesn‚Äôt exist in AVCapturePhotoSettings."}],"type":"paragraph"}],"content":[{"inlineContent":[{"type":"codeVoice","code":"lightMode"}],"type":"paragraph"}],"isCorrect":false}]}],"anchor":"Check-Your-Understanding","kind":"assessments"},{"kind":"callToAction","title":"Video Recording","featuredEyebrow":"Tutorial","abstract":[{"type":"text","text":"Record video using AVCaptureMovieFileOutput."},{"type":"text","text":" "},{"text":"Implement start\/stop recording, timer, and file saving.","type":"text"}],"action":{"overridingTitle":"Get started","isActive":true,"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording","overridingTitleInlineContent":[{"type":"text","text":"Get started"}],"type":"reference"}}],"variants":[{"paths":["\/tutorials\/higavfoundation\/03-photo-capture"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"categoryPathComponent":"Table-of-Contents","category":"Building a Camera App with AVFoundation","role":"project","title":"Photo Capture (AVCapturePhotoOutput)"},"hierarchy":{"paths":[["doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents","doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/$volume","doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Photos-and-Videos"]],"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents","modules":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Building-Foundations","projects":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction","sections":[{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction#What-is-AVFoundation"},{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction#Capture-Pipeline-Structure"},{"kind":"assessment","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction#Check-Your-Understanding"}]},{"sections":[{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Initializing-Capture-Session"},{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Setting-Up-Camera-Input"},{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Starting-and-Stopping-Session"},{"kind":"assessment","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Check-Your-Understanding"}],"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup"}]},{"projects":[{"sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Photo-Output-Setup","kind":"task"},{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Implementing-Photo-Capture"},{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Saving-Photos"},{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#SwiftUI-Camera-View"},{"kind":"assessment","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Check-Your-Understanding"}],"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture"},{"sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Movie-File-Output-Setup","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Starting-and-Stopping-Recording","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Recording-UI-Implementation","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer","sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Understanding-PreviewLayer","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Connecting-SwiftUI-with-UIViewRepresentable","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Handling-Screen-Rotation","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Tap-to-Focus","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Check-Your-Understanding","kind":"assessment"}]}],"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Photos-and-Videos"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Advanced-Capture","projects":[{"sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Metadata-Output-Setup","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Processing-Barcode-Recognition","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Displaying-Scan-Area","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Complete-Barcode-Scanner","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture"},{"sections":[{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#AVAudioRecorder-Setup"},{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Recording-Control"},{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Level-Monitoring"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Recording-File-Management","kind":"task"},{"kind":"assessment","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Check-Your-Understanding"}],"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording"}]},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Editing-and-Finishing","projects":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing","sections":[{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Composition-Basics"},{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Video-Trimming"},{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Video-Merging"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Export","kind":"task"},{"kind":"assessment","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Check-Your-Understanding"}]},{"sections":[{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#AVAudioSession-Basics","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Categories-and-Options","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Interruption-Handling","kind":"task"},{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Route-Change-Handling"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session"},{"sections":[{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Video-Data-Output-Setup"},{"kind":"task","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Applying-CIFilter"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Rendering-with-Metal","kind":"task"},{"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Filter-Selection-UI","kind":"task"},{"kind":"assessment","reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Check-Your-Understanding"}],"reference":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter"}]}]},"schemaVersion":{"minor":3,"major":0,"patch":0},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture"},"kind":"project","references":{"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/08-Video-Editing#Export":{"title":"Export","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/08-video-editing#Export","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Export","abstract":[{"text":"Edit videos with AVMutableComposition.","type":"text"},{"text":" ","type":"text"},{"text":"Implement trimming, merging, and audio mixing.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/09-Audio-Session#Interruption-Handling":{"title":"Interruption Handling","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/09-audio-session#Interruption-Handling","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Interruption-Handling","abstract":[{"type":"text","text":"Manage your app‚Äôs audio behavior with AVAudioSession."},{"text":" ","type":"text"},{"type":"text","text":"Implement categories, modes, and interruption handling."}],"kind":"section"},"03-capture-button.swift":{"fileName":"CameraView.swift","syntax":"swift","fileType":"swift","highlights":[{"line":17},{"line":19},{"line":20},{"line":23},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48},{"line":49},{"line":50},{"line":51},{"line":52},{"line":53},{"line":54},{"line":55},{"line":56},{"line":57},{"line":58},{"line":59},{"line":60},{"line":61},{"line":62},{"line":63},{"line":64},{"line":65},{"line":66},{"line":67},{"line":68},{"line":69},{"line":70},{"line":71},{"line":72},{"line":73},{"line":74},{"line":75},{"line":76},{"line":77},{"line":78},{"line":79}],"content":["import SwiftUI","import AVFoundation","","struct CameraView: View {","    @StateObject private var cameraManager = CameraManager()","    ","    var body: some View {","        ZStack {","            CameraPreviewView(session: cameraManager.captureSession)","                .ignoresSafeArea()","            ","            VStack {","                Spacer()","                ","                HStack(spacing: 60) {","                    \/\/ Í∞§Îü¨Î¶¨ Î≤ÑÌäº","                    thumbnailButton","                    ","                    \/\/ ÏÖîÌÑ∞ Î≤ÑÌäº","                    shutterButton","                    ","                    \/\/ Ïπ¥Î©îÎùº Ï†ÑÌôò Î≤ÑÌäº","                    switchCameraButton","                }","                .padding(.bottom, 30)","            }","        }","        .task {","            await cameraManager.requestCameraPermission()","            cameraManager.configureSession()","            cameraManager.startSession()","        }","    }","    ","    \/\/ MARK: - Shutter Button","    ","    private var shutterButton: some View {","        Button(action: {","            cameraManager.capturePhoto()","        }) {","            ZStack {","                Circle()","                    .stroke(Color.white, lineWidth: 4)","                    .frame(width: 70, height: 70)","                ","                Circle()","                    .fill(Color.white)","                    .frame(width: 60, height: 60)","                    .scaleEffect(cameraManager.isCapturing ? 0.9 : 1.0)","            }","        }","        .disabled(cameraManager.isCapturing)","        .animation(.easeInOut(duration: 0.1), value: cameraManager.isCapturing)","    }","    ","    private var thumbnailButton: some View {","        Button(action: {}) {","            if let image = cameraManager.capturedImage {","                Image(uiImage: image)","                    .resizable()","                    .scaledToFill()","                    .frame(width: 50, height: 50)","                    .clipShape(RoundedRectangle(cornerRadius: 8))","            } else {","                RoundedRectangle(cornerRadius: 8)","                    .fill(Color.gray.opacity(0.3))","                    .frame(width: 50, height: 50)","            }","        }","    }","    ","    private var switchCameraButton: some View {","        Button(action: { cameraManager.switchCamera() }) {","            Image(systemName: \"arrow.triangle.2.circlepath.camera\")","                .font(.title)","                .foregroundColor(.white)","        }","        .frame(width: 50, height: 50)","    }","}"],"type":"file","identifier":"03-capture-button.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/03-Photo-Capture":{"title":"Photo Capture (AVCapturePhotoOutput)","estimatedTime":"25min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/03-photo-capture","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture","abstract":[{"type":"text","text":"Capture high-quality photos using AVCapturePhotoOutput."},{"type":"text","text":" "},{"type":"text","text":"Implement various capture options like flash, HDR, and Live Photo."}],"kind":"project"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/03-Photo-Capture#Implementing-Photo-Capture":{"url":"\/tutorials\/higavfoundation\/03-photo-capture#Implementing-Photo-Capture","type":"section","abstract":[{"type":"text","text":"Capture high-quality photos using AVCapturePhotoOutput."},{"type":"text","text":" "},{"text":"Implement various capture options like flash, HDR, and Live Photo.","type":"text"}],"title":"Implementing Photo Capture","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Implementing-Photo-Capture","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/10-Realtime-Filter#Video-Data-Output-Setup":{"title":"Video Data Output Setup","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/10-realtime-filter#Video-Data-Output-Setup","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Video-Data-Output-Setup","abstract":[{"type":"text","text":"Apply Core Image filters to real-time camera preview."},{"type":"text","text":" "},{"type":"text","text":"Implement frame-by-frame processing with AVCaptureVideoDataOutput."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/05-Preview-Layer#Tap-to-Focus":{"title":"Tap to Focus","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/05-preview-layer#Tap-to-Focus","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Tap-to-Focus","abstract":[{"text":"Display the camera preview on screen with AVCaptureVideoPreviewLayer.","type":"text"},{"text":" ","type":"text"},{"text":"Implement real-time preview by connecting SwiftUI and UIKit.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/03-Photo-Capture#Saving-Photos":{"title":"Saving Photos","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/03-photo-capture#Saving-Photos","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Saving-Photos","abstract":[{"type":"text","text":"Capture high-quality photos using AVCapturePhotoOutput."},{"type":"text","text":" "},{"text":"Implement various capture options like flash, HDR, and Live Photo.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/06-Metadata-Capture#Complete-Barcode-Scanner":{"title":"Complete Barcode Scanner","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/06-metadata-capture#Complete-Barcode-Scanner","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Complete-Barcode-Scanner","abstract":[{"text":"Scan barcodes and QR codes with AVCaptureMetadataOutput.","type":"text"},{"text":" ","type":"text"},{"text":"Recognize and process metadata in real-time.","type":"text"}],"kind":"section"},"03-process-photo.swift":{"fileName":"PhotoCaptureDelegate.swift","syntax":"swift","fileType":"swift","highlights":[],"content":["import AVFoundation","import UIKit","","class PhotoCaptureDelegate: NSObject, AVCapturePhotoCaptureDelegate {","    ","    private let completionHandler: (UIImage?) -> Void","    ","    init(completionHandler: @escaping (UIImage?) -> Void) {","        self.completionHandler = completionHandler","        super.init()","    }","    ","    func photoOutput(_ output: AVCapturePhotoOutput, ","                     willCapturePhotoFor resolvedSettings: AVCaptureResolvedPhotoSettings) {","        \/\/ ÏÖîÌÑ∞ Ïï†ÎãàÎ©îÏù¥ÏÖò","    }","    ","    \/\/ MARK: - Process Captured Photo","    ","    func photoOutput(_ output: AVCapturePhotoOutput, ","                     didFinishProcessingPhoto photo: AVCapturePhoto, ","                     error: Error?) {","        if let error = error {","            print(\"Ï¥¨ÏòÅ Ïã§Ìå®: \\(error.localizedDescription)\")","            completionHandler(nil)","            return","        }","        ","        \/\/ Ïù¥ÎØ∏ÏßÄ Îç∞Ïù¥ÌÑ∞ Ï∂îÏ∂ú","        guard let imageData = photo.fileDataRepresentation() else {","            print(\"Ïù¥ÎØ∏ÏßÄ Îç∞Ïù¥ÌÑ∞Î•º Ï∂îÏ∂úÌï† Ïàò ÏóÜÏäµÎãàÎã§.\")","            completionHandler(nil)","            return","        }","        ","        \/\/ UIImageÎ°ú Î≥ÄÌôò","        guard let image = UIImage(data: imageData) else {","            print(\"Ïù¥ÎØ∏ÏßÄ Î≥ÄÌôò Ïã§Ìå®\")","            completionHandler(nil)","            return","        }","        ","        \/\/ Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ ÌôïÏù∏ (ÏÑ†ÌÉùÏÇ¨Ìï≠)","        if let metadata = photo.metadata {","            print(\"üì∑ Ï¥¨ÏòÅ Ï†ïÎ≥¥:\")","            if let exif = metadata[\"{Exif}\"] as? [String: Any] {","                print(\"  - ISO: \\(exif[\"ISOSpeedRatings\"] ?? \"N\/A\")\")","                print(\"  - ÏÖîÌÑ∞ ÏÜçÎèÑ: \\(exif[\"ExposureTime\"] ?? \"N\/A\")\")","            }","        }","        ","        completionHandler(image)","    }","}"],"type":"file","identifier":"03-process-photo.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/04-Video-Recording#Movie-File-Output-Setup":{"url":"\/tutorials\/higavfoundation\/04-video-recording#Movie-File-Output-Setup","type":"section","abstract":[{"type":"text","text":"Record video using AVCaptureMovieFileOutput."},{"text":" ","type":"text"},{"text":"Implement start\/stop recording, timer, and file saving.","type":"text"}],"title":"Movie File Output Setup","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Movie-File-Output-Setup","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/02-AVCaptureSession-Setup#Starting-and-Stopping-Session":{"title":"Starting and Stopping Session","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/02-avcapturesession-setup#Starting-and-Stopping-Session","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Starting-and-Stopping-Session","abstract":[{"type":"text","text":"AVCaptureSession is the core of the capture pipeline."},{"type":"text","text":" "},{"type":"text","text":"It manages real-time capture by connecting camera input and various outputs."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/05-Preview-Layer#Handling-Screen-Rotation":{"url":"\/tutorials\/higavfoundation\/05-preview-layer#Handling-Screen-Rotation","type":"section","abstract":[{"type":"text","text":"Display the camera preview on screen with AVCaptureVideoPreviewLayer."},{"type":"text","text":" "},{"type":"text","text":"Implement real-time preview by connecting SwiftUI and UIKit."}],"title":"Handling Screen Rotation","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Handling-Screen-Rotation","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/10-Realtime-Filter#Check-Your-Understanding":{"type":"link","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higavfoundation\/10-realtime-filter#Check-Your-Understanding","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Check-Your-Understanding","title":"Check Your Understanding"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/01-AVFoundation-Introduction#What-is-AVFoundation":{"url":"\/tutorials\/higavfoundation\/01-avfoundation-introduction#What-is-AVFoundation","type":"section","abstract":[{"text":"AVFoundation is the core framework for media work on Apple platforms.","type":"text"},{"text":" ","type":"text"},{"text":"It provides various media features from camera capture to audio recording and video editing.","type":"text"}],"title":"What is AVFoundation?","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction#What-is-AVFoundation","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/01-AVFoundation-Introduction#Capture-Pipeline-Structure":{"url":"\/tutorials\/higavfoundation\/01-avfoundation-introduction#Capture-Pipeline-Structure","type":"section","abstract":[{"type":"text","text":"AVFoundation is the core framework for media work on Apple platforms."},{"type":"text","text":" "},{"text":"It provides various media features from camera capture to audio recording and video editing.","type":"text"}],"title":"Capture Pipeline Structure","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction#Capture-Pipeline-Structure","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/Table-of-Contents/Advanced-Capture":{"url":"\/tutorials\/table-of-contents\/advanced-capture","type":"topic","abstract":[],"title":"Advanced Capture","role":"article","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Advanced-Capture","kind":"article"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/04-Video-Recording#Recording-UI-Implementation":{"url":"\/tutorials\/higavfoundation\/04-video-recording#Recording-UI-Implementation","type":"section","abstract":[{"text":"Record video using AVCaptureMovieFileOutput.","type":"text"},{"type":"text","text":" "},{"text":"Implement start\/stop recording, timer, and file saving.","type":"text"}],"title":"Recording UI Implementation","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Recording-UI-Implementation","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/07-Audio-Recording#Level-Monitoring":{"title":"Level Monitoring","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/07-audio-recording#Level-Monitoring","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Level-Monitoring","abstract":[{"text":"Record high-quality audio with AVAudioRecorder.","type":"text"},{"type":"text","text":" "},{"text":"Implement recording level monitoring and file management.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/02-AVCaptureSession-Setup#Initializing-Capture-Session":{"url":"\/tutorials\/higavfoundation\/02-avcapturesession-setup#Initializing-Capture-Session","type":"section","abstract":[{"text":"AVCaptureSession is the core of the capture pipeline.","type":"text"},{"text":" ","type":"text"},{"text":"It manages real-time capture by connecting camera input and various outputs.","type":"text"}],"title":"Initializing Capture Session","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Initializing-Capture-Session","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/06-Metadata-Capture#Displaying-Scan-Area":{"url":"\/tutorials\/higavfoundation\/06-metadata-capture#Displaying-Scan-Area","type":"section","abstract":[{"text":"Scan barcodes and QR codes with AVCaptureMetadataOutput.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Recognize and process metadata in real-time."}],"title":"Displaying Scan Area","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Displaying-Scan-Area","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/Table-of-Contents/Photos-and-Videos":{"url":"\/tutorials\/table-of-contents\/photos-and-videos","type":"topic","abstract":[],"title":"Photos and Videos","role":"article","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Photos-and-Videos","kind":"article"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/08-Video-Editing":{"title":"Video Editing (AVMutableComposition)","estimatedTime":"30min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/08-video-editing","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing","abstract":[{"type":"text","text":"Edit videos with AVMutableComposition."},{"text":" ","type":"text"},{"type":"text","text":"Implement trimming, merging, and audio mixing."}],"kind":"project"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/08-Video-Editing#Video-Merging":{"title":"Video Merging","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/08-video-editing#Video-Merging","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Video-Merging","abstract":[{"text":"Edit videos with AVMutableComposition.","type":"text"},{"text":" ","type":"text"},{"text":"Implement trimming, merging, and audio mixing.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/10-Realtime-Filter#Rendering-with-Metal":{"url":"\/tutorials\/higavfoundation\/10-realtime-filter#Rendering-with-Metal","type":"section","abstract":[{"text":"Apply Core Image filters to real-time camera preview.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Implement frame-by-frame processing with AVCaptureVideoDataOutput."}],"title":"Rendering with Metal","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Rendering-with-Metal","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/10-Realtime-Filter":{"title":"Real-time Filters (CIFilter)","estimatedTime":"30min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/10-realtime-filter","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter","abstract":[{"type":"text","text":"Apply Core Image filters to real-time camera preview."},{"type":"text","text":" "},{"type":"text","text":"Implement frame-by-frame processing with AVCaptureVideoDataOutput."}],"kind":"project"},"doc://avfoundation.HIGAVFoundation/tutorials/Table-of-Contents/Editing-and-Finishing":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Editing-and-Finishing","type":"topic","title":"Editing and Finishing","abstract":[],"url":"\/tutorials\/table-of-contents\/editing-and-finishing","kind":"article","role":"article"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/03-Photo-Capture#SwiftUI-Camera-View":{"title":"SwiftUI Camera View","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/03-photo-capture#SwiftUI-Camera-View","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#SwiftUI-Camera-View","abstract":[{"text":"Capture high-quality photos using AVCapturePhotoOutput.","type":"text"},{"text":" ","type":"text"},{"text":"Implement various capture options like flash, HDR, and Live Photo.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/05-Preview-Layer#Understanding-PreviewLayer":{"url":"\/tutorials\/higavfoundation\/05-preview-layer#Understanding-PreviewLayer","type":"section","abstract":[{"type":"text","text":"Display the camera preview on screen with AVCaptureVideoPreviewLayer."},{"type":"text","text":" "},{"type":"text","text":"Implement real-time preview by connecting SwiftUI and UIKit."}],"title":"Understanding PreviewLayer","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Understanding-PreviewLayer","kind":"section"},"03-add-photo-output.swift":{"highlights":[{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43}],"type":"file","syntax":"swift","content":["import AVFoundation","import SwiftUI","","@MainActor","class CameraManager: ObservableObject {","    let captureSession = AVCaptureSession()","    private let sessionQueue = DispatchQueue(label: \"camera.session.queue\")","    ","    let photoOutput = AVCapturePhotoOutput()","    ","    private var currentVideoDevice: AVCaptureDevice?","    private var videoDeviceInput: AVCaptureDeviceInput?","    ","    @Published var isSessionRunning = false","    @Published var capturedImage: UIImage?","    ","    func configureSession() {","        sessionQueue.async { [self] in","            captureSession.beginConfiguration()","            defer { captureSession.commitConfiguration() }","            ","            captureSession.sessionPreset = .photo","            ","            \/\/ Ïπ¥Î©îÎùº ÏûÖÎ†• Ï∂îÍ∞Ä (Ïù¥Ï†Ñ Îã®Í≥ÑÏóêÏÑú Íµ¨ÌòÑ)","            guard let videoDevice = AVCaptureDevice.default(.builtInWideAngleCamera, for: .video, position: .back),","                  let videoInput = try? AVCaptureDeviceInput(device: videoDevice),","                  captureSession.canAddInput(videoInput) else {","                return","            }","            captureSession.addInput(videoInput)","            videoDeviceInput = videoInput","            ","            \/\/ Photo Output Ï∂îÍ∞Ä","            if captureSession.canAddOutput(photoOutput) {","                captureSession.addOutput(photoOutput)","                ","                \/\/ ÏµúÍ≥† ÌíàÏßà ÏÑ§Ï†ï","                photoOutput.maxPhotoQualityPrioritization = .quality","            } else {","                print(\"Photo OutputÏùÑ Ï∂îÍ∞ÄÌï† Ïàò ÏóÜÏäµÎãàÎã§.\")","            }","        }","    }","}"],"identifier":"03-add-photo-output.swift","fileName":"CameraManager.swift","fileType":"swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/03-Photo-Capture#Photo-Output-Setup":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Photo-Output-Setup","type":"section","title":"Photo Output Setup","abstract":[{"text":"Capture high-quality photos using AVCapturePhotoOutput.","type":"text"},{"text":" ","type":"text"},{"text":"Implement various capture options like flash, HDR, and Live Photo.","type":"text"}],"url":"\/tutorials\/higavfoundation\/03-photo-capture#Photo-Output-Setup","kind":"section","role":"pseudoSymbol"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/09-Audio-Session#Categories-and-Options":{"title":"Categories and Options","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/09-audio-session#Categories-and-Options","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Categories-and-Options","abstract":[{"type":"text","text":"Manage your app‚Äôs audio behavior with AVAudioSession."},{"type":"text","text":" "},{"type":"text","text":"Implement categories, modes, and interruption handling."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/Table-of-Contents":{"title":"Create Your Own Camera App","type":"topic","role":"overview","url":"\/tutorials\/table-of-contents","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents","abstract":[{"type":"text","text":"Build a polished camera app with SwiftUI that supports"},{"type":"text","text":" "},{"type":"text","text":"photo capture, video recording, barcode scanning, and real-time filters"},{"type":"text","text":" "},{"type":"text","text":"using AVFoundation‚Äôs powerful media capture capabilities."}],"kind":"overview"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/09-Audio-Session#Route-Change-Handling":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Route-Change-Handling","type":"section","title":"Route Change Handling","url":"\/tutorials\/higavfoundation\/09-audio-session#Route-Change-Handling","abstract":[{"text":"Manage your app‚Äôs audio behavior with AVAudioSession.","type":"text"},{"text":" ","type":"text"},{"text":"Implement categories, modes, and interruption handling.","type":"text"}],"kind":"section","role":"pseudoSymbol"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/05-Preview-Layer#Connecting-SwiftUI-with-UIViewRepresentable":{"title":"Connecting SwiftUI with UIViewRepresentable","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/05-preview-layer#Connecting-SwiftUI-with-UIViewRepresentable","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Connecting-SwiftUI-with-UIViewRepresentable","abstract":[{"text":"Display the camera preview on screen with AVCaptureVideoPreviewLayer.","type":"text"},{"text":" ","type":"text"},{"text":"Implement real-time preview by connecting SwiftUI and UIKit.","type":"text"}],"kind":"section"},"03-check-capabilities.swift":{"fileName":"CameraManager.swift","syntax":"swift","fileType":"swift","highlights":[{"line":9},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31}],"type":"file","content":["import AVFoundation","import SwiftUI","","@MainActor","class CameraManager: ObservableObject {","    let captureSession = AVCaptureSession()","    let photoOutput = AVCapturePhotoOutput()","    ","    \/\/ MARK: - Photo Output Capabilities","    ","    \/\/\/ ÏßÄÏõêÎêòÎäî Í∏∞Îä• ÌôïÏù∏","    func checkPhotoCapabilities() {","        \/\/ ÌîåÎûòÏãú ÏßÄÏõê Ïó¨Î∂Ä","        let isFlashSupported = photoOutput.supportedFlashModes.contains(.on)","        print(\"ÌîåÎûòÏãú ÏßÄÏõê: \\(isFlashSupported)\")","        ","        \/\/ Live Photo ÏßÄÏõê Ïó¨Î∂Ä","        let isLivePhotoSupported = photoOutput.isLivePhotoCaptureSupported","        print(\"Live Photo ÏßÄÏõê: \\(isLivePhotoSupported)\")","        ","        \/\/ Portrait Effect ÏßÄÏõê Ïó¨Î∂Ä","        let isPortraitSupported = photoOutput.isDepthDataDeliverySupported","        print(\"Ïù∏Î¨º ÏÇ¨ÏßÑ Î™®Îìú ÏßÄÏõê: \\(isPortraitSupported)\")","        ","        \/\/ ÏßÄÏõêÎêòÎäî ÏΩîÎç± ÌôïÏù∏","        let availableCodecs = photoOutput.availablePhotoCodecTypes","        print(\"ÏßÄÏõê ÏΩîÎç±: \\(availableCodecs)\")","        ","        \/\/ HEIF ÏßÄÏõê Ïó¨Î∂Ä","        let isHEIFSupported = availableCodecs.contains(.hevc)","        print(\"HEIF ÏßÄÏõê: \\(isHEIFSupported)\")","    }","}"],"identifier":"03-check-capabilities.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/05-Preview-Layer":{"url":"\/tutorials\/higavfoundation\/05-preview-layer","estimatedTime":"20min","type":"topic","abstract":[{"text":"Display the camera preview on screen with AVCaptureVideoPreviewLayer.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Implement real-time preview by connecting SwiftUI and UIKit."}],"title":"Preview Layer (AVCaptureVideoPreviewLayer)","role":"project","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer","kind":"project"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/08-Video-Editing#Video-Trimming":{"title":"Video Trimming","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/08-video-editing#Video-Trimming","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Video-Trimming","abstract":[{"type":"text","text":"Edit videos with AVMutableComposition."},{"type":"text","text":" "},{"type":"text","text":"Implement trimming, merging, and audio mixing."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/07-Audio-Recording#Recording-File-Management":{"title":"Recording File Management","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/07-audio-recording#Recording-File-Management","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Recording-File-Management","abstract":[{"text":"Record high-quality audio with AVAudioRecorder.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Implement recording level monitoring and file management."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/09-Audio-Session":{"title":"Audio Session Management","estimatedTime":"20min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/09-audio-session","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session","abstract":[{"text":"Manage your app‚Äôs audio behavior with AVAudioSession.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Implement categories, modes, and interruption handling."}],"kind":"project"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/06-Metadata-Capture#Metadata-Output-Setup":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Metadata-Output-Setup","type":"section","title":"Metadata Output Setup","abstract":[{"text":"Scan barcodes and QR codes with AVCaptureMetadataOutput.","type":"text"},{"text":" ","type":"text"},{"text":"Recognize and process metadata in real-time.","type":"text"}],"url":"\/tutorials\/higavfoundation\/06-metadata-capture#Metadata-Output-Setup","kind":"section","role":"pseudoSymbol"},"03-photo-output-property.swift":{"fileName":"CameraManager.swift","syntax":"swift","fileType":"swift","highlights":[],"type":"file","content":["import AVFoundation","import SwiftUI","","@MainActor","class CameraManager: ObservableObject {","    \/\/ MARK: - Capture Components","    ","    let captureSession = AVCaptureSession()","    private let sessionQueue = DispatchQueue(label: \"camera.session.queue\")","    ","    \/\/\/ ÏÇ¨ÏßÑ Ï¥¨ÏòÅÏùÑ ÏúÑÌïú Ï∂úÎ†•","    let photoOutput = AVCapturePhotoOutput()","    ","    private var currentVideoDevice: AVCaptureDevice?","    private var videoDeviceInput: AVCaptureDeviceInput?","    ","    \/\/ MARK: - State","    ","    @Published var isSessionRunning = false","    @Published var capturedImage: UIImage?","}"],"identifier":"03-photo-output-property.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/02-AVCaptureSession-Setup#Check-Your-Understanding":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Check-Your-Understanding","type":"link","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"url":"\/tutorials\/higavfoundation\/02-avcapturesession-setup#Check-Your-Understanding"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/04-Video-Recording#Starting-and-Stopping-Recording":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Starting-and-Stopping-Recording","type":"section","title":"Starting and Stopping Recording","abstract":[{"type":"text","text":"Record video using AVCaptureMovieFileOutput."},{"type":"text","text":" "},{"type":"text","text":"Implement start\/stop recording, timer, and file saving."}],"url":"\/tutorials\/higavfoundation\/04-video-recording#Starting-and-Stopping-Recording","kind":"section","role":"pseudoSymbol"},"03-photo-delegate.swift":{"fileName":"PhotoCaptureDelegate.swift","syntax":"swift","fileType":"swift","highlights":[],"type":"file","content":["import AVFoundation","import UIKit","","\/\/\/ ÏÇ¨ÏßÑ Ï¥¨ÏòÅ ÏôÑÎ£åÎ•º Ï≤òÎ¶¨ÌïòÎäî Îç∏Î¶¨Í≤åÏù¥Ìä∏","class PhotoCaptureDelegate: NSObject, AVCapturePhotoCaptureDelegate {","    ","    \/\/\/ Ï¥¨ÏòÅ ÏôÑÎ£å Ïãú Ìò∏Ï∂úÎê† ÏΩúÎ∞±","    private let completionHandler: (UIImage?) -> Void","    ","    init(completionHandler: @escaping (UIImage?) -> Void) {","        self.completionHandler = completionHandler","        super.init()","    }","    ","    \/\/ MARK: - AVCapturePhotoCaptureDelegate","    ","    \/\/\/ ÏÖîÌÑ∞ ÏÜåÎ¶¨ ÏßÅÌõÑ Ìò∏Ï∂ú - UI ÌîºÎìúÎ∞±Ïóê ÌôúÏö©","    func photoOutput(_ output: AVCapturePhotoOutput, ","                     willCapturePhotoFor resolvedSettings: AVCaptureResolvedPhotoSettings) {","        \/\/ ÏÖîÌÑ∞ Ïï†ÎãàÎ©îÏù¥ÏÖò Îì± ÏãúÍ∞ÅÏ†Å ÌîºÎìúÎ∞±","        print(\"üì∏ Ï¥¨ÏòÅ ÏãúÏûë!\")","    }","    ","    \/\/\/ ÏÇ¨ÏßÑ Ï≤òÎ¶¨ ÏôÑÎ£å ÌõÑ Ìò∏Ï∂ú","    func photoOutput(_ output: AVCapturePhotoOutput, ","                     didFinishProcessingPhoto photo: AVCapturePhoto, ","                     error: Error?) {","        if let error = error {","            print(\"Ï¥¨ÏòÅ Ïã§Ìå®: \\(error.localizedDescription)\")","            completionHandler(nil)","            return","        }","        ","        \/\/ Ïù¥ÎØ∏ÏßÄ Îç∞Ïù¥ÌÑ∞ Ï∂îÏ∂ú","        guard let imageData = photo.fileDataRepresentation(),","              let image = UIImage(data: imageData) else {","            completionHandler(nil)","            return","        }","        ","        completionHandler(image)","    }","}"],"identifier":"03-photo-delegate.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/07-Audio-Recording#Check-Your-Understanding":{"type":"link","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higavfoundation\/07-audio-recording#Check-Your-Understanding","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Check-Your-Understanding","title":"Check Your Understanding"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/05-Preview-Layer#Check-Your-Understanding":{"titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higavfoundation\/05-preview-layer#Check-Your-Understanding","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/05-Preview-Layer#Check-Your-Understanding","type":"link","title":"Check Your Understanding"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/07-Audio-Recording#Recording-Control":{"title":"Recording Control","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/07-audio-recording#Recording-Control","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#Recording-Control","abstract":[{"type":"text","text":"Record high-quality audio with AVAudioRecorder."},{"type":"text","text":" "},{"text":"Implement recording level monitoring and file management.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/02-AVCaptureSession-Setup#Setting-Up-Camera-Input":{"title":"Setting Up Camera Input","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/02-avcapturesession-setup#Setting-Up-Camera-Input","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup#Setting-Up-Camera-Input","abstract":[{"text":"AVCaptureSession is the core of the capture pipeline.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"It manages real-time capture by connecting camera input and various outputs."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/06-Metadata-Capture#Processing-Barcode-Recognition":{"title":"Processing Barcode Recognition","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/06-metadata-capture#Processing-Barcode-Recognition","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Processing-Barcode-Recognition","abstract":[{"type":"text","text":"Scan barcodes and QR codes with AVCaptureMetadataOutput."},{"type":"text","text":" "},{"type":"text","text":"Recognize and process metadata in real-time."}],"kind":"section"},"03-photo-library-plist.swift":{"fileName":"Info.plist","syntax":"plist","fileType":"plist","highlights":[],"type":"file","content":["\/\/ Info.plistÏóê Ï∂îÍ∞ÄÌï† Í∂åÌïú ÌÇ§","\/\/","\/\/ ÏÇ¨ÏßÑ ÎùºÏù¥Î∏åÎü¨Î¶¨ Ï†ÄÏû• Í∂åÌïú:","\/\/ Key: NSPhotoLibraryAddUsageDescription","\/\/ Value: Ï¥¨ÏòÅÌïú ÏÇ¨ÏßÑÏùÑ ÏÇ¨ÏßÑ Ïï®Î≤îÏóê Ï†ÄÏû•ÌïòÍ∏∞ ÏúÑÌï¥ Ï†ëÍ∑ºÌï©ÎãàÎã§.","\/\/","\/\/ ÏÇ¨ÏßÑ ÎùºÏù¥Î∏åÎü¨Î¶¨ ÏùΩÍ∏∞ Í∂åÌïú (ÏÑ†ÌÉù):","\/\/ Key: NSPhotoLibraryUsageDescription","\/\/ Value: ÏÇ¨ÏßÑ Ïï®Î≤îÏùò ÏÇ¨ÏßÑÏùÑ Î∂àÎü¨Ïò§Í∏∞ ÏúÑÌï¥ Ï†ëÍ∑ºÌï©ÎãàÎã§.","\/\/","\/\/ Info.plist XML:","\/*","<key>NSPhotoLibraryAddUsageDescription<\/key>","<string>Ï¥¨ÏòÅÌïú ÏÇ¨ÏßÑÏùÑ ÏÇ¨ÏßÑ Ïï®Î≤îÏóê Ï†ÄÏû•ÌïòÍ∏∞ ÏúÑÌï¥ Ï†ëÍ∑ºÌï©ÎãàÎã§.<\/string>","<key>NSPhotoLibraryUsageDescription<\/key>","<string>ÏÇ¨ÏßÑ Ïï®Î≤îÏùò ÏÇ¨ÏßÑÏùÑ Î∂àÎü¨Ïò§Í∏∞ ÏúÑÌï¥ Ï†ëÍ∑ºÌï©ÎãàÎã§.<\/string>","*\/"],"identifier":"03-photo-library-plist.swift"},"03-camera-view.swift":{"fileName":"CameraView.swift","syntax":"swift","fileType":"swift","highlights":[],"type":"file","content":["import SwiftUI","import AVFoundation","","struct CameraView: View {","    @StateObject private var cameraManager = CameraManager()","    ","    var body: some View {","        ZStack {","            \/\/ Ïπ¥Î©îÎùº ÌîÑÎ¶¨Î∑∞","            CameraPreviewView(session: cameraManager.captureSession)","                .ignoresSafeArea()","            ","            \/\/ Ïª®Ìä∏Î°§ Ïò§Î≤ÑÎ†àÏù¥","            VStack {","                Spacer()","                ","                \/\/ ÌïòÎã® Ïª®Ìä∏Î°§ Î∞î","                HStack(spacing: 60) {","                    \/\/ Í∞§Îü¨Î¶¨ Î≤ÑÌäº","                    Button(action: {}) {","                        if let image = cameraManager.capturedImage {","                            Image(uiImage: image)","                                .resizable()","                                .scaledToFill()","                                .frame(width: 50, height: 50)","                                .clipShape(RoundedRectangle(cornerRadius: 8))","                        } else {","                            RoundedRectangle(cornerRadius: 8)","                                .fill(Color.gray.opacity(0.3))","                                .frame(width: 50, height: 50)","                        }","                    }","                    ","                    \/\/ ÏÖîÌÑ∞ Î≤ÑÌäº (Îã§Ïùå Îã®Í≥ÑÏóêÏÑú Íµ¨ÌòÑ)","                    Circle()","                        .stroke(Color.white, lineWidth: 4)","                        .frame(width: 70, height: 70)","                    ","                    \/\/ Ïπ¥Î©îÎùº Ï†ÑÌôò Î≤ÑÌäº","                    Button(action: { cameraManager.switchCamera() }) {","                        Image(systemName: \"arrow.triangle.2.circlepath.camera\")","                            .font(.title)","                            .foregroundColor(.white)","                    }","                    .frame(width: 50, height: 50)","                }","                .padding(.bottom, 30)","            }","        }","        .task {","            await cameraManager.requestCameraPermission()","            cameraManager.configureSession()","            cameraManager.startSession()","        }","    }","}"],"identifier":"03-camera-view.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/06-Metadata-Capture":{"title":"Metadata Capture (Barcodes)","estimatedTime":"20min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/06-metadata-capture","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture","abstract":[{"type":"text","text":"Scan barcodes and QR codes with AVCaptureMetadataOutput."},{"type":"text","text":" "},{"text":"Recognize and process metadata in real-time.","type":"text"}],"kind":"project"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/04-Video-Recording":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording","type":"topic","estimatedTime":"25min","title":"Video Recording","abstract":[{"text":"Record video using AVCaptureMovieFileOutput.","type":"text"},{"type":"text","text":" "},{"text":"Implement start\/stop recording, timer, and file saving.","type":"text"}],"url":"\/tutorials\/higavfoundation\/04-video-recording","kind":"project","role":"project"},"03-auto-save.swift":{"fileName":"PhotoCaptureDelegate.swift","syntax":"swift","fileType":"swift","highlights":[],"content":["import AVFoundation","import UIKit","import Photos","","class PhotoCaptureDelegate: NSObject, AVCapturePhotoCaptureDelegate {","    ","    private let completionHandler: (UIImage?) -> Void","    private let autoSaveToLibrary: Bool","    ","    init(autoSave: Bool = true, completionHandler: @escaping (UIImage?) -> Void) {","        self.autoSaveToLibrary = autoSave","        self.completionHandler = completionHandler","        super.init()","    }","    ","    func photoOutput(_ output: AVCapturePhotoOutput, ","                     didFinishProcessingPhoto photo: AVCapturePhoto, ","                     error: Error?) {","        if let error = error {","            print(\"Ï¥¨ÏòÅ Ïã§Ìå®: \\(error.localizedDescription)\")","            completionHandler(nil)","            return","        }","        ","        guard let imageData = photo.fileDataRepresentation(),","              let image = UIImage(data: imageData) else {","            completionHandler(nil)","            return","        }","        ","        \/\/ ÏûêÎèô Ï†ÄÏû• ÌôúÏÑ±Ìôî Ïãú ÏÇ¨ÏßÑ ÎùºÏù¥Î∏åÎü¨Î¶¨Ïóê Ï†ÄÏû•","        if autoSaveToLibrary {","            Task {","                do {","                    try await PhotoLibraryService.savePhotoData(imageData)","                    print(\"‚úÖ ÏÇ¨ÏßÑÏù¥ Ïï®Î≤îÏóê Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.\")","                } catch {","                    print(\"‚ùå Ï†ÄÏû• Ïã§Ìå®: \\(error.localizedDescription)\")","                }","            }","        }","        ","        completionHandler(image)","    }","}"],"type":"file","identifier":"03-auto-save.swift"},"03-photo-preview.swift":{"highlights":[{"line":6},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48},{"line":50},{"line":51},{"line":52},{"line":55},{"line":57},{"line":60},{"line":61},{"line":62},{"line":63},{"line":64},{"line":65}],"content":["import SwiftUI","import AVFoundation","","struct CameraView: View {","    @StateObject private var cameraManager = CameraManager()","    @State private var showPhotoPreview = false","    ","    var body: some View {","        ZStack {","            CameraPreviewView(session: cameraManager.captureSession)","                .ignoresSafeArea()","            ","            VStack {","                Spacer()","                ","                HStack(spacing: 60) {","                    thumbnailButton","                    shutterButton","                    switchCameraButton","                }","                .padding(.bottom, 30)","            }","        }","        \/\/ Ï¥¨ÏòÅÎêú Ïù¥ÎØ∏ÏßÄ Î≥ÄÍ≤Ω Í∞êÏßÄ","        .onChange(of: cameraManager.capturedImage) { oldImage, newImage in","            if newImage != nil {","                showPhotoPreview = true","            }","        }","        \/\/ ÎØ∏Î¶¨Î≥¥Í∏∞ ÏãúÌä∏","        .sheet(isPresented: $showPhotoPreview) {","            PhotoPreviewView(image: cameraManager.capturedImage)","        }","        .task {","            await cameraManager.requestCameraPermission()","            cameraManager.configureSession()","            cameraManager.startSession()","        }","    }","    ","    \/\/ ... (Î≤ÑÌäºÎì§ Íµ¨ÌòÑÏùÄ Ïù¥Ï†ÑÍ≥º ÎèôÏùº)","}","","\/\/ MARK: - Photo Preview View","","struct PhotoPreviewView: View {","    let image: UIImage?","    @Environment(\\.dismiss) private var dismiss","    ","    var body: some View {","        NavigationStack {","            if let image = image {","                Image(uiImage: image)","                    .resizable()","                    .scaledToFit()","            } else {","                Text(\"Ïù¥ÎØ∏ÏßÄÎ•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.\")","            }","        }","        .toolbar {","            ToolbarItem(placement: .topBarTrailing) {","                Button(\"ÏôÑÎ£å\") {","                    dismiss()","                }","            }","        }","    }","}"],"syntax":"swift","type":"file","identifier":"03-photo-preview.swift","fileName":"CameraView.swift","fileType":"swift"},"03-photo-library-service.swift":{"fileName":"PhotoLibraryService.swift","syntax":"swift","fileType":"swift","highlights":[],"type":"file","content":["import Photos","import UIKit","","\/\/\/ ÏÇ¨ÏßÑ ÎùºÏù¥Î∏åÎü¨Î¶¨ Ï†ÄÏû• ÏÑúÎπÑÏä§","class PhotoLibraryService {","    ","    \/\/ MARK: - Save Photo","    ","    \/\/\/ ÏÇ¨ÏßÑÏùÑ ÏÇ¨ÏßÑ Ïï®Î≤îÏóê Ï†ÄÏû•","    static func savePhoto(_ image: UIImage) async throws {","        \/\/ Í∂åÌïú ÌôïÏù∏","        let status = await PHPhotoLibrary.requestAuthorization(for: .addOnly)","        ","        guard status == .authorized || status == .limited else {","            throw PhotoLibraryError.notAuthorized","        }","        ","        \/\/ ÏÇ¨ÏßÑ Ï†ÄÏû•","        try await PHPhotoLibrary.shared().performChanges {","            PHAssetChangeRequest.creationRequestForAsset(from: image)","        }","    }","    ","    \/\/\/ DataÎ°úÎ∂ÄÌÑ∞ ÏÇ¨ÏßÑ Ï†ÄÏû• (HEIF Îì± ÏõêÎ≥∏ Ìè¨Îß∑ Ïú†ÏßÄ)","    static func savePhotoData(_ data: Data) async throws {","        let status = await PHPhotoLibrary.requestAuthorization(for: .addOnly)","        ","        guard status == .authorized || status == .limited else {","            throw PhotoLibraryError.notAuthorized","        }","        ","        try await PHPhotoLibrary.shared().performChanges {","            let options = PHAssetResourceCreationOptions()","            let creationRequest = PHAssetCreationRequest.forAsset()","            creationRequest.addResource(with: .photo, data: data, options: options)","        }","    }","}","","enum PhotoLibraryError: LocalizedError {","    case notAuthorized","    ","    var errorDescription: String? {","        switch self {","        case .notAuthorized:","            return \"ÏÇ¨ÏßÑ ÎùºÏù¥Î∏åÎü¨Î¶¨ Ï†ëÍ∑º Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.\"","        }","    }","}"],"identifier":"03-photo-library-service.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/07-Audio-Recording#AVAudioRecorder-Setup":{"url":"\/tutorials\/higavfoundation\/07-audio-recording#AVAudioRecorder-Setup","type":"section","abstract":[{"type":"text","text":"Record high-quality audio with AVAudioRecorder."},{"text":" ","type":"text"},{"text":"Implement recording level monitoring and file management.","type":"text"}],"title":"AVAudioRecorder Setup","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording#AVAudioRecorder-Setup","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/Table-of-Contents/Building-Foundations":{"title":"Building Foundations","type":"topic","role":"article","url":"\/tutorials\/table-of-contents\/building-foundations","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/Table-of-Contents\/Building-Foundations","abstract":[],"kind":"article"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/01-AVFoundation-Introduction":{"title":"Introduction to AVFoundation & Architecture","estimatedTime":"15min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/01-avfoundation-introduction","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction","abstract":[{"type":"text","text":"AVFoundation is the core framework for media work on Apple platforms."},{"type":"text","text":" "},{"type":"text","text":"It provides various media features from camera capture to audio recording and video editing."}],"kind":"project"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/06-Metadata-Capture#Check-Your-Understanding":{"type":"link","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"url":"\/tutorials\/higavfoundation\/06-metadata-capture#Check-Your-Understanding","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/06-Metadata-Capture#Check-Your-Understanding","title":"Check Your Understanding"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/03-Photo-Capture#Check-Your-Understanding":{"titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higavfoundation\/03-photo-capture#Check-Your-Understanding","type":"link","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/03-Photo-Capture#Check-Your-Understanding","title":"Check Your Understanding"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/01-AVFoundation-Introduction#Check-Your-Understanding":{"titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"url":"\/tutorials\/higavfoundation\/01-avfoundation-introduction#Check-Your-Understanding","type":"link","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/01-AVFoundation-Introduction#Check-Your-Understanding","title":"Check Your Understanding"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/09-Audio-Session#AVAudioSession-Basics":{"title":"AVAudioSession Basics","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/09-audio-session#AVAudioSession-Basics","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#AVAudioSession-Basics","abstract":[{"text":"Manage your app‚Äôs audio behavior with AVAudioSession.","type":"text"},{"text":" ","type":"text"},{"text":"Implement categories, modes, and interruption handling.","type":"text"}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/08-Video-Editing#Check-Your-Understanding":{"title":"Check Your Understanding","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Check-Your-Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link","url":"\/tutorials\/higavfoundation\/08-video-editing#Check-Your-Understanding"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/10-Realtime-Filter#Filter-Selection-UI":{"title":"Filter Selection UI","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/10-realtime-filter#Filter-Selection-UI","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Filter-Selection-UI","abstract":[{"text":"Apply Core Image filters to real-time camera preview.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Implement frame-by-frame processing with AVCaptureVideoDataOutput."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/08-Video-Editing#Composition-Basics":{"title":"Composition Basics","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higavfoundation\/08-video-editing#Composition-Basics","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/08-Video-Editing#Composition-Basics","abstract":[{"type":"text","text":"Edit videos with AVMutableComposition."},{"type":"text","text":" "},{"type":"text","text":"Implement trimming, merging, and audio mixing."}],"kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/02-AVCaptureSession-Setup":{"title":"AVCaptureSession Setup","estimatedTime":"20min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/02-avcapturesession-setup","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/02-AVCaptureSession-Setup","abstract":[{"type":"text","text":"AVCaptureSession is the core of the capture pipeline."},{"type":"text","text":" "},{"text":"It manages real-time capture by connecting camera input and various outputs.","type":"text"}],"kind":"project"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/10-Realtime-Filter#Applying-CIFilter":{"url":"\/tutorials\/higavfoundation\/10-realtime-filter#Applying-CIFilter","type":"section","abstract":[{"text":"Apply Core Image filters to real-time camera preview.","type":"text"},{"text":" ","type":"text"},{"text":"Implement frame-by-frame processing with AVCaptureVideoDataOutput.","type":"text"}],"title":"Applying CIFilter","role":"pseudoSymbol","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/10-Realtime-Filter#Applying-CIFilter","kind":"section"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/07-Audio-Recording":{"title":"Audio Recording (AVAudioRecorder)","estimatedTime":"20min","type":"topic","role":"project","url":"\/tutorials\/higavfoundation\/07-audio-recording","identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/07-Audio-Recording","abstract":[{"text":"Record high-quality audio with AVAudioRecorder.","type":"text"},{"text":" ","type":"text"},{"text":"Implement recording level monitoring and file management.","type":"text"}],"kind":"project"},"03-photo-settings.swift":{"fileName":"CameraManager.swift","syntax":"swift","fileType":"swift","highlights":[],"content":["import AVFoundation","import SwiftUI","","@MainActor","class CameraManager: ObservableObject {","    let captureSession = AVCaptureSession()","    let photoOutput = AVCapturePhotoOutput()","    ","    @Published var flashMode: AVCaptureDevice.FlashMode = .auto","    ","    \/\/ MARK: - Photo Settings","    ","    \/\/\/ Ï¥¨ÏòÅ ÏÑ§Ï†ï ÏÉùÏÑ±","    func createPhotoSettings() -> AVCapturePhotoSettings {","        \/\/ HEIF ÎòêÎäî JPEG Ìè¨Îß∑ ÏÑ†ÌÉù","        let settings: AVCapturePhotoSettings","        ","        if photoOutput.availablePhotoCodecTypes.contains(.hevc) {","            \/\/ HEIF Ìè¨Îß∑ (Îçî ÏûëÏùÄ ÌååÏùº, ÎÜíÏùÄ ÌíàÏßà)","            settings = AVCapturePhotoSettings(","                format: [AVVideoCodecKey: AVVideoCodecType.hevc]","            )","        } else {","            \/\/ JPEG Ìè¨Îß∑ (Ìò∏ÌôòÏÑ±)","            settings = AVCapturePhotoSettings(","                format: [AVVideoCodecKey: AVVideoCodecType.jpeg]","            )","        }","        ","        \/\/ ÌîåÎûòÏãú Î™®Îìú ÏÑ§Ï†ï","        if photoOutput.supportedFlashModes.contains(flashMode) {","            settings.flashMode = flashMode","        }","        ","        \/\/ ÏµúÍ≥† ÌíàÏßà Ïö∞ÏÑ†","        settings.photoQualityPrioritization = .quality","        ","        return settings","    }","}"],"type":"file","identifier":"03-photo-settings.swift"},"03-capture-photo.swift":{"fileName":"CameraManager.swift","syntax":"swift","fileType":"swift","highlights":[{"line":8},{"line":11},{"line":12},{"line":14},{"line":15},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":42},{"line":43},{"line":44},{"line":45}],"content":["import AVFoundation","import SwiftUI","","@MainActor","class CameraManager: ObservableObject {","    let captureSession = AVCaptureSession()","    let photoOutput = AVCapturePhotoOutput()","    private let sessionQueue = DispatchQueue(label: \"camera.session.queue\")","    ","    @Published var flashMode: AVCaptureDevice.FlashMode = .auto","    @Published var capturedImage: UIImage?","    @Published var isCapturing = false","    ","    \/\/\/ Îç∏Î¶¨Í≤åÏù¥Ìä∏ Ï∞∏Ï°∞ Ïú†ÏßÄ (Ï¥¨ÏòÅ ÏôÑÎ£å Ï†ÑÍπåÏßÄ Ïú†ÏßÄ ÌïÑÏöî)","    private var photoCaptureDelegate: PhotoCaptureDelegate?","    ","    \/\/ MARK: - Capture Photo","    ","    func capturePhoto() {","        guard !isCapturing else { return }","        isCapturing = true","        ","        sessionQueue.async { [self] in","            let settings = createPhotoSettings()","            ","            \/\/ Îç∏Î¶¨Í≤åÏù¥Ìä∏ ÏÉùÏÑ± Î∞è Ïú†ÏßÄ","            let delegate = PhotoCaptureDelegate { [weak self] image in","                Task { @MainActor in","                    self?.capturedImage = image","                    self?.isCapturing = false","                    self?.photoCaptureDelegate = nil","                }","            }","            ","            Task { @MainActor in","                photoCaptureDelegate = delegate","            }","            ","            \/\/ ÏÇ¨ÏßÑ Ï¥¨ÏòÅ ÏöîÏ≤≠","            photoOutput.capturePhoto(with: settings, delegate: delegate)","        }","    }","    ","    private func createPhotoSettings() -> AVCapturePhotoSettings {","        let settings = AVCapturePhotoSettings()","        if photoOutput.supportedFlashModes.contains(flashMode) {","            settings.flashMode = flashMode","        }","        return settings","    }","}"],"type":"file","identifier":"03-capture-photo.swift"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/04-Video-Recording#Check-Your-Understanding":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/04-Video-Recording#Check-Your-Understanding","title":"Check Your Understanding","url":"\/tutorials\/higavfoundation\/04-video-recording#Check-Your-Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link"},"doc://avfoundation.HIGAVFoundation/tutorials/HIGAVFoundation/09-Audio-Session#Check-Your-Understanding":{"identifier":"doc:\/\/avfoundation.HIGAVFoundation\/tutorials\/HIGAVFoundation\/09-Audio-Session#Check-Your-Understanding","title":"Check Your Understanding","url":"\/tutorials\/higavfoundation\/09-audio-session#Check-Your-Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link"}}}