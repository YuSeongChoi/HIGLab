{"schemaVersion":{"patch":0,"major":0,"minor":3},"variants":[{"paths":["\/tutorials\/higcloudkit\/06-pushnotification"],"traits":[{"interfaceLanguage":"swift"}]}],"hierarchy":{"modules":[{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/CloudKit-Introduction-&-Containers","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/01-Introduction#Understanding-CloudKit"},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/01-Introduction#Starting-the-Notes-App-Project","kind":"task"},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/01-Introduction#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/01-Introduction"}]},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/CKContainer-Setup","projects":[{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/02-ContainerSetup","sections":[{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/02-ContainerSetup#Xcode-Project-Setup"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/02-ContainerSetup#CKContainer-Initialization"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/02-ContainerSetup#Creating-Custom-Zones"},{"kind":"assessment","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/02-ContainerSetup#Check-Your-Understanding"}]}]},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Saving-Records-(CKRecord)","projects":[{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/03-RecordSave","sections":[{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/03-RecordSave#Understanding-CKRecord"},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/03-RecordSave#Saving-Records","kind":"task"},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/03-RecordSave#Batch-Saving","kind":"task"},{"kind":"assessment","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/03-RecordSave#Check-Your-Understanding"}]}]},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Querying-Records","projects":[{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/04-RecordQuery","sections":[{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/04-RecordQuery#CKQuery-Basics"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/04-RecordQuery#Filtering-and-Sorting"},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/04-RecordQuery#Pagination","kind":"task"},{"kind":"assessment","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/04-RecordQuery#Check-Your-Understanding"}]}]},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Subscriptions-(CKSubscription)","projects":[{"sections":[{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/05-Subscription#Understanding-Subscriptions","kind":"task"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/05-Subscription#Zone-Based-Subscriptions"},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/05-Subscription#Database-Subscriptions","kind":"task"},{"kind":"assessment","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/05-Subscription#Check-Your-Understanding"}],"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/05-Subscription"}]},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Push-Notification-Integration","projects":[{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/06-PushNotification","sections":[{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/06-PushNotification#Push-Notification-Setup"},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/06-PushNotification#Handling-CloudKit-Notifications","kind":"task"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/06-PushNotification#Silent-Push-and-Background-Sync"},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/06-PushNotification#Check-Your-Understanding","kind":"assessment"}]}]},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Shared-Database","projects":[{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/07-SharedDatabase","sections":[{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/07-SharedDatabase#Understanding-Shared-Database"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/07-SharedDatabase#Querying-Shared-Data"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/07-SharedDatabase#Modifying-Shared-Data"},{"kind":"assessment","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/07-SharedDatabase#Check-Your-Understanding"}]}]},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/CKShare-Collaboration","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/08-CKShare#Understanding-CKShare"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/08-CKShare#Implementing-Sharing-UI"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/08-CKShare#Handling-Share-Acceptance"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/08-CKShare#Managing-Participants"},{"kind":"assessment","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/08-CKShare#Check-Your-Understanding"}],"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/08-CKShare"}]},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Conflict-Resolution","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/09-ConflictResolution#Understanding-Conflicts"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/09-ConflictResolution#Merge-Strategies"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/09-ConflictResolution#Automatic-Retry"},{"kind":"assessment","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/09-ConflictResolution#Check-Your-Understanding"}],"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/09-ConflictResolution"}]},{"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Using-CloudKit-Dashboard","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/10-Dashboard#Accessing-Dashboard"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/10-Dashboard#Schema-Management"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/10-Dashboard#Data-Query-and-Editing"},{"kind":"task","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/10-Dashboard#Logs-and-Monitoring"},{"kind":"assessment","reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/10-Dashboard#Check-Your-Understanding"}],"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/10-Dashboard"}]}],"paths":[["doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents","doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/$volume","doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Push-Notification-Integration"]],"reference":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents"},"sections":[{"estimatedTimeInMinutes":25,"kind":"hero","chapter":"Push Notification Integration","title":"Push Notification Integration","content":[{"type":"paragraph","inlineContent":[{"text":"Handle push notifications from CloudKit subscriptions.","type":"text"},{"text":" ","type":"text"},{"text":"Implement background synchronization with Silent Push.","type":"text"}]}]},{"kind":"tasks","tasks":[{"contentSection":[{"mediaPosition":"trailing","kind":"contentAndMedia","content":[{"inlineContent":[{"type":"text","text":"To receive CloudKit push notifications, you need to register for remote notifications in your app."}],"type":"paragraph"}]}],"title":"Push Notification Setup","stepsSection":[{"type":"step","caption":[],"media":null,"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add Push Notifications capability in Xcode."},{"text":" ","type":"text"},{"text":"Also enable Remote notifications in Background Modes.","type":"text"}]}],"code":null},{"code":"06-02-registernotification.swift","runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Register for remote notifications in AppDelegate."}]}],"caption":[],"media":null},{"type":"step","caption":[],"code":"06-03-devicetoken.swift","runtimePreview":null,"media":null,"content":[{"inlineContent":[{"text":"Handle device token.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"CloudKit automatically manages tokens, but verify for logging purposes."}],"type":"paragraph"}]}],"anchor":"Push-Notification-Setup"},{"contentSection":[{"mediaPosition":"trailing","content":[{"inlineContent":[{"type":"text","text":"Parse CKNotification to synchronize changed data."}],"type":"paragraph"}],"kind":"contentAndMedia"}],"title":"Handling CloudKit Notifications","stepsSection":[{"type":"step","caption":[],"code":"06-04-receivenotification.swift","runtimePreview":null,"media":null,"content":[{"inlineContent":[{"type":"text","text":"Handle CloudKit notifications in didReceiveRemoteNotification."}],"type":"paragraph"}]},{"type":"step","caption":[],"code":"06-05-parsenotification.swift","runtimePreview":null,"media":null,"content":[{"inlineContent":[{"text":"Process by distinguishing CKNotification types.","type":"text"}],"type":"paragraph"}]},{"media":null,"caption":[],"content":[{"inlineContent":[{"type":"text","text":"Extract change information from CKQueryNotification."}],"type":"paragraph"}],"code":"06-06-querynotification.swift","type":"step","runtimePreview":null}],"anchor":"Handling-CloudKit-Notifications"},{"contentSection":[{"mediaPosition":"trailing","content":[{"inlineContent":[{"type":"text","text":"Synchronize data in the background without notifying the user."},{"type":"text","text":" "},{"type":"text","text":"Implement Silent Push using content-available."}],"type":"paragraph"}],"kind":"contentAndMedia"}],"title":"Silent Push and Background Sync","stepsSection":[{"caption":[],"code":"06-07-silentpush.swift","content":[{"inlineContent":[{"text":"Configure NotificationInfo for Silent Push.","type":"text"}],"type":"paragraph"}],"media":null,"runtimePreview":null,"type":"step"},{"type":"step","caption":[],"media":null,"runtimePreview":null,"content":[{"inlineContent":[{"text":"Fetch data in the background.","type":"text"},{"text":" ","type":"text"},{"text":"You must call completionHandler appropriately.","type":"text"}],"type":"paragraph"}],"code":"06-08-backgroundfetch.swift"},{"media":null,"caption":[],"content":[{"inlineContent":[{"type":"text","text":"Manage synchronization state."},{"text":" ","type":"text"},{"type":"text","text":"Track the last synchronization time."}],"type":"paragraph"}],"type":"step","code":"06-09-syncstate.swift","runtimePreview":null}],"anchor":"Silent-Push-and-Background-Sync"}]},{"kind":"assessments","assessments":[{"title":[{"inlineContent":[{"text":"What CKNotificationInfo setting is required for CloudKit Silent Push?","type":"text"}],"type":"paragraph"}],"content":[],"type":"multiple-choice","choices":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"alertBody setting"}]}],"isCorrect":false,"justification":[{"type":"paragraph","inlineContent":[{"text":"alertBody is for user-visible notifications.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"shouldSendContentAvailable = true","type":"text"}]}],"justification":[{"inlineContent":[{"text":"Silent Push requires sending content-available: 1.","type":"text"}],"type":"paragraph"}],"isCorrect":true},{"content":[{"inlineContent":[{"type":"text","text":"soundName setting"}],"type":"paragraph"}],"justification":[{"type":"paragraph","inlineContent":[{"text":"Sound is for user notifications.","type":"text"}]}],"isCorrect":false}]},{"title":[{"inlineContent":[{"type":"text","text":"What must be called after background fetch completion?"}],"type":"paragraph"}],"content":[],"type":"multiple-choice","choices":[{"content":[{"inlineContent":[{"type":"text","text":"completionHandler(.newData) or similar result"}],"type":"paragraph"}],"justification":[{"inlineContent":[{"text":"You must notify the system of task completion for proper app management.","type":"text"}],"type":"paragraph"}],"isCorrect":true},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"UIApplication.shared.endBackgroundTask"}]}],"justification":[{"inlineContent":[{"text":"Thatâ€™s used in pair with beginBackgroundTask.","type":"text"}],"type":"paragraph"}],"isCorrect":false},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"NotificationCenter.post"}]}],"justification":[{"type":"paragraph","inlineContent":[{"text":"Thatâ€™s unrelated to local notifications.","type":"text"}]}],"isCorrect":false}]}],"anchor":"Check-Your-Understanding"},{"title":"Shared Database","abstract":[{"text":"Understand the structure and behavior of Shared Database.","type":"text"},{"type":"text","text":" "},{"text":"Learn how to access data shared by other users.","type":"text"}],"featuredEyebrow":"Tutorial","kind":"callToAction","action":{"isActive":true,"type":"reference","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/07-SharedDatabase","overridingTitleInlineContent":[{"type":"text","text":"Get started"}],"overridingTitle":"Get started"}}],"metadata":{"categoryPathComponent":"Table-of-Contents","title":"Push Notification Integration","category":"Shared Notes App","role":"project"},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/06-PushNotification"},"kind":"project","references":{"doc://cloudkit.HIGCloudKit/tutorials/Table-of-Contents/Subscriptions-(CKSubscription)":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Subscriptions-(CKSubscription)","title":"Subscriptions (CKSubscription)","url":"\/tutorials\/table-of-contents\/subscriptions-(cksubscription)","kind":"article","type":"topic","role":"article","abstract":[]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/03-RecordSave#Understanding-CKRecord":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/03-RecordSave#Understanding-CKRecord","title":"Understanding CKRecord","url":"\/tutorials\/higcloudkit\/03-recordsave#Understanding-CKRecord","kind":"section","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"Learn how to save data to CloudKit using CKRecord."},{"type":"text","text":" "},{"type":"text","text":"Store and manage note data in the cloud."}]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/09-ConflictResolution#Merge-Strategies":{"abstract":[{"type":"text","text":"Detect and resolve conflicts that occur during concurrent editing."},{"type":"text","text":" "},{"type":"text","text":"Implement various merge strategies."}],"role":"pseudoSymbol","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/09-ConflictResolution#Merge-Strategies","title":"Merge Strategies","type":"section","kind":"section","url":"\/tutorials\/higcloudkit\/09-conflictresolution#Merge-Strategies"},"06-02-registernotification.swift":{"highlights":[],"fileName":"AppDelegate.swift","content":["import UIKit","import CloudKit","","class AppDelegate: NSObject, UIApplicationDelegate {","    ","    func application(","        _ application: UIApplication,","        didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]? = nil","    ) -> Bool {","        ","        \/\/ ì›ê²© ì•Œë¦¼ ë“±ë¡","        registerForRemoteNotifications(application)","        ","        return true","    }","    ","    private func registerForRemoteNotifications(_ application: UIApplication) {","        \/\/ ì•Œë¦¼ ê¶Œí•œ ìš”ì²­","        UNUserNotificationCenter.current().requestAuthorization(","            options: [.alert, .badge, .sound]","        ) { granted, error in","            if granted {","                DispatchQueue.main.async {","                    \/\/ APNsì— ë””ë°”ì´ìŠ¤ ë“±ë¡","                    application.registerForRemoteNotifications()","                }","            }","            ","            if let error = error {","                print(\"Notification auth error: \\(error)\")","            }","        }","    }","}"],"syntax":"swift","fileType":"swift","type":"file","identifier":"06-02-registernotification.swift"},"doc://cloudkit.HIGCloudKit/tutorials/Table-of-Contents/Shared-Database":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Shared-Database","url":"\/tutorials\/table-of-contents\/shared-database","role":"article","kind":"article","type":"topic","title":"Shared Database","abstract":[]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/02-ContainerSetup":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/02-ContainerSetup","estimatedTime":"20min","type":"topic","title":"CKContainer Setup","abstract":[{"type":"text","text":"Learn how to set up a CloudKit container in your Xcode project"},{"type":"text","text":" "},{"type":"text","text":"and configure iCloud capabilities."}],"url":"\/tutorials\/higcloudkit\/02-containersetup","kind":"project","role":"project"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/08-CKShare#Check-Your-Understanding":{"type":"link","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/08-CKShare#Check-Your-Understanding","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"url":"\/tutorials\/higcloudkit\/08-ckshare#Check-Your-Understanding"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/02-ContainerSetup#Xcode-Project-Setup":{"abstract":[{"type":"text","text":"Learn how to set up a CloudKit container in your Xcode project"},{"type":"text","text":" "},{"text":"and configure iCloud capabilities.","type":"text"}],"role":"pseudoSymbol","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/02-ContainerSetup#Xcode-Project-Setup","title":"Xcode Project Setup","type":"section","kind":"section","url":"\/tutorials\/higcloudkit\/02-containersetup#Xcode-Project-Setup"},"doc://cloudkit.HIGCloudKit/tutorials/Table-of-Contents/Querying-Records":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Querying-Records","kind":"article","title":"Querying Records","url":"\/tutorials\/table-of-contents\/querying-records","type":"topic","role":"article","abstract":[]},"06-06-querynotification.swift":{"content":["import CloudKit","","extension CloudKitManager {","    ","    \/\/\/ Query ì•Œë¦¼ ì²˜ë¦¬","    func handleQueryNotification(_ notification: CKQueryNotification) async throws {","        guard let recordID = notification.recordID else { return }","        ","        switch notification.queryNotificationReason {","        case .recordCreated:","            print(\"ğŸ“ Record created: \\(recordID.recordName)\")","            \/\/ ìƒˆ ë ˆì½”ë“œ í˜ì¹˜","            let record = try await privateDatabase.record(for: recordID)","            if let note = Note(from: record) {","                await MainActor.run {","                    \/\/ UI ì—…ë°ì´íŠ¸ (ì˜ˆ: @Published ë°°ì—´ì— ì¶”ê°€)","                    NotificationCenter.default.post(","                        name: .noteCreated,","                        object: note","                    )","                }","            }","            ","        case .recordUpdated:","            print(\"âœï¸ Record updated: \\(recordID.recordName)\")","            let record = try await privateDatabase.record(for: recordID)","            if let note = Note(from: record) {","                await MainActor.run {","                    NotificationCenter.default.post(","                        name: .noteUpdated,","                        object: note","                    )","                }","            }","            ","        case .recordDeleted:","            print(\"ğŸ—‘ï¸ Record deleted: \\(recordID.recordName)\")","            await MainActor.run {","                NotificationCenter.default.post(","                    name: .noteDeleted,","                    object: recordID","                )","            }","            ","        @unknown default:","            break","        }","    }","}","","\/\/ ì•Œë¦¼ ì´ë¦„ ì •ì˜","extension Notification.Name {","    static let noteCreated = Notification.Name(\"noteCreated\")","    static let noteUpdated = Notification.Name(\"noteUpdated\")","    static let noteDeleted = Notification.Name(\"noteDeleted\")","}"],"type":"file","syntax":"swift","identifier":"06-06-querynotification.swift","fileType":"swift","highlights":[{"line":5},{"line":6},{"line":7},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":50},{"line":51},{"line":52},{"line":53},{"line":54},{"line":55},{"line":56}],"fileName":"CloudKitManager.swift"},"06-07-silentpush.swift":{"content":["import CloudKit","","extension CloudKitManager {","    ","    \/\/\/ Silent Pushìš© êµ¬ë… ìƒì„±","    func createSilentSubscription() -> CKRecordZoneSubscription {","        let subscription = CKRecordZoneSubscription(","            zoneID: notesZoneID,","            subscriptionID: \"notes-silent-subscription\"","        )","        ","        \/\/ Silent Push ì„¤ì •","        let notificationInfo = CKSubscription.NotificationInfo()","        ","        \/\/ í•µì‹¬: ë°±ê·¸ë¼ìš´ë“œ í˜ì¹˜ í™œì„±í™”","        notificationInfo.shouldSendContentAvailable = true","        ","        \/\/ ì‚¬ìš©ìì—ê²Œ í‘œì‹œ ì•ˆ í•¨","        notificationInfo.alertBody = nil","        notificationInfo.soundName = nil","        notificationInfo.shouldBadge = false","        ","        subscription.notificationInfo = notificationInfo","        ","        return subscription","    }","}"],"type":"file","syntax":"swift","identifier":"06-07-silentpush.swift","fileType":"swift","highlights":[],"fileName":"CloudKitManager.swift"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/10-Dashboard#Accessing-Dashboard":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/10-Dashboard#Accessing-Dashboard","title":"Accessing Dashboard","url":"\/tutorials\/higcloudkit\/10-dashboard#Accessing-Dashboard","kind":"section","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"Manage and monitor data with CloudKit Dashboard."},{"type":"text","text":" "},{"type":"text","text":"Learn schema definition, query testing, and log analysis."}]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/08-CKShare":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/08-CKShare","estimatedTime":"25min","type":"topic","title":"CKShare Collaboration","abstract":[{"text":"Share notes with other users using CKShare.","type":"text"},{"text":" ","type":"text"},{"text":"Implement sharing UI with UICloudSharingController.","type":"text"}],"url":"\/tutorials\/higcloudkit\/08-ckshare","kind":"project","role":"project"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/05-Subscription#Database-Subscriptions":{"abstract":[{"type":"text","text":"Detect data changes in real-time with CKSubscription."},{"type":"text","text":" "},{"type":"text","text":"Set up server-side notifications to automate synchronization."}],"role":"pseudoSymbol","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/05-Subscription#Database-Subscriptions","title":"Database Subscriptions","type":"section","kind":"section","url":"\/tutorials\/higcloudkit\/05-subscription#Database-Subscriptions"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/10-Dashboard#Logs-and-Monitoring":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/10-Dashboard#Logs-and-Monitoring","url":"\/tutorials\/higcloudkit\/10-dashboard#Logs-and-Monitoring","role":"pseudoSymbol","kind":"section","type":"section","title":"Logs and Monitoring","abstract":[{"type":"text","text":"Manage and monitor data with CloudKit Dashboard."},{"text":" ","type":"text"},{"text":"Learn schema definition, query testing, and log analysis.","type":"text"}]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/10-Dashboard":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/10-Dashboard","estimatedTime":"20min","type":"topic","title":"Using CloudKit Dashboard","abstract":[{"text":"Manage and monitor data with CloudKit Dashboard.","type":"text"},{"text":" ","type":"text"},{"text":"Learn schema definition, query testing, and log analysis.","type":"text"}],"url":"\/tutorials\/higcloudkit\/10-dashboard","kind":"project","role":"project"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/07-SharedDatabase#Querying-Shared-Data":{"abstract":[{"text":"Understand the structure and behavior of Shared Database.","type":"text"},{"text":" ","type":"text"},{"text":"Learn how to access data shared by other users.","type":"text"}],"role":"pseudoSymbol","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/07-SharedDatabase#Querying-Shared-Data","title":"Querying Shared Data","type":"section","kind":"section","url":"\/tutorials\/higcloudkit\/07-shareddatabase#Querying-Shared-Data"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/06-PushNotification#Handling-CloudKit-Notifications":{"url":"\/tutorials\/higcloudkit\/06-pushnotification#Handling-CloudKit-Notifications","abstract":[{"type":"text","text":"Handle push notifications from CloudKit subscriptions."},{"type":"text","text":" "},{"type":"text","text":"Implement background synchronization with Silent Push."}],"type":"section","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/06-PushNotification#Handling-CloudKit-Notifications","title":"Handling CloudKit Notifications","kind":"section","role":"pseudoSymbol"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/06-PushNotification#Check-Your-Understanding":{"type":"link","title":"Check Your Understanding","url":"\/tutorials\/higcloudkit\/06-pushnotification#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/06-PushNotification#Check-Your-Understanding"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/09-ConflictResolution#Understanding-Conflicts":{"url":"\/tutorials\/higcloudkit\/09-conflictresolution#Understanding-Conflicts","abstract":[{"type":"text","text":"Detect and resolve conflicts that occur during concurrent editing."},{"type":"text","text":" "},{"type":"text","text":"Implement various merge strategies."}],"type":"section","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/09-ConflictResolution#Understanding-Conflicts","title":"Understanding Conflicts","kind":"section","role":"pseudoSymbol"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/02-ContainerSetup#Creating-Custom-Zones":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/02-ContainerSetup#Creating-Custom-Zones","title":"Creating Custom Zones","url":"\/tutorials\/higcloudkit\/02-containersetup#Creating-Custom-Zones","kind":"section","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"Learn how to set up a CloudKit container in your Xcode project"},{"type":"text","text":" "},{"type":"text","text":"and configure iCloud capabilities."}]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/04-RecordQuery#Check-Your-Understanding":{"url":"\/tutorials\/higcloudkit\/04-recordquery#Check-Your-Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/04-RecordQuery#Check-Your-Understanding","title":"Check Your Understanding","type":"link"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/04-RecordQuery":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/04-RecordQuery","estimatedTime":"20min","type":"topic","title":"Querying Records","abstract":[{"type":"text","text":"Query data from CloudKit using CKQuery and NSPredicate."},{"type":"text","text":" "},{"type":"text","text":"Learn filtering, sorting, and pagination techniques."}],"url":"\/tutorials\/higcloudkit\/04-recordquery","kind":"project","role":"project"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/01-Introduction#Check-Your-Understanding":{"url":"\/tutorials\/higcloudkit\/01-introduction#Check-Your-Understanding","title":"Check Your Understanding","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/01-Introduction#Check-Your-Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/03-RecordSave":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/03-RecordSave","estimatedTime":"20min","type":"topic","title":"Saving Records (CKRecord)","abstract":[{"text":"Learn how to save data to CloudKit using CKRecord.","type":"text"},{"text":" ","type":"text"},{"text":"Store and manage note data in the cloud.","type":"text"}],"url":"\/tutorials\/higcloudkit\/03-recordsave","kind":"project","role":"project"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/08-CKShare#Managing-Participants":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/08-CKShare#Managing-Participants","title":"Managing Participants","url":"\/tutorials\/higcloudkit\/08-ckshare#Managing-Participants","kind":"section","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"Share notes with other users using CKShare."},{"text":" ","type":"text"},{"type":"text","text":"Implement sharing UI with UICloudSharingController."}]},"06-03-devicetoken.swift":{"content":["import UIKit","","extension AppDelegate {","    ","    \/\/ ë””ë°”ì´ìŠ¤ í† í° ìˆ˜ì‹  ì„±ê³µ","    func application(","        _ application: UIApplication,","        didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data","    ) {","        \/\/ CloudKitì€ ìë™ìœ¼ë¡œ í† í°ì„ ê´€ë¦¬í•˜ë¯€ë¡œ ë³„ë„ ì²˜ë¦¬ ë¶ˆí•„ìš”","        \/\/ ë””ë²„ê¹…ìš© ë¡œê·¸","        let tokenString = deviceToken.map { String(format: \"%02.2hhx\", $0) }.joined()","        print(\"âœ… APNs token: \\(tokenString.prefix(20))...\")","    }","    ","    \/\/ ë“±ë¡ ì‹¤íŒ¨","    func application(","        _ application: UIApplication,","        didFailToRegisterForRemoteNotificationsWithError error: Error","    ) {","        print(\"âŒ Failed to register for notifications: \\(error)\")","    }","}"],"type":"file","syntax":"swift","identifier":"06-03-devicetoken.swift","fileType":"swift","highlights":[{"line":3},{"line":5},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21}],"fileName":"AppDelegate.swift"},"doc://cloudkit.HIGCloudKit/tutorials/Table-of-Contents/CKShare-Collaboration":{"url":"\/tutorials\/table-of-contents\/ckshare-collaboration","abstract":[],"type":"topic","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/CKShare-Collaboration","title":"CKShare Collaboration","kind":"article","role":"article"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/01-Introduction#Starting-the-Notes-App-Project":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/01-Introduction#Starting-the-Notes-App-Project","kind":"section","title":"Starting the Notes App Project","url":"\/tutorials\/higcloudkit\/01-introduction#Starting-the-Notes-App-Project","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"Learn the basic concepts and architecture of CloudKit."},{"type":"text","text":" "},{"type":"text","text":"Understand the relationships between containers, databases, and records."}]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/08-CKShare#Handling-Share-Acceptance":{"abstract":[{"type":"text","text":"Share notes with other users using CKShare."},{"type":"text","text":" "},{"type":"text","text":"Implement sharing UI with UICloudSharingController."}],"role":"pseudoSymbol","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/08-CKShare#Handling-Share-Acceptance","title":"Handling Share Acceptance","type":"section","kind":"section","url":"\/tutorials\/higcloudkit\/08-ckshare#Handling-Share-Acceptance"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/01-Introduction#Understanding-CloudKit":{"role":"pseudoSymbol","type":"section","title":"Understanding CloudKit","url":"\/tutorials\/higcloudkit\/01-introduction#Understanding-CloudKit","abstract":[{"type":"text","text":"Learn the basic concepts and architecture of CloudKit."},{"type":"text","text":" "},{"type":"text","text":"Understand the relationships between containers, databases, and records."}],"kind":"section","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/01-Introduction#Understanding-CloudKit"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/05-Subscription":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/05-Subscription","estimatedTime":"20min","type":"topic","title":"Subscriptions (CKSubscription)","abstract":[{"text":"Detect data changes in real-time with CKSubscription.","type":"text"},{"text":" ","type":"text"},{"text":"Set up server-side notifications to automate synchronization.","type":"text"}],"url":"\/tutorials\/higcloudkit\/05-subscription","kind":"project","role":"project"},"doc://cloudkit.HIGCloudKit/tutorials/Table-of-Contents/Saving-Records-(CKRecord)":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Saving-Records-(CKRecord)","url":"\/tutorials\/table-of-contents\/saving-records-(ckrecord)","role":"article","kind":"article","type":"topic","title":"Saving Records (CKRecord)","abstract":[]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/07-SharedDatabase#Modifying-Shared-Data":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/07-SharedDatabase#Modifying-Shared-Data","kind":"section","title":"Modifying Shared Data","url":"\/tutorials\/higcloudkit\/07-shareddatabase#Modifying-Shared-Data","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"Understand the structure and behavior of Shared Database."},{"type":"text","text":" "},{"type":"text","text":"Learn how to access data shared by other users."}]},"06-05-parsenotification.swift":{"content":["import CloudKit","","extension CloudKitManager {","    ","    \/\/\/ CloudKit ì•Œë¦¼ ì²˜ë¦¬","    func handleNotification(_ notification: CKNotification) async throws {","        ","        switch notification.notificationType {","        case .query:","            \/\/ Query êµ¬ë… ì•Œë¦¼","            if let queryNotification = notification as? CKQueryNotification {","                try await handleQueryNotification(queryNotification)","            }","            ","        case .recordZone:","            \/\/ Zone êµ¬ë… ì•Œë¦¼","            if let zoneNotification = notification as? CKRecordZoneNotification {","                try await handleZoneNotification(zoneNotification)","            }","            ","        case .database:","            \/\/ Database êµ¬ë… ì•Œë¦¼","            if let dbNotification = notification as? CKDatabaseNotification {","                try await handleDatabaseNotification(dbNotification)","            }","            ","        case .readNotification:","            \/\/ ì½ìŒ ì²˜ë¦¬ ì•Œë¦¼","            break","            ","        @unknown default:","            break","        }","    }","}"],"type":"file","syntax":"swift","identifier":"06-05-parsenotification.swift","fileType":"swift","highlights":[],"fileName":"CloudKitManager.swift"},"06-04-receivenotification.swift":{"content":["import UIKit","import CloudKit","","extension AppDelegate {","    ","    \/\/ ì›ê²© ì•Œë¦¼ ìˆ˜ì‹ ","    func application(","        _ application: UIApplication,","        didReceiveRemoteNotification userInfo: [AnyHashable: Any],","        fetchCompletionHandler completionHandler: @escaping (UIBackgroundFetchResult) -> Void","    ) {","        \/\/ CloudKit ì•Œë¦¼ì¸ì§€ í™•ì¸","        guard let notification = CKNotification(fromRemoteNotificationDictionary: userInfo) else {","            completionHandler(.noData)","            return","        }","        ","        \/\/ ì•Œë¦¼ ì²˜ë¦¬","        Task {","            do {","                try await CloudKitManager.shared.handleNotification(notification)","                completionHandler(.newData)","            } catch {","                print(\"Error handling notification: \\(error)\")","                completionHandler(.failed)","            }","        }","    }","}"],"type":"file","syntax":"swift","identifier":"06-04-receivenotification.swift","fileType":"swift","highlights":[],"fileName":"AppDelegate.swift"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/04-RecordQuery#Pagination":{"url":"\/tutorials\/higcloudkit\/04-recordquery#Pagination","abstract":[{"text":"Query data from CloudKit using CKQuery and NSPredicate.","type":"text"},{"text":" ","type":"text"},{"text":"Learn filtering, sorting, and pagination techniques.","type":"text"}],"type":"section","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/04-RecordQuery#Pagination","title":"Pagination","kind":"section","role":"pseudoSymbol"},"doc://cloudkit.HIGCloudKit/tutorials/Table-of-Contents/Using-CloudKit-Dashboard":{"url":"\/tutorials\/table-of-contents\/using-cloudkit-dashboard","abstract":[],"type":"topic","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Using-CloudKit-Dashboard","title":"Using CloudKit Dashboard","kind":"article","role":"article"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/03-RecordSave#Saving-Records":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/03-RecordSave#Saving-Records","title":"Saving Records","url":"\/tutorials\/higcloudkit\/03-recordsave#Saving-Records","kind":"section","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"Learn how to save data to CloudKit using CKRecord."},{"type":"text","text":" "},{"type":"text","text":"Store and manage note data in the cloud."}]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/10-Dashboard#Schema-Management":{"abstract":[{"type":"text","text":"Manage and monitor data with CloudKit Dashboard."},{"type":"text","text":" "},{"type":"text","text":"Learn schema definition, query testing, and log analysis."}],"role":"pseudoSymbol","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/10-Dashboard#Schema-Management","title":"Schema Management","type":"section","kind":"section","url":"\/tutorials\/higcloudkit\/10-dashboard#Schema-Management"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/09-ConflictResolution#Check-Your-Understanding":{"url":"\/tutorials\/higcloudkit\/09-conflictresolution#Check-Your-Understanding","type":"link","title":"Check Your Understanding","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/09-ConflictResolution#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://cloudkit.HIGCloudKit/tutorials/Table-of-Contents/Push-Notification-Integration":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Push-Notification-Integration","title":"Push Notification Integration","url":"\/tutorials\/table-of-contents\/push-notification-integration","kind":"article","type":"topic","role":"article","abstract":[]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/03-RecordSave#Check-Your-Understanding":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/03-RecordSave#Check-Your-Understanding","url":"\/tutorials\/higcloudkit\/03-recordsave#Check-Your-Understanding","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"type":"link"},"06-09-syncstate.swift":{"syntax":"swift","identifier":"06-09-syncstate.swift","type":"file","fileName":"SyncManager.swift","content":["import CloudKit","import Foundation","","\/\/\/ ë™ê¸°í™” ìƒíƒœ ê´€ë¦¬","@MainActor","class SyncManager: ObservableObject {","    ","    static let shared = SyncManager()","    ","    @Published var lastSyncDate: Date?","    @Published var isSyncing = false","    @Published var pendingChanges = 0","    ","    \/\/ ë§ˆì§€ë§‰ ë™ê¸°í™” í† í° (UserDefaultsì— ì €ì¥)","    private var changeToken: CKServerChangeToken? {","        get {","            guard let data = UserDefaults.standard.data(forKey: \"changeToken\") else {","                return nil","            }","            return try? NSKeyedUnarchiver.unarchivedObject(","                ofClass: CKServerChangeToken.self,","                from: data","            )","        }","        set {","            if let token = newValue {","                let data = try? NSKeyedArchiver.archivedData(","                    withRootObject: token,","                    requiringSecureCoding: true","                )","                UserDefaults.standard.set(data, forKey: \"changeToken\")","            } else {","                UserDefaults.standard.removeObject(forKey: \"changeToken\")","            }","        }","    }","    ","    \/\/\/ ë³€ê²½ì‚¬í•­ ë™ê¸°í™”","    func syncChanges() async throws -> Bool {","        isSyncing = true","        defer { isSyncing = false }","        ","        \/\/ ì—¬ê¸°ì„œ ì‹¤ì œ ë™ê¸°í™” ë¡œì§ êµ¬í˜„","        \/\/ changeTokenì„ ì‚¬ìš©í•˜ì—¬ ë§ˆì§€ë§‰ ë™ê¸°í™” ì´í›„ ë³€ê²½ì‚¬í•­ë§Œ ê°€ì ¸ì˜´","        ","        lastSyncDate = Date()","        return true","    }","}"],"fileType":"swift","highlights":[]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/09-ConflictResolution":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/09-ConflictResolution","estimatedTime":"25min","type":"topic","title":"Conflict Resolution","abstract":[{"text":"Detect and resolve conflicts that occur during concurrent editing.","type":"text"},{"text":" ","type":"text"},{"text":"Implement various merge strategies.","type":"text"}],"url":"\/tutorials\/higcloudkit\/09-conflictresolution","kind":"project","role":"project"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/03-RecordSave#Batch-Saving":{"title":"Batch Saving","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higcloudkit\/03-recordsave#Batch-Saving","abstract":[{"type":"text","text":"Learn how to save data to CloudKit using CKRecord."},{"type":"text","text":" "},{"type":"text","text":"Store and manage note data in the cloud."}],"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/03-RecordSave#Batch-Saving","kind":"section"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/04-RecordQuery#Filtering-and-Sorting":{"url":"\/tutorials\/higcloudkit\/04-recordquery#Filtering-and-Sorting","abstract":[{"text":"Query data from CloudKit using CKQuery and NSPredicate.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Learn filtering, sorting, and pagination techniques."}],"type":"section","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/04-RecordQuery#Filtering-and-Sorting","title":"Filtering and Sorting","kind":"section","role":"pseudoSymbol"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/02-ContainerSetup#CKContainer-Initialization":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/02-ContainerSetup#CKContainer-Initialization","title":"CKContainer Initialization","url":"\/tutorials\/higcloudkit\/02-containersetup#CKContainer-Initialization","kind":"section","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"Learn how to set up a CloudKit container in your Xcode project"},{"type":"text","text":" "},{"type":"text","text":"and configure iCloud capabilities."}]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/05-Subscription#Check-Your-Understanding":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/05-Subscription#Check-Your-Understanding","type":"link","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"title":"Check Your Understanding","url":"\/tutorials\/higcloudkit\/05-subscription#Check-Your-Understanding"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/09-ConflictResolution#Automatic-Retry":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/09-ConflictResolution#Automatic-Retry","title":"Automatic Retry","url":"\/tutorials\/higcloudkit\/09-conflictresolution#Automatic-Retry","kind":"section","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"Detect and resolve conflicts that occur during concurrent editing."},{"type":"text","text":" "},{"type":"text","text":"Implement various merge strategies."}]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/10-Dashboard#Check-Your-Understanding":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/10-Dashboard#Check-Your-Understanding","type":"link","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"title":"Check Your Understanding","url":"\/tutorials\/higcloudkit\/10-dashboard#Check-Your-Understanding"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/02-ContainerSetup#Check-Your-Understanding":{"url":"\/tutorials\/higcloudkit\/02-containersetup#Check-Your-Understanding","type":"link","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/02-ContainerSetup#Check-Your-Understanding","title":"Check Your Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}]},"doc://cloudkit.HIGCloudKit/tutorials/Table-of-Contents/CloudKit-Introduction-&-Containers":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/CloudKit-Introduction-&-Containers","title":"CloudKit Introduction & Containers","url":"\/tutorials\/table-of-contents\/cloudkit-introduction-&-containers","kind":"article","type":"topic","role":"article","abstract":[]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/05-Subscription#Zone-Based-Subscriptions":{"url":"\/tutorials\/higcloudkit\/05-subscription#Zone-Based-Subscriptions","abstract":[{"type":"text","text":"Detect data changes in real-time with CKSubscription."},{"type":"text","text":" "},{"text":"Set up server-side notifications to automate synchronization.","type":"text"}],"type":"section","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/05-Subscription#Zone-Based-Subscriptions","title":"Zone-Based Subscriptions","kind":"section","role":"pseudoSymbol"},"doc://cloudkit.HIGCloudKit/tutorials/Table-of-Contents/CKContainer-Setup":{"url":"\/tutorials\/table-of-contents\/ckcontainer-setup","abstract":[],"type":"topic","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/CKContainer-Setup","title":"CKContainer Setup","kind":"article","role":"article"},"06-08-backgroundfetch.swift":{"syntax":"swift","identifier":"06-08-backgroundfetch.swift","type":"file","fileName":"AppDelegate.swift","content":["import UIKit","import CloudKit","","extension AppDelegate {","    ","    \/\/ ë°±ê·¸ë¼ìš´ë“œ ì•Œë¦¼ ì²˜ë¦¬","    func application(","        _ application: UIApplication,","        didReceiveRemoteNotification userInfo: [AnyHashable: Any],","        fetchCompletionHandler completionHandler: @escaping (UIBackgroundFetchResult) -> Void","    ) {","        guard let notification = CKNotification(fromRemoteNotificationDictionary: userInfo) else {","            completionHandler(.noData)","            return","        }","        ","        \/\/ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì‹œì‘ (ì‹œê°„ ì œí•œ ìˆìŒ)","        let taskID = application.beginBackgroundTask {","            \/\/ ì‹œê°„ ì´ˆê³¼ ì‹œ í˜¸ì¶œ","            completionHandler(.failed)","        }","        ","        Task {","            do {","                \/\/ ë³€ê²½ëœ ë°ì´í„° ë™ê¸°í™”","                let hasChanges = try await CloudKitManager.shared.syncChanges()","                ","                await MainActor.run {","                    application.endBackgroundTask(taskID)","                    completionHandler(hasChanges ? .newData : .noData)","                }","            } catch {","                await MainActor.run {","                    application.endBackgroundTask(taskID)","                    completionHandler(.failed)","                }","            }","        }","    }","}"],"fileType":"swift","highlights":[]},"doc://cloudkit.HIGCloudKit/tutorials/Table-of-Contents/Conflict-Resolution":{"abstract":[],"role":"article","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents\/Conflict-Resolution","title":"Conflict Resolution","type":"topic","kind":"article","url":"\/tutorials\/table-of-contents\/conflict-resolution"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/06-PushNotification":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/06-PushNotification","estimatedTime":"25min","type":"topic","title":"Push Notification Integration","abstract":[{"type":"text","text":"Handle push notifications from CloudKit subscriptions."},{"type":"text","text":" "},{"text":"Implement background synchronization with Silent Push.","type":"text"}],"url":"\/tutorials\/higcloudkit\/06-pushnotification","kind":"project","role":"project"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/10-Dashboard#Data-Query-and-Editing":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/10-Dashboard#Data-Query-and-Editing","title":"Data Query and Editing","url":"\/tutorials\/higcloudkit\/10-dashboard#Data-Query-and-Editing","kind":"section","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"Manage and monitor data with CloudKit Dashboard."},{"type":"text","text":" "},{"type":"text","text":"Learn schema definition, query testing, and log analysis."}]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/07-SharedDatabase":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/07-SharedDatabase","estimatedTime":"20min","type":"topic","title":"Shared Database","abstract":[{"type":"text","text":"Understand the structure and behavior of Shared Database."},{"type":"text","text":" "},{"type":"text","text":"Learn how to access data shared by other users."}],"url":"\/tutorials\/higcloudkit\/07-shareddatabase","kind":"project","role":"project"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/06-PushNotification#Push-Notification-Setup":{"url":"\/tutorials\/higcloudkit\/06-pushnotification#Push-Notification-Setup","abstract":[{"text":"Handle push notifications from CloudKit subscriptions.","type":"text"},{"text":" ","type":"text"},{"text":"Implement background synchronization with Silent Push.","type":"text"}],"type":"section","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/06-PushNotification#Push-Notification-Setup","title":"Push Notification Setup","kind":"section","role":"pseudoSymbol"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/07-SharedDatabase#Understanding-Shared-Database":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/07-SharedDatabase#Understanding-Shared-Database","title":"Understanding Shared Database","url":"\/tutorials\/higcloudkit\/07-shareddatabase#Understanding-Shared-Database","kind":"section","type":"section","role":"pseudoSymbol","abstract":[{"text":"Understand the structure and behavior of Shared Database.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Learn how to access data shared by other users."}]},"doc://cloudkit.HIGCloudKit/tutorials/Table-of-Contents":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/Table-of-Contents","abstract":[{"type":"text","text":"Build a real-time synchronized shared notes app using Apple CloudKit."},{"type":"text","text":" "},{"type":"text","text":"Master data storage, queries, subscriptions, push notifications, and collaboration."}],"type":"topic","title":"Building a Shared Notes App with CloudKit","role":"overview","kind":"overview","url":"\/tutorials\/table-of-contents"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/05-Subscription#Understanding-Subscriptions":{"url":"\/tutorials\/higcloudkit\/05-subscription#Understanding-Subscriptions","abstract":[{"type":"text","text":"Detect data changes in real-time with CKSubscription."},{"type":"text","text":" "},{"text":"Set up server-side notifications to automate synchronization.","type":"text"}],"type":"section","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/05-Subscription#Understanding-Subscriptions","title":"Understanding Subscriptions","kind":"section","role":"pseudoSymbol"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/07-SharedDatabase#Check-Your-Understanding":{"url":"\/tutorials\/higcloudkit\/07-shareddatabase#Check-Your-Understanding","type":"link","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/07-SharedDatabase#Check-Your-Understanding","title":"Check Your Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/08-CKShare#Implementing-Sharing-UI":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/08-CKShare#Implementing-Sharing-UI","title":"Implementing Sharing UI","kind":"section","url":"\/tutorials\/higcloudkit\/08-ckshare#Implementing-Sharing-UI","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"Share notes with other users using CKShare."},{"text":" ","type":"text"},{"type":"text","text":"Implement sharing UI with UICloudSharingController."}]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/04-RecordQuery#CKQuery-Basics":{"url":"\/tutorials\/higcloudkit\/04-recordquery#CKQuery-Basics","abstract":[{"text":"Query data from CloudKit using CKQuery and NSPredicate.","type":"text"},{"text":" ","type":"text"},{"text":"Learn filtering, sorting, and pagination techniques.","type":"text"}],"type":"section","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/04-RecordQuery#CKQuery-Basics","title":"CKQuery Basics","kind":"section","role":"pseudoSymbol"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/01-Introduction":{"abstract":[{"type":"text","text":"Learn the basic concepts and architecture of CloudKit."},{"type":"text","text":" "},{"type":"text","text":"Understand the relationships between containers, databases, and records."}],"role":"project","identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/01-Introduction","estimatedTime":"15min","title":"CloudKit Introduction & Containers","type":"topic","kind":"project","url":"\/tutorials\/higcloudkit\/01-introduction"},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/08-CKShare#Understanding-CKShare":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/08-CKShare#Understanding-CKShare","title":"Understanding CKShare","url":"\/tutorials\/higcloudkit\/08-ckshare#Understanding-CKShare","kind":"section","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"Share notes with other users using CKShare."},{"type":"text","text":" "},{"type":"text","text":"Implement sharing UI with UICloudSharingController."}]},"doc://cloudkit.HIGCloudKit/tutorials/HIGCloudKit/06-PushNotification#Silent-Push-and-Background-Sync":{"identifier":"doc:\/\/cloudkit.HIGCloudKit\/tutorials\/HIGCloudKit\/06-PushNotification#Silent-Push-and-Background-Sync","title":"Silent Push and Background Sync","url":"\/tutorials\/higcloudkit\/06-pushnotification#Silent-Push-and-Background-Sync","kind":"section","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"Handle push notifications from CloudKit subscriptions."},{"type":"text","text":" "},{"type":"text","text":"Implement background synchronization with Silent Push."}]}}}