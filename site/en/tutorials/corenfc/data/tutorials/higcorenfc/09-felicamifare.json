{"kind":"project","metadata":{"category":"NFC Tag Reader","categoryPathComponent":"Table-of-Contents","role":"project","title":"FeliCa & MIFARE"},"sections":[{"title":"FeliCa & MIFARE","estimatedTimeInMinutes":25,"kind":"hero","content":[{"type":"paragraph","inlineContent":[{"text":"Learn how to work with Japan’s FeliCa and NXP’s MIFARE tags.","type":"text"},{"text":" ","type":"text"},{"text":"These tag types are used in transit cards and electronic money.","type":"text"}]}],"chapter":"FeliCa & MIFARE"},{"kind":"tasks","tasks":[{"contentSection":[{"content":[{"inlineContent":[{"type":"text","text":"FeliCa is a contactless RFID technology developed by Sony."},{"type":"text","text":" "},{"type":"text","text":"Used in Japan’s Suica, PASMO, and other transit cards."}],"type":"paragraph"}],"mediaPosition":"trailing","kind":"contentAndMedia"}],"anchor":"FeliCa-Tags","title":"FeliCa Tags","stepsSection":[{"caption":[],"content":[{"inlineContent":[{"type":"text","text":"Check the main properties of NFCFeliCaTag."},{"type":"text","text":" "},{"type":"text","text":"Includes IDm (Manufacture ID) and PMm (Manufacture Parameter)."}],"type":"paragraph"}],"media":null,"runtimePreview":null,"code":"09-01-felica-props.swift","type":"step"},{"caption":[],"content":[{"inlineContent":[{"type":"text","text":"Poll by specifying a system code."},{"type":"text","text":" "},{"type":"text","text":"0x88B4 is the common area, 0x0003 is Suica."}],"type":"paragraph"}],"media":null,"runtimePreview":null,"code":"09-02-felica-polling.swift","type":"step"},{"caption":[],"content":[{"inlineContent":[{"type":"text","text":"Read block data by specifying a service code."}],"type":"paragraph"}],"media":null,"runtimePreview":null,"code":"09-03-felica-read.swift","type":"step"}]},{"contentSection":[{"content":[{"inlineContent":[{"type":"text","text":"MIFARE is NXP Semiconductors’ contactless smart card technology."},{"type":"text","text":" "},{"type":"text","text":"Product families include MIFARE Classic, Ultralight, DESFire, and more."}],"type":"paragraph"}],"mediaPosition":"trailing","kind":"contentAndMedia"}],"anchor":"MIFARE-Tags","title":"MIFARE Tags","stepsSection":[{"caption":[],"content":[{"inlineContent":[{"type":"text","text":"Identify the product family using NFCMiFareTag’s mifareFamily property."}],"type":"paragraph"}],"media":null,"runtimePreview":null,"code":"09-04-mifare-family.swift","type":"step"},{"caption":[],"content":[{"inlineContent":[{"type":"text","text":"Read pages from a MIFARE Ultralight tag."}],"type":"paragraph"}],"media":null,"runtimePreview":null,"code":"09-05-ultralight-read.swift","type":"step"},{"caption":[],"content":[{"inlineContent":[{"type":"text","text":"Send native MIFARE commands."},{"type":"text","text":" "},{"type":"text","text":"Use the sendMiFareCommand method."}],"type":"paragraph"}],"media":null,"runtimePreview":null,"code":"09-06-mifare-command.swift","type":"step"}]}]},{"kind":"assessments","assessments":[{"type":"multiple-choice","content":[],"choices":[{"justification":[{"inlineContent":[{"type":"text","text":"IDm is an 8-byte unique manufacture identifier."}],"type":"paragraph"}],"content":[{"inlineContent":[{"type":"text","text":"Manufacture ID"}],"type":"paragraph"}],"isCorrect":true},{"justification":[{"inlineContent":[{"type":"text","text":"IDm is the tag’s unique identifier."}],"type":"paragraph"}],"content":[{"inlineContent":[{"type":"text","text":"Internet Domain"}],"type":"paragraph"}],"isCorrect":false},{"justification":[{"inlineContent":[{"type":"text","text":"IDm stands for Identification."}],"type":"paragraph"}],"content":[{"inlineContent":[{"type":"text","text":"Data Memory"}],"type":"paragraph"}],"isCorrect":false}],"title":[{"inlineContent":[{"text":"What is the IDm of a FeliCa tag?","type":"text"}],"type":"paragraph"}]},{"type":"multiple-choice","content":[],"choices":[{"justification":[{"inlineContent":[{"type":"text","text":"Ultralight has small capacity (64-192 bytes)."}],"type":"paragraph"}],"content":[{"inlineContent":[{"type":"text","text":"Large storage capacity (several MB)"}],"type":"paragraph"}],"isCorrect":false},{"justification":[{"inlineContent":[{"type":"text","text":"Used for disposable transit tickets, event tickets, etc."}],"type":"paragraph"}],"content":[{"inlineContent":[{"type":"text","text":"Low-cost, small-capacity disposable\/low-price tags"}],"type":"paragraph"}],"isCorrect":true},{"justification":[{"inlineContent":[{"type":"text","text":"Advanced encryption is supported by the DESFire product family."}],"type":"paragraph"}],"content":[{"inlineContent":[{"type":"text","text":"Advanced encryption support"}],"type":"paragraph"}],"isCorrect":false}],"title":[{"inlineContent":[{"text":"What is a characteristic of MIFARE Ultralight?","type":"text"}],"type":"paragraph"}]}],"anchor":"Check-Your-Understanding"},{"title":"App Launch (Universal Links)","action":{"overridingTitleInlineContent":[{"type":"text","text":"Get started"}],"type":"reference","isActive":true,"overridingTitle":"Get started","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/10-UniversalLinks"},"kind":"callToAction","abstract":[{"text":"Learn how to automatically launch apps via NFC tag scanning.","type":"text"},{"text":" ","type":"text"},{"text":"Implement Universal Links and background tag reading.","type":"text"}],"featuredEyebrow":"Tutorial"}],"hierarchy":{"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents","paths":[["doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents","doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/$volume","doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/FeliCa-&-MIFARE"]],"modules":[{"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/Introduction-to-CoreNFC","projects":[{"sections":[{"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/01-Introduction#Understanding-NFC-Technology","kind":"task"},{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/01-Introduction#Project-Setup"},{"kind":"assessment","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/01-Introduction#Check-Your-Understanding"}],"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/01-Introduction"}]},{"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/NFCNDEFReaderSession","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/02-NDEFReaderSession#Creating-a-Reader-Session"},{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/02-NDEFReaderSession#Implementing-Delegate-Methods"},{"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/02-NDEFReaderSession#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/02-NDEFReaderSession"}]},{"projects":[{"sections":[{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/03-ReadingNDEF#NDEF-Message-Structure"},{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/03-ReadingNDEF#Connecting-to-Tags-Directly"},{"kind":"assessment","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/03-ReadingNDEF#Check-Your-Understanding"}],"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/03-ReadingNDEF"}],"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/Reading-NDEF-Messages"},{"projects":[{"sections":[{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/04-ParsingRecords#Understanding-Type-Name-Format"},{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/04-ParsingRecords#Parsing-Payload-Data"},{"kind":"assessment","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/04-ParsingRecords#Check-Your-Understanding"}],"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/04-ParsingRecords"}],"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/Parsing-NDEF-Records"},{"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/URL-&-Text-Records","projects":[{"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/05-URLTextRecords","sections":[{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/05-URLTextRecords#Parsing-URL-Records"},{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/05-URLTextRecords#Parsing-Text-Records"},{"kind":"assessment","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/05-URLTextRecords#Check-Your-Understanding"}]}]},{"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/Writing-NFC-Tags","projects":[{"sections":[{"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/06-WritingTags#Creating-NDEF-Payloads","kind":"task"},{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/06-WritingTags#Writing-to-Tags"},{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/06-WritingTags#Locking-Tags"},{"kind":"assessment","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/06-WritingTags#Check-Your-Understanding"}],"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/06-WritingTags"}]},{"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/NFCTagReaderSession","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/07-TagReaderSession#Setting-Up-TagReaderSession"},{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/07-TagReaderSession#Identifying-Tag-Types"},{"kind":"assessment","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/07-TagReaderSession#Check-Your-Understanding"}],"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/07-TagReaderSession"}]},{"projects":[{"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/08-ISO7816","sections":[{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/08-ISO7816#Accessing-ISO-7816-Tags"},{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/08-ISO7816#Sending-APDU-Commands"},{"kind":"assessment","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/08-ISO7816#Check-Your-Understanding"}]}],"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/ISO-7816-Tags"},{"projects":[{"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/09-FeliCaMIFARE","sections":[{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/09-FeliCaMIFARE#FeliCa-Tags"},{"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/09-FeliCaMIFARE#MIFARE-Tags","kind":"task"},{"kind":"assessment","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/09-FeliCaMIFARE#Check-Your-Understanding"}]}],"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/FeliCa-&-MIFARE"},{"projects":[{"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/10-UniversalLinks","sections":[{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/10-UniversalLinks#Setting-Up-Universal-Links"},{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/10-UniversalLinks#Background-Tag-Reading"},{"kind":"task","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/10-UniversalLinks#App-Clips-and-NFC"},{"kind":"assessment","reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/10-UniversalLinks#Check-Your-Understanding"}]}],"reference":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/App-Launch-(Universal-Links)"}]},"schemaVersion":{"patch":0,"major":0,"minor":3},"identifier":{"url":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/09-FeliCaMIFARE","interfaceLanguage":"swift"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/higcorenfc\/09-felicamifare"]}],"references":{"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/02-NDEFReaderSession#Check-Your-Understanding":{"title":"Check Your Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/02-NDEFReaderSession#Check-Your-Understanding","url":"\/tutorials\/higcorenfc\/02-ndefreadersession#Check-Your-Understanding"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/03-ReadingNDEF#NDEF-Message-Structure":{"title":"NDEF Message Structure","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/03-readingndef#NDEF-Message-Structure","abstract":[{"type":"text","text":"Learn how to read and process NDEF messages from NFC tags."},{"type":"text","text":" "},{"type":"text","text":"Understand the NFCNDEFMessage structure and how to access records."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/03-ReadingNDEF#NDEF-Message-Structure"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/08-ISO7816":{"abstract":[{"type":"text","text":"Learn how to communicate with ISO 7816 standard tags."},{"type":"text","text":" "},{"type":"text","text":"Send APDU commands and process responses."}],"kind":"project","estimatedTime":"30min","title":"ISO 7816 Tags","role":"project","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/08-ISO7816","url":"\/tutorials\/higcorenfc\/08-iso7816","type":"topic"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/04-ParsingRecords#Parsing-Payload-Data":{"title":"Parsing Payload Data","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/04-parsingrecords#Parsing-Payload-Data","abstract":[{"type":"text","text":"Analyze the structure of NFCNDEFPayload and parse various record types."},{"type":"text","text":" "},{"type":"text","text":"Learn how to interpret records based on TNF (Type Name Format)."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/04-ParsingRecords#Parsing-Payload-Data"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/01-Introduction#Project-Setup":{"title":"Project Setup","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/01-introduction#Project-Setup","abstract":[{"type":"text","text":"Learn the basic concepts of the Apple CoreNFC framework and core principles of NFC technology."},{"type":"text","text":" "},{"type":"text","text":"Build the foundation for creating apps that read and write NFC tags on iPhone."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/01-Introduction#Project-Setup"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/04-ParsingRecords":{"title":"Parsing NDEF Records","role":"project","estimatedTime":"25min","type":"topic","kind":"project","url":"\/tutorials\/higcorenfc\/04-parsingrecords","abstract":[{"type":"text","text":"Analyze the structure of NFCNDEFPayload and parse various record types."},{"type":"text","text":" "},{"type":"text","text":"Learn how to interpret records based on TNF (Type Name Format)."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/04-ParsingRecords"},"doc://corenfc.HIGCoreNFC/tutorials/Table-of-Contents/NFCNDEFReaderSession":{"title":"NFCNDEFReaderSession","role":"article","type":"topic","kind":"article","url":"\/tutorials\/table-of-contents\/nfcndefreadersession","abstract":[],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/NFCNDEFReaderSession"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/10-UniversalLinks#Setting-Up-Universal-Links":{"title":"Setting Up Universal Links","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/10-universallinks#Setting-Up-Universal-Links","abstract":[{"type":"text","text":"Learn how to automatically launch apps via NFC tag scanning."},{"type":"text","text":" "},{"type":"text","text":"Implement Universal Links and background tag reading."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/10-UniversalLinks#Setting-Up-Universal-Links"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/03-ReadingNDEF#Connecting-to-Tags-Directly":{"abstract":[{"type":"text","text":"Learn how to read and process NDEF messages from NFC tags."},{"type":"text","text":" "},{"type":"text","text":"Understand the NFCNDEFMessage structure and how to access records."}],"kind":"section","title":"Connecting to Tags Directly","role":"pseudoSymbol","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/03-ReadingNDEF#Connecting-to-Tags-Directly","url":"\/tutorials\/higcorenfc\/03-readingndef#Connecting-to-Tags-Directly","type":"section"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/03-ReadingNDEF":{"abstract":[{"type":"text","text":"Learn how to read and process NDEF messages from NFC tags."},{"type":"text","text":" "},{"type":"text","text":"Understand the NFCNDEFMessage structure and how to access records."}],"kind":"project","estimatedTime":"20min","title":"Reading NDEF Messages","role":"project","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/03-ReadingNDEF","url":"\/tutorials\/higcorenfc\/03-readingndef","type":"topic"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/10-UniversalLinks":{"title":"App Launch (Universal Links)","role":"project","estimatedTime":"20min","type":"topic","kind":"project","url":"\/tutorials\/higcorenfc\/10-universallinks","abstract":[{"type":"text","text":"Learn how to automatically launch apps via NFC tag scanning."},{"type":"text","text":" "},{"type":"text","text":"Implement Universal Links and background tag reading."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/10-UniversalLinks"},"doc://corenfc.HIGCoreNFC/tutorials/Table-of-Contents/FeliCa-&-MIFARE":{"title":"FeliCa & MIFARE","role":"article","type":"topic","kind":"article","url":"\/tutorials\/table-of-contents\/felica-&-mifare","abstract":[],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/FeliCa-&-MIFARE"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/05-URLTextRecords":{"title":"URL & Text Records","role":"project","estimatedTime":"20min","type":"topic","kind":"project","url":"\/tutorials\/higcorenfc\/05-urltextrecords","abstract":[{"type":"text","text":"Parse the most commonly used URL and text records in detail."},{"type":"text","text":" "},{"type":"text","text":"Utilize the wellKnownTypeURIPayload() and wellKnownTypeTextPayload() methods."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/05-URLTextRecords"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/09-FeliCaMIFARE":{"title":"FeliCa & MIFARE","role":"project","estimatedTime":"25min","type":"topic","kind":"project","url":"\/tutorials\/higcorenfc\/09-felicamifare","abstract":[{"type":"text","text":"Learn how to work with Japan’s FeliCa and NXP’s MIFARE tags."},{"type":"text","text":" "},{"type":"text","text":"These tag types are used in transit cards and electronic money."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/09-FeliCaMIFARE"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/02-NDEFReaderSession#Implementing-Delegate-Methods":{"title":"Implementing Delegate Methods","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/02-ndefreadersession#Implementing-Delegate-Methods","abstract":[{"type":"text","text":"Use NFCNDEFReaderSession to read NDEF format NFC tags."},{"type":"text","text":" "},{"type":"text","text":"Understand the session lifecycle and delegate pattern."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/02-NDEFReaderSession#Implementing-Delegate-Methods"},"09-04-mifare-family.swift":{"identifier":"09-04-mifare-family.swift","highlights":[],"fileType":"swift","type":"file","fileName":"MIFAREReader.swift","syntax":"swift","content":["import CoreNFC","","class MIFAREReader: NSObject, NFCTagReaderSessionDelegate {","    var tagSession: NFCTagReaderSession?","    ","    func startSession() {","        tagSession = NFCTagReaderSession(","            pollingOption: .iso14443,","            delegate: self","        )","        tagSession?.alertMessage = \"MIFARE 카드를 스캔하세요.\"","        tagSession?.begin()","    }","    ","    func tagReaderSession(_ session: NFCTagReaderSession, ","                          didDetect tags: [NFCTag]) {","        guard case let .miFare(tag) = tags.first else {","            session.invalidate(errorMessage: \"MIFARE 태그가 아닙니다.\")","            return","        }","        ","        session.connect(to: tags.first!) { error in","            if let error = error {","                session.invalidate(errorMessage: error.localizedDescription)","                return","            }","            ","            self.identifyMIFAREFamily(tag, session: session)","        }","    }","    ","    private func identifyMIFAREFamily(_ tag: NFCMiFareTag, ","                                       session: NFCTagReaderSession) {","        \/\/ MIFARE 제품군 식별","        let family = tag.mifareFamily","        ","        switch family {","        case .ultralight:","            \/\/ MIFARE Ultralight (64-192 bytes)","            \/\/ 일회용 교통권, 이벤트 티켓","            print(\"MIFARE Ultralight 감지\")","            print(\"  - 저비용, 소용량\")","            print(\"  - 암호화 없음\")","            ","        case .plus:","            \/\/ MIFARE Plus (2KB-4KB)","            \/\/ MIFARE Classic 후속, AES 암호화","            print(\"MIFARE Plus 감지\")","            print(\"  - AES 암호화 지원\")","            print(\"  - MIFARE Classic 호환 모드\")","            ","        case .desfire:","            \/\/ MIFARE DESFire (2KB-8KB)","            \/\/ 고급 보안, 다중 애플리케이션","            print(\"MIFARE DESFire 감지\")","            print(\"  - AES\/3DES 암호화\")","            print(\"  - 다중 애플리케이션 지원\")","            print(\"  - 높은 보안 수준\")","            ","        case .unknown:","            print(\"알 수 없는 MIFARE 타입\")","            ","        @unknown default:","            print(\"새로운 MIFARE 타입\")","        }","        ","        \/\/ 공통 속성","        print(\"UID: \\(tag.identifier.hexString)\")","        print(\"Historical Bytes: \\(tag.historicalBytes?.hexString ?? \"없음\")\")","    }","    ","    func tagReaderSessionDidBecomeActive(_ session: NFCTagReaderSession) { }","    func tagReaderSession(_ session: NFCTagReaderSession, ","                          didInvalidateWithError error: Error) {","        tagSession = nil","    }","}","","extension Data {","    var hexString: String {","        map { String(format: \"%02X\", $0) }.joined()","    }","}"]},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/10-UniversalLinks#Check-Your-Understanding":{"title":"Check Your Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/10-UniversalLinks#Check-Your-Understanding","url":"\/tutorials\/higcorenfc\/10-universallinks#Check-Your-Understanding"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/06-WritingTags":{"abstract":[{"type":"text","text":"Learn how to write NDEF messages to NFC tags."},{"type":"text","text":" "},{"type":"text","text":"Create NFCNDEFPayload and write it to tags."}],"kind":"project","estimatedTime":"25min","title":"Writing NFC Tags","role":"project","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/06-WritingTags","url":"\/tutorials\/higcorenfc\/06-writingtags","type":"topic"},"09-02-felica-polling.swift":{"identifier":"09-02-felica-polling.swift","highlights":[{"line":4},{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48},{"line":49},{"line":50},{"line":51},{"line":52},{"line":56},{"line":57},{"line":58},{"line":59}],"fileType":"swift","type":"file","fileName":"FeliCaReader.swift","syntax":"swift","content":["import CoreNFC","","class FeliCaReader: NSObject, NFCTagReaderSessionDelegate {","    var tagSession: NFCTagReaderSession?","    ","    \/\/ 주요 시스템 코드","    struct SystemCodes {","        static let common = Data([0x88, 0xB4])      \/\/ 공통 영역","        static let suica = Data([0x00, 0x03])       \/\/ Suica\/PASMO","        static let ndef = Data([0xFE, 0x00])        \/\/ NDEF","        static let wildcard = Data([0xFF, 0xFF])   \/\/ 모든 시스템","    }","    ","    func startSession() {","        tagSession = NFCTagReaderSession(","            pollingOption: .iso18092,  \/\/ FeliCa","            delegate: self","        )","        tagSession?.alertMessage = \"FeliCa 카드를 스캔하세요.\"","        tagSession?.begin()","    }","    ","    func tagReaderSession(_ session: NFCTagReaderSession, ","                          didDetect tags: [NFCTag]) {","        guard case let .feliCa(tag) = tags.first else { return }","        ","        session.connect(to: tags.first!) { error in","            if let error = error {","                session.invalidate(errorMessage: error.localizedDescription)","                return","            }","            ","            \/\/ 특정 시스템 코드로 폴링","            tag.polling(","                systemCode: SystemCodes.suica,","                requestCode: .systemCode,","                timeSlot: .max1","            ) { pmm, requestData, error in","                if let error = error {","                    print(\"폴링 실패: \\(error)\")","                    return","                }","                ","                \/\/ PMm: Manufacture Parameter (8바이트)","                \/\/ 카드의 응답 시간 특성 등 포함","                print(\"PMm: \\(pmm.hexString)\")","                ","                if let data = requestData {","                    print(\"Request Data: \\(data.hexString)\")","                }","            }","        }","    }","    ","    func tagReaderSessionDidBecomeActive(_ session: NFCTagReaderSession) { }","    func tagReaderSession(_ session: NFCTagReaderSession, ","                          didInvalidateWithError error: Error) {","        tagSession = nil","    }","}","","extension Data {","    var hexString: String {","        map { String(format: \"%02X\", $0) }.joined()","    }","}"]},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/02-NDEFReaderSession":{"title":"NFCNDEFReaderSession","role":"project","estimatedTime":"20min","type":"topic","kind":"project","url":"\/tutorials\/higcorenfc\/02-ndefreadersession","abstract":[{"type":"text","text":"Use NFCNDEFReaderSession to read NDEF format NFC tags."},{"type":"text","text":" "},{"type":"text","text":"Understand the session lifecycle and delegate pattern."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/02-NDEFReaderSession"},"09-01-felica-props.swift":{"identifier":"09-01-felica-props.swift","highlights":[],"fileType":"swift","type":"file","fileName":"FeliCaReader.swift","syntax":"swift","content":["import CoreNFC","","class FeliCaReader: NSObject, NFCTagReaderSessionDelegate {","    ","    func inspectFeliCaTag(_ tag: NFCFeliCaTag) {","        \/\/ NFCFeliCaTag의 주요 속성","        ","        \/\/ 1. currentIDm (Manufacture ID)","        \/\/ 8바이트 고유 식별자","        \/\/ - 처음 2바이트: 제조사 코드","        \/\/ - 나머지 6바이트: 카드 번호","        let idm = tag.currentIDm","        print(\"IDm: \\(idm.hexString)\")","        ","        \/\/ 2. currentSystemCode","        \/\/ 현재 선택된 시스템 코드","        let systemCode = tag.currentSystemCode","        print(\"System Code: \\(systemCode.hexString)\")","        ","        \/\/ 주요 시스템 코드","        \/\/ 0x88B4: 공통 영역 (일반 FeliCa)","        \/\/ 0x0003: Suica\/PASMO","        \/\/ 0xFE00: NDEF","    }","    ","    func tagReaderSessionDidBecomeActive(_ session: NFCTagReaderSession) { }","    func tagReaderSession(_ session: NFCTagReaderSession, didDetect tags: [NFCTag]) { }","    func tagReaderSession(_ session: NFCTagReaderSession, didInvalidateWithError error: Error) { }","}","","extension Data {","    var hexString: String {","        map { String(format: \"%02X\", $0) }.joined()","    }","}"]},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/01-Introduction#Check-Your-Understanding":{"title":"Check Your Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/01-Introduction#Check-Your-Understanding","url":"\/tutorials\/higcorenfc\/01-introduction#Check-Your-Understanding"},"doc://corenfc.HIGCoreNFC/tutorials/Table-of-Contents":{"type":"topic","url":"\/tutorials\/table-of-contents","abstract":[{"type":"text","text":"Build an app that reads and writes NFC tags using Apple CoreNFC."},{"type":"text","text":" "},{"type":"text","text":"Master everything from NDEF message parsing to supporting various tag types."}],"kind":"overview","role":"overview","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents","title":"Building an NFC Tag Reader with CoreNFC"},"doc://corenfc.HIGCoreNFC/tutorials/Table-of-Contents/Introduction-to-CoreNFC":{"title":"Introduction to CoreNFC","role":"article","type":"topic","kind":"article","url":"\/tutorials\/table-of-contents\/introduction-to-corenfc","abstract":[],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/Introduction-to-CoreNFC"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/07-TagReaderSession#Setting-Up-TagReaderSession":{"title":"Setting Up TagReaderSession","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/07-tagreadersession#Setting-Up-TagReaderSession","abstract":[{"type":"text","text":"Access various native tag types with NFCTagReaderSession."},{"type":"text","text":" "},{"type":"text","text":"Work directly with ISO 7816, ISO 15693, FeliCa, and MIFARE tags."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/07-TagReaderSession#Setting-Up-TagReaderSession"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/04-ParsingRecords#Understanding-Type-Name-Format":{"title":"Understanding Type Name Format","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/04-parsingrecords#Understanding-Type-Name-Format","abstract":[{"type":"text","text":"Analyze the structure of NFCNDEFPayload and parse various record types."},{"type":"text","text":" "},{"type":"text","text":"Learn how to interpret records based on TNF (Type Name Format)."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/04-ParsingRecords#Understanding-Type-Name-Format"},"doc://corenfc.HIGCoreNFC/tutorials/Table-of-Contents/Writing-NFC-Tags":{"abstract":[],"kind":"article","title":"Writing NFC Tags","role":"article","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/Writing-NFC-Tags","url":"\/tutorials\/table-of-contents\/writing-nfc-tags","type":"topic"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/08-ISO7816#Accessing-ISO-7816-Tags":{"title":"Accessing ISO 7816 Tags","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/08-iso7816#Accessing-ISO-7816-Tags","abstract":[{"type":"text","text":"Learn how to communicate with ISO 7816 standard tags."},{"type":"text","text":" "},{"type":"text","text":"Send APDU commands and process responses."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/08-ISO7816#Accessing-ISO-7816-Tags"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/01-Introduction#Understanding-NFC-Technology":{"title":"Understanding NFC Technology","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/01-introduction#Understanding-NFC-Technology","abstract":[{"type":"text","text":"Learn the basic concepts of the Apple CoreNFC framework and core principles of NFC technology."},{"type":"text","text":" "},{"type":"text","text":"Build the foundation for creating apps that read and write NFC tags on iPhone."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/01-Introduction#Understanding-NFC-Technology"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/06-WritingTags#Creating-NDEF-Payloads":{"title":"Creating NDEF Payloads","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/06-writingtags#Creating-NDEF-Payloads","abstract":[{"type":"text","text":"Learn how to write NDEF messages to NFC tags."},{"type":"text","text":" "},{"type":"text","text":"Create NFCNDEFPayload and write it to tags."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/06-WritingTags#Creating-NDEF-Payloads"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/03-ReadingNDEF#Check-Your-Understanding":{"title":"Check Your Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/03-ReadingNDEF#Check-Your-Understanding","url":"\/tutorials\/higcorenfc\/03-readingndef#Check-Your-Understanding"},"doc://corenfc.HIGCoreNFC/tutorials/Table-of-Contents/Parsing-NDEF-Records":{"title":"Parsing NDEF Records","role":"article","type":"topic","kind":"article","url":"\/tutorials\/table-of-contents\/parsing-ndef-records","abstract":[],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/Parsing-NDEF-Records"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/07-TagReaderSession#Check-Your-Understanding":{"title":"Check Your Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/07-TagReaderSession#Check-Your-Understanding","url":"\/tutorials\/higcorenfc\/07-tagreadersession#Check-Your-Understanding"},"doc://corenfc.HIGCoreNFC/tutorials/Table-of-Contents/Reading-NDEF-Messages":{"title":"Reading NDEF Messages","role":"article","type":"topic","kind":"article","url":"\/tutorials\/table-of-contents\/reading-ndef-messages","abstract":[],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/Reading-NDEF-Messages"},"09-03-felica-read.swift":{"identifier":"09-03-felica-read.swift","highlights":[{"line":6},{"line":7},{"line":8},{"line":9},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":20},{"line":21},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":32},{"line":33},{"line":34},{"line":35},{"line":38},{"line":39},{"line":40},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48},{"line":49},{"line":50},{"line":51},{"line":52},{"line":53},{"line":54}],"fileType":"swift","type":"file","fileName":"FeliCaReader.swift","syntax":"swift","content":["import CoreNFC","","class FeliCaReader: NSObject, NFCTagReaderSessionDelegate {","    var tagSession: NFCTagReaderSession?","    ","    func readFeliCaBlocks(_ tag: NFCFeliCaTag, session: NFCTagReaderSession) {","        \/\/ 서비스 코드 설정 (리틀 엔디안)","        \/\/ 예: 0x000B (Suica 잔액 조회)","        let serviceCodeList = [Data([0x0B, 0x00])]","        ","        \/\/ 읽을 블록 번호 (리틀 엔디안)","        \/\/ 블록 0부터 시작","        let blockList = [Data([0x80, 0x00])]  \/\/ 블록 0","        ","        tag.readWithoutEncryption(","            serviceCodeList: serviceCodeList,","            blockList: blockList","        ) { status1, status2, blockData, error in","            if let error = error {","                print(\"읽기 실패: \\(error)\")","                session.invalidate(errorMessage: \"읽기 실패\")","                return","            }","            ","            \/\/ 상태 확인","            print(\"Status: \\(status1), \\(status2)\")","            ","            \/\/ 블록 데이터 처리 (각 블록 16바이트)","            for (index, block) in blockData.enumerated() {","                print(\"Block \\(index): \\(block.hexString)\")","                ","                \/\/ Suica 잔액 예시 (리틀 엔디안)","                if block.count >= 2 {","                    let balance = UInt16(block[0]) | (UInt16(block[1]) << 8)","                    print(\"  추정 잔액: ¥\\(balance)\")","                }","            }","            ","            session.alertMessage = \"읽기 완료!\"","            session.invalidate()","        }","    }","    ","    func tagReaderSession(_ session: NFCTagReaderSession, ","                          didDetect tags: [NFCTag]) {","        guard case let .feliCa(tag) = tags.first else { return }","        ","        session.connect(to: tags.first!) { error in","            if error == nil {","                self.readFeliCaBlocks(tag, session: session)","            }","        }","    }","    ","    func tagReaderSessionDidBecomeActive(_ session: NFCTagReaderSession) { }","    func tagReaderSession(_ session: NFCTagReaderSession, ","                          didInvalidateWithError error: Error) {","        tagSession = nil","    }","}","","extension Data {","    var hexString: String {","        map { String(format: \"%02X\", $0) }.joined()","    }","}"]},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/10-UniversalLinks#Background-Tag-Reading":{"title":"Background Tag Reading","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/10-universallinks#Background-Tag-Reading","abstract":[{"type":"text","text":"Learn how to automatically launch apps via NFC tag scanning."},{"type":"text","text":" "},{"type":"text","text":"Implement Universal Links and background tag reading."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/10-UniversalLinks#Background-Tag-Reading"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/04-ParsingRecords#Check-Your-Understanding":{"title":"Check Your Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/04-ParsingRecords#Check-Your-Understanding","url":"\/tutorials\/higcorenfc\/04-parsingrecords#Check-Your-Understanding"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/06-WritingTags#Writing-to-Tags":{"title":"Writing to Tags","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/06-writingtags#Writing-to-Tags","abstract":[{"type":"text","text":"Learn how to write NDEF messages to NFC tags."},{"type":"text","text":" "},{"type":"text","text":"Create NFCNDEFPayload and write it to tags."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/06-WritingTags#Writing-to-Tags"},"09-06-mifare-command.swift":{"identifier":"09-06-mifare-command.swift","highlights":[{"line":6},{"line":7},{"line":9},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":24},{"line":25},{"line":26},{"line":27},{"line":29},{"line":30},{"line":31},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":49},{"line":50},{"line":51},{"line":52},{"line":53},{"line":54},{"line":55},{"line":56},{"line":57},{"line":58},{"line":59},{"line":60},{"line":67},{"line":68},{"line":69},{"line":70},{"line":71},{"line":72},{"line":73},{"line":85},{"line":86},{"line":87},{"line":88},{"line":89},{"line":90},{"line":91},{"line":92},{"line":93},{"line":94},{"line":95},{"line":96},{"line":97},{"line":98},{"line":99},{"line":100},{"line":101},{"line":102},{"line":103},{"line":104}],"fileType":"swift","type":"file","fileName":"MIFAREReader.swift","syntax":"swift","content":["import CoreNFC","","class MIFAREReader: NSObject, NFCTagReaderSessionDelegate {","    var tagSession: NFCTagReaderSession?","    ","    \/\/\/ MIFARE 네이티브 명령 전송","    func sendMIFARECommand(","        _ tag: NFCMiFareTag,","        command: Data,","        completion: @escaping (Data?, Error?) -> Void","    ) {","        tag.sendMiFareCommand(commandPacket: command) { responseData, error in","            if let error = error {","                print(\"MIFARE 명령 실패: \\(error)\")","                completion(nil, error)","                return","            }","            ","            print(\"응답: \\(responseData.hexString)\")","            completion(responseData, nil)","        }","    }","    ","    \/\/ MIFARE Ultralight: 버전 정보 읽기","    func getVersion(_ tag: NFCMiFareTag, ","                     completion: @escaping (MIFAREVersion?) -> Void) {","        let command = Data([0x60])  \/\/ GET_VERSION","        ","        sendMIFARECommand(tag, command: command) { data, error in","            guard let data = data, data.count >= 8 else {","                completion(nil)","                return","            }","            ","            let version = MIFAREVersion(","                vendorID: data[1],","                productType: data[2],","                productSubType: data[3],","                majorVersion: data[4],","                minorVersion: data[5],","                storageSize: data[6],","                protocolType: data[7]","            )","            ","            completion(version)","        }","    }","    ","    \/\/ MIFARE DESFire: ISO 7816 명령도 지원","    func sendDESFireCommand(","        _ tag: NFCMiFareTag,","        apdu: NFCISO7816APDU,","        completion: @escaping (Data?, UInt8, UInt8, Error?) -> Void","    ) {","        \/\/ DESFire는 ISO 7816 명령도 지원","        tag.sendMiFareISO7816Command(apdu) { data, sw1, sw2, error in","            completion(data, sw1, sw2, error)","        }","    }","    ","    func tagReaderSession(_ session: NFCTagReaderSession, ","                          didDetect tags: [NFCTag]) {","        guard case let .miFare(tag) = tags.first else { return }","        ","        session.connect(to: tags.first!) { error in","            if error == nil {","                \/\/ 버전 정보 읽기","                self.getVersion(tag) { version in","                    if let v = version {","                        print(\"MIFARE 버전: \\(v)\")","                    }","                    session.invalidate()","                }","            }","        }","    }","    ","    func tagReaderSessionDidBecomeActive(_ session: NFCTagReaderSession) { }","    func tagReaderSession(_ session: NFCTagReaderSession, ","                          didInvalidateWithError error: Error) {","        tagSession = nil","    }","}","","struct MIFAREVersion: CustomStringConvertible {","    let vendorID: UInt8","    let productType: UInt8","    let productSubType: UInt8","    let majorVersion: UInt8","    let minorVersion: UInt8","    let storageSize: UInt8","    let protocolType: UInt8","    ","    var description: String {","        \"\"\"","        Vendor: 0x\\(String(format: \"%02X\", vendorID))","        Product: \\(productType).\\(productSubType)","        Version: \\(majorVersion).\\(minorVersion)","        Storage: \\(storageSize)","        Protocol: \\(protocolType)","        \"\"\"","    }","}","","extension Data {","    var hexString: String {","        map { String(format: \"%02X\", $0) }.joined()","    }","}"]},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/05-URLTextRecords#Parsing-Text-Records":{"abstract":[{"type":"text","text":"Parse the most commonly used URL and text records in detail."},{"type":"text","text":" "},{"type":"text","text":"Utilize the wellKnownTypeURIPayload() and wellKnownTypeTextPayload() methods."}],"kind":"section","title":"Parsing Text Records","role":"pseudoSymbol","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/05-URLTextRecords#Parsing-Text-Records","url":"\/tutorials\/higcorenfc\/05-urltextrecords#Parsing-Text-Records","type":"section"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/09-FeliCaMIFARE#MIFARE-Tags":{"title":"MIFARE Tags","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/09-felicamifare#MIFARE-Tags","abstract":[{"type":"text","text":"Learn how to work with Japan’s FeliCa and NXP’s MIFARE tags."},{"type":"text","text":" "},{"type":"text","text":"These tag types are used in transit cards and electronic money."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/09-FeliCaMIFARE#MIFARE-Tags"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/05-URLTextRecords#Check-Your-Understanding":{"title":"Check Your Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/05-URLTextRecords#Check-Your-Understanding","url":"\/tutorials\/higcorenfc\/05-urltextrecords#Check-Your-Understanding"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/06-WritingTags#Check-Your-Understanding":{"title":"Check Your Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/06-WritingTags#Check-Your-Understanding","url":"\/tutorials\/higcorenfc\/06-writingtags#Check-Your-Understanding"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/02-NDEFReaderSession#Creating-a-Reader-Session":{"title":"Creating a Reader Session","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/02-ndefreadersession#Creating-a-Reader-Session","abstract":[{"type":"text","text":"Use NFCNDEFReaderSession to read NDEF format NFC tags."},{"type":"text","text":" "},{"type":"text","text":"Understand the session lifecycle and delegate pattern."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/02-NDEFReaderSession#Creating-a-Reader-Session"},"doc://corenfc.HIGCoreNFC/tutorials/Table-of-Contents/URL-&-Text-Records":{"title":"URL & Text Records","role":"article","type":"topic","kind":"article","url":"\/tutorials\/table-of-contents\/url-&-text-records","abstract":[],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/URL-&-Text-Records"},"doc://corenfc.HIGCoreNFC/tutorials/Table-of-Contents/App-Launch-(Universal-Links)":{"title":"App Launch (Universal Links)","role":"article","type":"topic","kind":"article","url":"\/tutorials\/table-of-contents\/app-launch-(universal-links)","abstract":[],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/App-Launch-(Universal-Links)"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/07-TagReaderSession#Identifying-Tag-Types":{"abstract":[{"type":"text","text":"Access various native tag types with NFCTagReaderSession."},{"type":"text","text":" "},{"type":"text","text":"Work directly with ISO 7816, ISO 15693, FeliCa, and MIFARE tags."}],"kind":"section","title":"Identifying Tag Types","role":"pseudoSymbol","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/07-TagReaderSession#Identifying-Tag-Types","url":"\/tutorials\/higcorenfc\/07-tagreadersession#Identifying-Tag-Types","type":"section"},"09-05-ultralight-read.swift":{"identifier":"09-05-ultralight-read.swift","highlights":[{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":14},{"line":15},{"line":16},{"line":17},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":38},{"line":39},{"line":43},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48},{"line":49},{"line":50},{"line":52},{"line":53},{"line":54},{"line":55},{"line":56},{"line":57},{"line":58},{"line":59},{"line":60},{"line":61},{"line":62},{"line":63},{"line":64},{"line":65},{"line":66},{"line":68},{"line":69},{"line":70},{"line":71},{"line":72},{"line":73},{"line":74},{"line":75},{"line":76},{"line":79},{"line":82},{"line":83},{"line":84},{"line":85},{"line":86},{"line":87},{"line":88},{"line":89},{"line":90},{"line":91},{"line":92}],"fileType":"swift","type":"file","fileName":"MIFAREReader.swift","syntax":"swift","content":["import CoreNFC","","class MIFAREReader: NSObject, NFCTagReaderSessionDelegate {","    var tagSession: NFCTagReaderSession?","    ","    \/\/ MIFARE Ultralight 명령","    struct UltralightCommands {","        static let READ: UInt8 = 0x30       \/\/ 4페이지 읽기","        static let WRITE: UInt8 = 0xA2      \/\/ 1페이지 쓰기","        static let GET_VERSION: UInt8 = 0x60","        static let FAST_READ: UInt8 = 0x3A  \/\/ 연속 읽기","    }","    ","    func readUltralightPages(_ tag: NFCMiFareTag, ","                              session: NFCTagReaderSession) {","        guard tag.mifareFamily == .ultralight else {","            session.invalidate(errorMessage: \"Ultralight 태그가 아닙니다.\")","            return","        }","        ","        \/\/ MIFARE Ultralight 구조","        \/\/ - 페이지 0-1: UID","        \/\/ - 페이지 2: Lock bytes","        \/\/ - 페이지 3: OTP (One-Time Programmable)","        \/\/ - 페이지 4+: 사용자 데이터","        ","        readPage(tag, pageNumber: 4) { data, error in","            if let data = data {","                print(\"Page 4 데이터: \\(data.hexString)\")","                ","                \/\/ NDEF 메시지가 있는 경우","                if data.count >= 4 && data[0] == 0x03 {","                    let ndefLength = data[1]","                    print(\"NDEF 메시지 길이: \\(ndefLength) bytes\")","                }","            }","            ","            session.alertMessage = \"읽기 완료!\"","            session.invalidate()","        }","    }","    ","    private func readPage(","        _ tag: NFCMiFareTag,","        pageNumber: UInt8,","        completion: @escaping (Data?, Error?) -> Void","    ) {","        \/\/ READ 명령: 0x30 + 페이지 번호","        \/\/ 4페이지(16바이트) 반환","        let command = Data([UltralightCommands.READ, pageNumber])","        ","        tag.sendMiFareCommand(commandPacket: command) { data, error in","            completion(data, error)","        }","    }","    ","    \/\/ 모든 페이지 읽기","    func readAllPages(_ tag: NFCMiFareTag, ","                       completion: @escaping ([Data]) -> Void) {","        var pages: [Data] = []","        ","        func readNextPage(index: UInt8) {","            guard index < 20 else {  \/\/ Ultralight: 최대 20페이지","                completion(pages)","                return","            }","            ","            readPage(tag, pageNumber: index) { data, error in","                if let data = data {","                    \/\/ 4페이지씩 반환되므로 첫 4바이트만 사용","                    pages.append(data.prefix(4))","                    readNextPage(index: index + 1)","                } else {","                    completion(pages)","                }","            }","        }","        ","        readNextPage(index: 0)","    }","    ","    func tagReaderSession(_ session: NFCTagReaderSession, ","                          didDetect tags: [NFCTag]) {","        guard case let .miFare(tag) = tags.first else { return }","        ","        session.connect(to: tags.first!) { error in","            if error == nil {","                self.readUltralightPages(tag, session: session)","            }","        }","    }","    ","    func tagReaderSessionDidBecomeActive(_ session: NFCTagReaderSession) { }","    func tagReaderSession(_ session: NFCTagReaderSession, ","                          didInvalidateWithError error: Error) {","        tagSession = nil","    }","}","","extension Data {","    var hexString: String {","        map { String(format: \"%02X\", $0) }.joined()","    }","}"]},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/10-UniversalLinks#App-Clips-and-NFC":{"title":"App Clips and NFC","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/10-universallinks#App-Clips-and-NFC","abstract":[{"type":"text","text":"Learn how to automatically launch apps via NFC tag scanning."},{"type":"text","text":" "},{"type":"text","text":"Implement Universal Links and background tag reading."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/10-UniversalLinks#App-Clips-and-NFC"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/08-ISO7816#Check-Your-Understanding":{"title":"Check Your Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/08-ISO7816#Check-Your-Understanding","url":"\/tutorials\/higcorenfc\/08-iso7816#Check-Your-Understanding"},"doc://corenfc.HIGCoreNFC/tutorials/Table-of-Contents/NFCTagReaderSession":{"title":"NFCTagReaderSession","role":"article","type":"topic","kind":"article","url":"\/tutorials\/table-of-contents\/nfctagreadersession","abstract":[],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/NFCTagReaderSession"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/08-ISO7816#Sending-APDU-Commands":{"title":"Sending APDU Commands","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/08-iso7816#Sending-APDU-Commands","abstract":[{"type":"text","text":"Learn how to communicate with ISO 7816 standard tags."},{"type":"text","text":" "},{"type":"text","text":"Send APDU commands and process responses."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/08-ISO7816#Sending-APDU-Commands"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/06-WritingTags#Locking-Tags":{"title":"Locking Tags","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/06-writingtags#Locking-Tags","abstract":[{"type":"text","text":"Learn how to write NDEF messages to NFC tags."},{"type":"text","text":" "},{"type":"text","text":"Create NFCNDEFPayload and write it to tags."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/06-WritingTags#Locking-Tags"},"doc://corenfc.HIGCoreNFC/tutorials/Table-of-Contents/ISO-7816-Tags":{"title":"ISO 7816 Tags","role":"article","type":"topic","kind":"article","url":"\/tutorials\/table-of-contents\/iso-7816-tags","abstract":[],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/Table-of-Contents\/ISO-7816-Tags"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/05-URLTextRecords#Parsing-URL-Records":{"title":"Parsing URL Records","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/05-urltextrecords#Parsing-URL-Records","abstract":[{"type":"text","text":"Parse the most commonly used URL and text records in detail."},{"type":"text","text":" "},{"type":"text","text":"Utilize the wellKnownTypeURIPayload() and wellKnownTypeTextPayload() methods."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/05-URLTextRecords#Parsing-URL-Records"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/09-FeliCaMIFARE#FeliCa-Tags":{"title":"FeliCa Tags","role":"pseudoSymbol","type":"section","kind":"section","url":"\/tutorials\/higcorenfc\/09-felicamifare#FeliCa-Tags","abstract":[{"type":"text","text":"Learn how to work with Japan’s FeliCa and NXP’s MIFARE tags."},{"type":"text","text":" "},{"type":"text","text":"These tag types are used in transit cards and electronic money."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/09-FeliCaMIFARE#FeliCa-Tags"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/07-TagReaderSession":{"abstract":[{"type":"text","text":"Access various native tag types with NFCTagReaderSession."},{"type":"text","text":" "},{"type":"text","text":"Work directly with ISO 7816, ISO 15693, FeliCa, and MIFARE tags."}],"kind":"project","estimatedTime":"25min","title":"NFCTagReaderSession","role":"project","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/07-TagReaderSession","url":"\/tutorials\/higcorenfc\/07-tagreadersession","type":"topic"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/09-FeliCaMIFARE#Check-Your-Understanding":{"title":"Check Your Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link","identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/09-FeliCaMIFARE#Check-Your-Understanding","url":"\/tutorials\/higcorenfc\/09-felicamifare#Check-Your-Understanding"},"doc://corenfc.HIGCoreNFC/tutorials/HIGCoreNFC/01-Introduction":{"title":"Introduction to CoreNFC","role":"project","estimatedTime":"15min","type":"topic","kind":"project","url":"\/tutorials\/higcorenfc\/01-introduction","abstract":[{"type":"text","text":"Learn the basic concepts of the Apple CoreNFC framework and core principles of NFC technology."},{"type":"text","text":" "},{"type":"text","text":"Build the foundation for creating apps that read and write NFC tags on iPhone."}],"identifier":"doc:\/\/corenfc.HIGCoreNFC\/tutorials\/HIGCoreNFC\/01-Introduction"}}}