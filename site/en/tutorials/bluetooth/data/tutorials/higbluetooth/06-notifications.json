{"sections":[{"chapter":"Chapter 6: Subscribing to Notifications","estimatedTimeInMinutes":15,"kind":"hero","content":[{"type":"paragraph","inlineContent":[{"text":"Implement Notify\/Indicate to receive","type":"text"},{"text":" ","type":"text"},{"text":"real-time characteristic value changes.","type":"text"}]}],"title":"Subscribing to Notifications"},{"kind":"tasks","tasks":[{"contentSection":[{"kind":"contentAndMedia","mediaPosition":"trailing","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"There are two ways to receive real-time data in BLE."}]},{"rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Method"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Description"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Reliability"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Notify"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Only sends notification"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Lower"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Indicate"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Requires acknowledgment"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Higher"}]}]]],"type":"table","header":"row"},{"type":"paragraph","inlineContent":[{"type":"text","text":"iOS uses the same API for both methods."}]}]}],"anchor":"Notify-vs-Indicate","title":"Notify vs Indicate","stepsSection":[{"caption":[],"media":null,"code":"06-01-check-notify.swift","runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Check if a Characteristic supports notifications."}]}]}]},{"contentSection":[{"kind":"contentAndMedia","mediaPosition":"trailing","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Subscribe to notifications with "},{"type":"codeVoice","code":"setNotifyValue(true, for:)"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"The "},{"type":"codeVoice","code":"didUpdateValue"},{"type":"text","text":" callback is called whenever the value changes."}]}]}],"anchor":"Implementing-Notification-Subscription","title":"Implementing Notification Subscription","stepsSection":[{"caption":[],"media":null,"code":"06-02-subscribe.swift","runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Start notification subscription."}]}]},{"caption":[],"media":null,"code":"06-03-notify-callback.swift","runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Handle the subscription state change callback."},{"type":"text","text":" "},{"type":"text","text":"Attempt resubscription when errors occur."}]}]},{"caption":[],"media":null,"code":"06-04-handle-notification.swift","runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Process data received via notifications in real-time."},{"type":"text","text":" "},{"type":"text","text":"Perform UI updates and data storage."}]}]}]},{"contentSection":[{"kind":"contentAndMedia","mediaPosition":"trailing","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Implement real-time data display with a heart rate monitor example."},{"type":"text","text":" "},{"type":"text","text":"Stream data using Combine or AsyncStream."}]}]}],"anchor":"Real-time-Data-UI","title":"Real-time Data UI","stepsSection":[{"caption":[],"media":null,"code":"06-05-async-stream.swift","runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Stream heart rate data using AsyncStream."}]}]},{"caption":[],"media":null,"code":"06-06-heart-rate-view.swift","runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Implement a real-time heart rate monitor UI."}]}]},{"caption":[],"media":null,"code":"06-07-unsubscribe.swift","runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Implement notification unsubscription."},{"type":"text","text":" "},{"type":"text","text":"Clean up subscriptions when leaving the screen."}]}]}]}]},{"kind":"assessments","assessments":[{"type":"multiple-choice","title":[{"inlineContent":[{"type":"text","text":"What is the main difference between Notify and Indicate?"}],"type":"paragraph"}],"choices":[{"justification":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Indicate waits for client acknowledgment, making it"},{"type":"text","text":" "},{"type":"text","text":"more reliable but potentially slower."},{"type":"text","text":" "},{"type":"text","text":"Notify can send the next transmission immediately without confirmation."}]}],"isCorrect":true,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Indicate requires acknowledgment (ACK)"}]}]},{"justification":[{"type":"paragraph","inlineContent":[{"type":"text","text":"iOS supports both Notify and Indicate."}]}],"isCorrect":false,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Notify is not supported on iOS"}]}]},{"justification":[{"type":"paragraph","inlineContent":[{"type":"text","text":"They differ in whether acknowledgment is required."}]}],"isCorrect":false,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"No difference"}]}]}],"content":[]},{"type":"multiple-choice","title":[{"inlineContent":[{"type":"text","text":"What callback confirms success after calling setNotifyValue(true)?"}],"type":"paragraph"}],"choices":[{"justification":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can check the isNotifying state in this callback."},{"type":"text","text":" "},{"type":"text","text":"Success is indicated when error is nil."}]}],"isCorrect":true,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"peripheral(_:didUpdateNotificationStateFor:error:)"}]}]},{"justification":[{"type":"paragraph","inlineContent":[{"type":"text","text":"didUpdateValueFor is called when actual values change."}]}],"isCorrect":false,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"peripheral(_:didUpdateValueFor:error:)"}]}]},{"justification":[{"type":"paragraph","inlineContent":[{"type":"text","text":"All BLE operations are asynchronous."}]}],"isCorrect":false,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Can be confirmed immediately without a separate callback"}]}]}],"content":[]},{"type":"multiple-choice","title":[{"inlineContent":[{"type":"text","text":"How do you unsubscribe from notifications?"}],"type":"paragraph"}],"choices":[{"justification":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Call setNotifyValue with false."}]}],"isCorrect":false,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Call unsubscribe(for:)"}]}]},{"justification":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Pass false to the same method to unsubscribe."},{"type":"text","text":" "},{"type":"text","text":"Disconnection automatically unsubscribes."}]}],"isCorrect":true,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Call setNotifyValue(false, for:)"}]}]},{"justification":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You need setNotifyValue(false) if you want to stop notifications while staying connected."}]}],"isCorrect":false,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Just disconnect the Peripheral"}]}]}],"content":[]}],"anchor":"Check-Your-Understanding"},{"abstract":[{"type":"text","text":"Learn how to make your app act as a BLE Peripheral"},{"type":"text","text":" "},{"type":"text","text":"and advertise services to other devices."}],"action":{"overridingTitle":"Get started","type":"reference","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/07-PeripheralManager","isActive":true,"overridingTitleInlineContent":[{"text":"Get started","type":"text"}]},"featuredEyebrow":"Tutorial","kind":"callToAction","title":"CBPeripheralManager (Peripheral Role)"}],"identifier":{"url":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/06-Notifications","interfaceLanguage":"swift"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/higbluetooth\/06-notifications"]}],"metadata":{"role":"project","category":"Building a BLE Device Connection App","title":"Subscribing to Notifications","categoryPathComponent":"Table-of-Contents"},"hierarchy":{"paths":[["doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents","doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/$volume","doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-6:-Subscribing-to-Notifications"]],"modules":[{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-1:-Introduction-to-CoreBluetooth-&-BLE-Basics","projects":[{"sections":[{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/01-CoreBluetooth-Introduction#What-is-BLE-Bluetooth-Low-Energy","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/01-CoreBluetooth-Introduction#The-CoreBluetooth-Framework","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/01-CoreBluetooth-Introduction#Permission-Setup","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/01-CoreBluetooth-Introduction#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/01-CoreBluetooth-Introduction"}]},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-2:-CBCentralManager-Setup","projects":[{"sections":[{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/02-CBCentralManager-Setup#Creating-CBCentralManager","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/02-CBCentralManager-Setup#Handling-Bluetooth-State","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/02-CBCentralManager-Setup#Applying-the-Observable-Pattern","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/02-CBCentralManager-Setup#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/02-CBCentralManager-Setup"}]},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-3:-Device-Scanning","projects":[{"sections":[{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/03-Device-Scanning#Starting-a-Scan","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/03-Device-Scanning#Processing-Discovered-Devices","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/03-Device-Scanning#Implementing-the-Scan-UI","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/03-Device-Scanning#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/03-Device-Scanning"}]},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-4:-Connection-&-Service-Discovery","projects":[{"sections":[{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/04-Connection-Discovery#Connecting-to-a-Device","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/04-Connection-Discovery#Service-Discovery","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/04-Connection-Discovery#Characteristic-Discovery","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/04-Connection-Discovery#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/04-Connection-Discovery"}]},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-5:-Reading\/Writing-Characteristics","projects":[{"sections":[{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/05-ReadWrite-Characteristic#Reading-Characteristics","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/05-ReadWrite-Characteristic#Writing-Characteristics","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/05-ReadWrite-Characteristic#Data-Conversion","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/05-ReadWrite-Characteristic#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/05-ReadWrite-Characteristic"}]},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-6:-Subscribing-to-Notifications","projects":[{"sections":[{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/06-Notifications#Notify-vs-Indicate","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/06-Notifications#Implementing-Notification-Subscription","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/06-Notifications#Real-time-Data-UI","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/06-Notifications#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/06-Notifications"}]},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-7:-CBPeripheralManager-(Peripheral-Role)","projects":[{"sections":[{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/07-PeripheralManager#Setting-Up-CBPeripheralManager","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/07-PeripheralManager#Creating-Services-Characteristics","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/07-PeripheralManager#Starting-Advertisement","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/07-PeripheralManager#Handling-Central-Requests","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/07-PeripheralManager#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/07-PeripheralManager"}]},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-8:-Background-BLE","projects":[{"sections":[{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/08-Background-BLE#Background-Mode-Configuration","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/08-Background-BLE#State-Restoration","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/08-Background-BLE#Background-Scanning","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/08-Background-BLE#Background-Notifications","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/08-Background-BLE#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/08-Background-BLE"}]},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-9:-Connection-Management-&-Reconnection","projects":[{"sections":[{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/09-Connection-Management#Handling-Disconnection","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/09-Connection-Management#Automatic-Reconnection","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/09-Connection-Management#Multi-Device-Management","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/09-Connection-Management#Connection-Timeout","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/09-Connection-Management#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/09-Connection-Management"}]},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-10:-Debugging-&-Troubleshooting","projects":[{"sections":[{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/10-Debugging-Troubleshooting#Common-Issues","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/10-Debugging-Troubleshooting#Implementing-Logging","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/10-Debugging-Troubleshooting#Debugging-Tools","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/10-Debugging-Troubleshooting#Performance-Optimization","kind":"task"},{"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/10-Debugging-Troubleshooting#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/10-Debugging-Troubleshooting"}]}],"reference":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents"},"schemaVersion":{"patch":0,"major":0,"minor":3},"kind":"project","references":{"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/08-Background-BLE#Check-Your-Understanding":{"url":"\/tutorials\/higbluetooth\/08-background-ble#Check-Your-Understanding","title":"Check Your Understanding","type":"link","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/08-Background-BLE#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/09-Connection-Management":{"title":"Connection Management & Reconnection","estimatedTime":"20min","abstract":[{"text":"Learn patterns for handling disconnections, automatic reconnection,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and multi-device management."}],"role":"project","type":"topic","url":"\/tutorials\/higbluetooth\/09-connection-management","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/09-Connection-Management","kind":"project"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/10-Debugging-Troubleshooting#Debugging-Tools":{"title":"Debugging Tools","abstract":[{"text":"Learn about common issues in BLE development","type":"text"},{"text":" ","type":"text"},{"text":"and effective debugging methods.","type":"text"}],"role":"pseudoSymbol","url":"\/tutorials\/higbluetooth\/10-debugging-troubleshooting#Debugging-Tools","type":"section","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/10-Debugging-Troubleshooting#Debugging-Tools","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/06-Notifications":{"title":"Subscribing to Notifications","estimatedTime":"15min","abstract":[{"type":"text","text":"Implement Notify\/Indicate to receive"},{"text":" ","type":"text"},{"text":"real-time characteristic value changes.","type":"text"}],"role":"project","url":"\/tutorials\/higbluetooth\/06-notifications","type":"topic","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/06-Notifications","kind":"project"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/08-Background-BLE":{"title":"Background BLE","estimatedTime":"20min","abstract":[{"text":"Implement methods to maintain BLE communication","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"even when the app is in the background."}],"role":"project","type":"topic","url":"\/tutorials\/higbluetooth\/08-background-ble","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/08-Background-BLE","kind":"project"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/06-Notifications#Check-Your-Understanding":{"url":"\/tutorials\/higbluetooth\/06-notifications#Check-Your-Understanding","title":"Check Your Understanding","type":"link","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/06-Notifications#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/05-ReadWrite-Characteristic#Writing-Characteristics":{"abstract":[{"text":"Learn how to read data from and write new values","type":"text"},{"text":" ","type":"text"},{"text":"to BLE device characteristics.","type":"text"}],"title":"Writing Characteristics","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/05-ReadWrite-Characteristic#Writing-Characteristics","role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/05-readwrite-characteristic#Writing-Characteristics","kind":"section"},"06-06-heart-rate-view.swift":{"fileName":"HeartRateView.swift","syntax":"swift","content":["import SwiftUI","","struct HeartRateView: View {","    @State private var manager = BluetoothManager()","    ","    var body: some View {","        VStack(spacing: 24) {","            \/\/ ÌòÑÏû¨ Ïã¨Î∞ïÏàò","            VStack {","                Image(systemName: \"heart.fill\")","                    .font(.system(size: 80))","                    .foregroundStyle(.red)","                    .symbolEffect(.pulse, options: .repeating)","                ","                Text(\"\\(manager.currentHeartRate)\")","                    .font(.system(size: 72, weight: .bold, design: .rounded))","                ","                Text(\"BPM\")","                    .font(.title2)","                    .foregroundStyle(.secondary)","            }","            ","            \/\/ ÌûàÏä§ÌÜ†Î¶¨ Ï∞®Ìä∏ (Í∞ÑÎã®Ìïú Î≤ÑÏ†Ñ)","            HStack(alignment: .bottom, spacing: 2) {","                ForEach(manager.heartRateHistory.suffix(30), id: \\.self) { hr in","                    RoundedRectangle(cornerRadius: 2)","                        .fill(.red.opacity(0.7))","                        .frame(width: 8, height: CGFloat(hr) \/ 2)","                }","            }","            .frame(height: 100)","        }","        .padding()","    }","}"],"identifier":"06-06-heart-rate-view.swift","type":"file","highlights":[],"fileType":"swift"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/06-Notifications#Real-time-Data-UI":{"title":"Real-time Data UI","abstract":[{"text":"Implement Notify\/Indicate to receive","type":"text"},{"type":"text","text":" "},{"type":"text","text":"real-time characteristic value changes."}],"role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/06-notifications#Real-time-Data-UI","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/06-Notifications#Real-time-Data-UI","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/03-Device-Scanning#Check-Your-Understanding":{"url":"\/tutorials\/higbluetooth\/03-device-scanning#Check-Your-Understanding","title":"Check Your Understanding","type":"link","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/03-Device-Scanning#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://bluetooth.HIGBluetooth/tutorials/Table-of-Contents/Chapter-10:-Debugging-&-Troubleshooting":{"title":"Chapter 10: Debugging & Troubleshooting","abstract":[],"role":"article","type":"topic","url":"\/tutorials\/table-of-contents\/chapter-10:-debugging-&-troubleshooting","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-10:-Debugging-&-Troubleshooting","kind":"article"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/05-ReadWrite-Characteristic#Reading-Characteristics":{"title":"Reading Characteristics","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/05-ReadWrite-Characteristic#Reading-Characteristics","kind":"section","abstract":[{"type":"text","text":"Learn how to read data from and write new values"},{"text":" ","type":"text"},{"text":"to BLE device characteristics.","type":"text"}],"url":"\/tutorials\/higbluetooth\/05-readwrite-characteristic#Reading-Characteristics"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/04-Connection-Discovery":{"abstract":[{"text":"Connect to a selected BLE device","type":"text"},{"text":" ","type":"text"},{"text":"and explore its services and characteristics.","type":"text"}],"title":"Connection & Service Discovery","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/04-Connection-Discovery","estimatedTime":"20min","role":"project","type":"topic","url":"\/tutorials\/higbluetooth\/04-connection-discovery","kind":"project"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/08-Background-BLE#Background-Scanning":{"title":"Background Scanning","abstract":[{"type":"text","text":"Implement methods to maintain BLE communication"},{"type":"text","text":" "},{"type":"text","text":"even when the app is in the background."}],"role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/08-background-ble#Background-Scanning","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/08-Background-BLE#Background-Scanning","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/10-Debugging-Troubleshooting#Common-Issues":{"abstract":[{"text":"Learn about common issues in BLE development","type":"text"},{"text":" ","type":"text"},{"text":"and effective debugging methods.","type":"text"}],"title":"Common Issues","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/10-Debugging-Troubleshooting#Common-Issues","role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/10-debugging-troubleshooting#Common-Issues","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/01-CoreBluetooth-Introduction":{"title":"Introduction to CoreBluetooth & BLE Basics","estimatedTime":"15min","abstract":[{"type":"text","text":"Understand the basic concepts of Bluetooth Low Energy"},{"type":"text","text":" "},{"type":"text","text":"and the structure of the CoreBluetooth framework."}],"role":"project","type":"topic","url":"\/tutorials\/higbluetooth\/01-corebluetooth-introduction","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/01-CoreBluetooth-Introduction","kind":"project"},"doc://bluetooth.HIGBluetooth/tutorials/Table-of-Contents/Chapter-5:-Reading/Writing-Characteristics":{"abstract":[],"title":"Chapter 5: Reading\/Writing Characteristics","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-5:-Reading\/Writing-Characteristics","role":"article","type":"topic","url":"\/tutorials\/table-of-contents\/chapter-5:-reading\/writing-characteristics","kind":"article"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/09-Connection-Management#Check-Your-Understanding":{"url":"\/tutorials\/higbluetooth\/09-connection-management#Check-Your-Understanding","title":"Check Your Understanding","type":"link","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/09-Connection-Management#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://bluetooth.HIGBluetooth/tutorials/Table-of-Contents/Chapter-8:-Background-BLE":{"abstract":[],"type":"topic","title":"Chapter 8: Background BLE","kind":"article","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-8:-Background-BLE","role":"article","url":"\/tutorials\/table-of-contents\/chapter-8:-background-ble"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/09-Connection-Management#Connection-Timeout":{"type":"section","title":"Connection Timeout","role":"pseudoSymbol","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/09-Connection-Management#Connection-Timeout","kind":"section","abstract":[{"text":"Learn patterns for handling disconnections, automatic reconnection,","type":"text"},{"text":" ","type":"text"},{"text":"and multi-device management.","type":"text"}],"url":"\/tutorials\/higbluetooth\/09-connection-management#Connection-Timeout"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/10-Debugging-Troubleshooting#Implementing-Logging":{"title":"Implementing Logging","abstract":[{"text":"Learn about common issues in BLE development","type":"text"},{"text":" ","type":"text"},{"text":"and effective debugging methods.","type":"text"}],"role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/10-debugging-troubleshooting#Implementing-Logging","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/10-Debugging-Troubleshooting#Implementing-Logging","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/Table-of-Contents/Chapter-9:-Connection-Management-&-Reconnection":{"abstract":[],"type":"topic","title":"Chapter 9: Connection Management & Reconnection","kind":"article","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-9:-Connection-Management-&-Reconnection","role":"article","url":"\/tutorials\/table-of-contents\/chapter-9:-connection-management-&-reconnection"},"doc://bluetooth.HIGBluetooth/tutorials/Table-of-Contents/Chapter-3:-Device-Scanning":{"abstract":[],"title":"Chapter 3: Device Scanning","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-3:-Device-Scanning","role":"article","type":"topic","url":"\/tutorials\/table-of-contents\/chapter-3:-device-scanning","kind":"article"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/01-CoreBluetooth-Introduction#The-CoreBluetooth-Framework":{"title":"The CoreBluetooth Framework","abstract":[{"text":"Understand the basic concepts of Bluetooth Low Energy","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and the structure of the CoreBluetooth framework."}],"role":"pseudoSymbol","url":"\/tutorials\/higbluetooth\/01-corebluetooth-introduction#The-CoreBluetooth-Framework","type":"section","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/01-CoreBluetooth-Introduction#The-CoreBluetooth-Framework","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/04-Connection-Discovery#Service-Discovery":{"abstract":[{"type":"text","text":"Connect to a selected BLE device"},{"type":"text","text":" "},{"type":"text","text":"and explore its services and characteristics."}],"title":"Service Discovery","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/04-Connection-Discovery#Service-Discovery","role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/04-connection-discovery#Service-Discovery","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/05-ReadWrite-Characteristic#Data-Conversion":{"abstract":[{"text":"Learn how to read data from and write new values","type":"text"},{"text":" ","type":"text"},{"text":"to BLE device characteristics.","type":"text"}],"type":"section","title":"Data Conversion","kind":"section","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/05-ReadWrite-Characteristic#Data-Conversion","role":"pseudoSymbol","url":"\/tutorials\/higbluetooth\/05-readwrite-characteristic#Data-Conversion"},"doc://bluetooth.HIGBluetooth/tutorials/Table-of-Contents":{"abstract":[{"type":"text","text":"Build an app that communicates with Bluetooth Low Energy devices"},{"type":"text","text":" "},{"type":"text","text":"using the CoreBluetooth framework."}],"title":"Building a BLE Device Connection App with CoreBluetooth","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents","role":"overview","type":"topic","url":"\/tutorials\/table-of-contents","kind":"overview"},"06-04-handle-notification.swift":{"fileName":"BluetoothManager.swift","syntax":"swift","content":["import CoreBluetooth","import Combine","","@Observable","class BluetoothManager {","    var currentHeartRate: Int = 0","    var heartRateHistory: [Int] = []","    ","    \/\/ didUpdateValueForÏóêÏÑú Ìò∏Ï∂ú","    private func handleHeartRateNotification(_ data: Data) {","        guard let measurement = parseHeartRate(data: data) else { return }","        ","        \/\/ UI ÏóÖÎç∞Ïù¥Ìä∏","        currentHeartRate = measurement.heartRate","        heartRateHistory.append(measurement.heartRate)","        ","        \/\/ ÏµúÍ∑º 100Í∞úÎßå Ïú†ÏßÄ","        if heartRateHistory.count > 100 {","            heartRateHistory.removeFirst()","        }","        ","        print(\"üíì Ïã¨Î∞ïÏàò ÏïåÎ¶º: \\(measurement.heartRate) BPM\")","    }","}","","\/\/ didUpdateValueForÏóêÏÑú","\/\/ switch characteristic.uuid {","\/\/ case CBUUID(string: \"2A37\"):","\/\/     handleHeartRateNotification(data)","\/\/ ...","\/\/ }"],"identifier":"06-04-handle-notification.swift","type":"file","highlights":[{"line":2},{"line":4},{"line":5},{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":21},{"line":22},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31}],"fileType":"swift"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/09-Connection-Management#Automatic-Reconnection":{"abstract":[{"text":"Learn patterns for handling disconnections, automatic reconnection,","type":"text"},{"text":" ","type":"text"},{"text":"and multi-device management.","type":"text"}],"type":"section","title":"Automatic Reconnection","kind":"section","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/09-Connection-Management#Automatic-Reconnection","role":"pseudoSymbol","url":"\/tutorials\/higbluetooth\/09-connection-management#Automatic-Reconnection"},"06-05-async-stream.swift":{"fileName":"HeartRateStream.swift","syntax":"swift","content":["import Foundation","","@Observable","class BluetoothManager {","    private var heartRateContinuation: AsyncStream<Int>.Continuation?","    ","    \/\/ AsyncStreamÏúºÎ°ú Ïã¨Î∞ïÏàò Ïä§Ìä∏Î¶¨Î∞ç","    var heartRateStream: AsyncStream<Int> {","        AsyncStream { continuation in","            self.heartRateContinuation = continuation","            ","            continuation.onTermination = { _ in","                \/\/ Íµ¨ÎèÖ Ìï¥Ï†ú Î°úÏßÅ","            }","        }","    }","    ","    \/\/ ÏïåÎ¶º ÏàòÏã† Ïãú Ìò∏Ï∂ú","    private func emitHeartRate(_ value: Int) {","        heartRateContinuation?.yield(value)","    }","}","","\/\/ ÏÇ¨Ïö© Ïòà","\/\/ Task {","\/\/     for await heartRate in manager.heartRateStream {","\/\/         print(\"Heart Rate: \\(heartRate)\")","\/\/     }","\/\/ }"],"identifier":"06-05-async-stream.swift","type":"file","highlights":[],"fileType":"swift"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/04-Connection-Discovery#Check-Your-Understanding":{"url":"\/tutorials\/higbluetooth\/04-connection-discovery#Check-Your-Understanding","title":"Check Your Understanding","type":"link","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/04-Connection-Discovery#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/07-PeripheralManager#Handling-Central-Requests":{"abstract":[{"text":"Learn how to make your app act as a BLE Peripheral","type":"text"},{"type":"text","text":" "},{"text":"and advertise services to other devices.","type":"text"}],"title":"Handling Central Requests","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/07-PeripheralManager#Handling-Central-Requests","role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/07-peripheralmanager#Handling-Central-Requests","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/08-Background-BLE#State-Restoration":{"role":"pseudoSymbol","url":"\/tutorials\/higbluetooth\/08-background-ble#State-Restoration","kind":"section","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/08-Background-BLE#State-Restoration","type":"section","title":"State Restoration","abstract":[{"type":"text","text":"Implement methods to maintain BLE communication"},{"text":" ","type":"text"},{"type":"text","text":"even when the app is in the background."}]},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/03-Device-Scanning":{"title":"Device Scanning","estimatedTime":"20min","abstract":[{"text":"Learn how to scan for nearby BLE devices","type":"text"},{"type":"text","text":" "},{"text":"and manage the list of discovered devices.","type":"text"}],"role":"project","url":"\/tutorials\/higbluetooth\/03-device-scanning","type":"topic","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/03-Device-Scanning","kind":"project"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/08-Background-BLE#Background-Notifications":{"abstract":[{"type":"text","text":"Implement methods to maintain BLE communication"},{"type":"text","text":" "},{"type":"text","text":"even when the app is in the background."}],"type":"section","title":"Background Notifications","kind":"section","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/08-Background-BLE#Background-Notifications","role":"pseudoSymbol","url":"\/tutorials\/higbluetooth\/08-background-ble#Background-Notifications"},"doc://bluetooth.HIGBluetooth/tutorials/Table-of-Contents/Chapter-6:-Subscribing-to-Notifications":{"abstract":[],"title":"Chapter 6: Subscribing to Notifications","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-6:-Subscribing-to-Notifications","role":"article","type":"topic","url":"\/tutorials\/table-of-contents\/chapter-6:-subscribing-to-notifications","kind":"article"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/05-ReadWrite-Characteristic#Check-Your-Understanding":{"url":"\/tutorials\/higbluetooth\/05-readwrite-characteristic#Check-Your-Understanding","title":"Check Your Understanding","type":"link","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/05-ReadWrite-Characteristic#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/02-CBCentralManager-Setup#Handling-Bluetooth-State":{"abstract":[{"text":"Learn how to create a CBCentralManager, the core of the Central role,","type":"text"},{"text":" ","type":"text"},{"text":"and monitor Bluetooth state.","type":"text"}],"title":"Handling Bluetooth State","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/02-CBCentralManager-Setup#Handling-Bluetooth-State","role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/02-cbcentralmanager-setup#Handling-Bluetooth-State","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/09-Connection-Management#Multi-Device-Management":{"title":"Multi-Device Management","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/09-Connection-Management#Multi-Device-Management","kind":"section","abstract":[{"text":"Learn patterns for handling disconnections, automatic reconnection,","type":"text"},{"type":"text","text":" "},{"text":"and multi-device management.","type":"text"}],"url":"\/tutorials\/higbluetooth\/09-connection-management#Multi-Device-Management"},"06-01-check-notify.swift":{"fileName":"NotificationSupport.swift","syntax":"swift","content":["import CoreBluetooth","","extension CBCharacteristic {","    \/\/ ÏïåÎ¶º ÏßÄÏõê Ïó¨Î∂Ä ÌôïÏù∏","    var supportsNotify: Bool {","        properties.contains(.notify)","    }","    ","    var supportsIndicate: Bool {","        properties.contains(.indicate)","    }","    ","    var supportsAnyNotification: Bool {","        supportsNotify || supportsIndicate","    }","}","","\/\/ Characteristic ÌôïÏù∏","func checkNotificationSupport(_ char: CBCharacteristic) {","    if char.supportsNotify {","        print(\"‚úÖ Notify ÏßÄÏõê\")","    } else if char.supportsIndicate {","        print(\"‚úÖ Indicate ÏßÄÏõê (Ïã†Î¢∞ÏÑ± ÎÜíÏùå)\")","    } else {","        print(\"‚ùå ÏïåÎ¶º ÎØ∏ÏßÄÏõê - Ìè¥ÎßÅ ÌïÑÏöî\")","    }","}"],"identifier":"06-01-check-notify.swift","type":"file","highlights":[],"fileType":"swift"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/03-Device-Scanning#Processing-Discovered-Devices":{"title":"Processing Discovered Devices","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/03-Device-Scanning#Processing-Discovered-Devices","kind":"section","abstract":[{"text":"Learn how to scan for nearby BLE devices","type":"text"},{"type":"text","text":" "},{"text":"and manage the list of discovered devices.","type":"text"}],"url":"\/tutorials\/higbluetooth\/03-device-scanning#Processing-Discovered-Devices"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/02-CBCentralManager-Setup#Applying-the-Observable-Pattern":{"abstract":[{"type":"text","text":"Learn how to create a CBCentralManager, the core of the Central role,"},{"type":"text","text":" "},{"type":"text","text":"and monitor Bluetooth state."}],"type":"section","title":"Applying the @Observable Pattern","kind":"section","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/02-CBCentralManager-Setup#Applying-the-Observable-Pattern","role":"pseudoSymbol","url":"\/tutorials\/higbluetooth\/02-cbcentralmanager-setup#Applying-the-Observable-Pattern"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/05-ReadWrite-Characteristic":{"title":"Reading\/Writing Characteristics","estimatedTime":"20min","abstract":[{"type":"text","text":"Learn how to read data from and write new values"},{"text":" ","type":"text"},{"type":"text","text":"to BLE device characteristics."}],"role":"project","type":"topic","url":"\/tutorials\/higbluetooth\/05-readwrite-characteristic","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/05-ReadWrite-Characteristic","kind":"project"},"doc://bluetooth.HIGBluetooth/tutorials/Table-of-Contents/Chapter-4:-Connection-&-Service-Discovery":{"abstract":[],"title":"Chapter 4: Connection & Service Discovery","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-4:-Connection-&-Service-Discovery","role":"article","type":"topic","url":"\/tutorials\/table-of-contents\/chapter-4:-connection-&-service-discovery","kind":"article"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/07-PeripheralManager#Check-Your-Understanding":{"url":"\/tutorials\/higbluetooth\/07-peripheralmanager#Check-Your-Understanding","title":"Check Your Understanding","type":"link","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/07-PeripheralManager#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/08-Background-BLE#Background-Mode-Configuration":{"title":"Background Mode Configuration","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/08-Background-BLE#Background-Mode-Configuration","kind":"section","abstract":[{"text":"Implement methods to maintain BLE communication","type":"text"},{"text":" ","type":"text"},{"text":"even when the app is in the background.","type":"text"}],"url":"\/tutorials\/higbluetooth\/08-background-ble#Background-Mode-Configuration"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/01-CoreBluetooth-Introduction#Check-Your-Understanding":{"url":"\/tutorials\/higbluetooth\/01-corebluetooth-introduction#Check-Your-Understanding","title":"Check Your Understanding","type":"link","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/01-CoreBluetooth-Introduction#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/09-Connection-Management#Handling-Disconnection":{"title":"Handling Disconnection","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/09-Connection-Management#Handling-Disconnection","kind":"section","abstract":[{"type":"text","text":"Learn patterns for handling disconnections, automatic reconnection,"},{"text":" ","type":"text"},{"text":"and multi-device management.","type":"text"}],"url":"\/tutorials\/higbluetooth\/09-connection-management#Handling-Disconnection"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/04-Connection-Discovery#Connecting-to-a-Device":{"title":"Connecting to a Device","abstract":[{"type":"text","text":"Connect to a selected BLE device"},{"type":"text","text":" "},{"type":"text","text":"and explore its services and characteristics."}],"role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/04-connection-discovery#Connecting-to-a-Device","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/04-Connection-Discovery#Connecting-to-a-Device","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/02-CBCentralManager-Setup":{"title":"CBCentralManager Setup","estimatedTime":"15min","abstract":[{"type":"text","text":"Learn how to create a CBCentralManager, the core of the Central role,"},{"type":"text","text":" "},{"type":"text","text":"and monitor Bluetooth state."}],"role":"project","type":"topic","url":"\/tutorials\/higbluetooth\/02-cbcentralmanager-setup","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/02-CBCentralManager-Setup","kind":"project"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/10-Debugging-Troubleshooting#Check-Your-Understanding":{"url":"\/tutorials\/higbluetooth\/10-debugging-troubleshooting#Check-Your-Understanding","title":"Check Your Understanding","type":"link","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/10-Debugging-Troubleshooting#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"06-02-subscribe.swift":{"fileName":"BluetoothManager.swift","syntax":"swift","content":["import CoreBluetooth","","extension BluetoothManager {","    func subscribe(to characteristic: CBCharacteristic) {","        guard let peripheral = connectedPeripheral else { return }","        ","        guard characteristic.supportsAnyNotification else {","            print(\"‚ö†Ô∏è ÏïåÎ¶º ÎØ∏ÏßÄÏõê\")","            return","        }","        ","        \/\/ ÏïåÎ¶º Íµ¨ÎèÖ ÏãúÏûë","        peripheral.setNotifyValue(true, for: characteristic)","        print(\"üîî ÏïåÎ¶º Íµ¨ÎèÖ ÏöîÏ≤≠: \\(characteristic.uuid)\")","    }","    ","    \/\/ Ïã¨Î∞ïÏàò ÏïåÎ¶º Íµ¨ÎèÖ","    func subscribeToHeartRate() {","        guard let peripheral = connectedPeripheral,","              let service = peripheral.services?.first(where: { ","                  $0.uuid == CBUUID(string: \"180D\") ","              }),","              let char = service.characteristics?.first(where: { ","                  $0.uuid == CBUUID(string: \"2A37\") ","              })","        else {","            print(\"Ïã¨Î∞ïÏàò CharacteristicÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏùå\")","            return","        }","        ","        subscribe(to: char)","    }","}"],"identifier":"06-02-subscribe.swift","type":"file","highlights":[],"fileType":"swift"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/01-CoreBluetooth-Introduction#Permission-Setup":{"title":"Permission Setup","abstract":[{"text":"Understand the basic concepts of Bluetooth Low Energy","type":"text"},{"type":"text","text":" "},{"text":"and the structure of the CoreBluetooth framework.","type":"text"}],"role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/01-corebluetooth-introduction#Permission-Setup","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/01-CoreBluetooth-Introduction#Permission-Setup","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/Table-of-Contents/Chapter-7:-CBPeripheralManager-(Peripheral-Role)":{"abstract":[],"type":"topic","title":"Chapter 7: CBPeripheralManager (Peripheral Role)","kind":"article","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-7:-CBPeripheralManager-(Peripheral-Role)","role":"article","url":"\/tutorials\/table-of-contents\/chapter-7:-cbperipheralmanager-(peripheral-role)"},"06-03-notify-callback.swift":{"fileName":"BluetoothManager.swift","syntax":"swift","content":["import CoreBluetooth","","extension BluetoothManager {","    func peripheral(","        _ peripheral: CBPeripheral,","        didUpdateNotificationStateFor characteristic: CBCharacteristic,","        error: Error?","    ) {","        if let error = error {","            print(\"‚ùå ÏïåÎ¶º Íµ¨ÎèÖ Ïã§Ìå®: \\(error.localizedDescription)\")","            ","            \/\/ Ïû¨ÏãúÎèÑ","            DispatchQueue.main.asyncAfter(deadline: .now() + 1) {","                peripheral.setNotifyValue(true, for: characteristic)","            }","            return","        }","        ","        if characteristic.isNotifying {","            print(\"‚úÖ ÏïåÎ¶º Íµ¨ÎèÖ ÏÑ±Í≥µ: \\(characteristic.uuid)\")","        } else {","            print(\"üîï ÏïåÎ¶º Íµ¨ÎèÖ Ìï¥Ï†úÎê®: \\(characteristic.uuid)\")","        }","    }","}"],"identifier":"06-03-notify-callback.swift","type":"file","highlights":[{"line":4},{"line":5},{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":19},{"line":20},{"line":21},{"line":22}],"fileType":"swift"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/01-CoreBluetooth-Introduction#What-is-BLE-Bluetooth-Low-Energy":{"type":"section","title":"What is BLE (Bluetooth Low Energy)?","role":"pseudoSymbol","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/01-CoreBluetooth-Introduction#What-is-BLE-Bluetooth-Low-Energy","kind":"section","abstract":[{"text":"Understand the basic concepts of Bluetooth Low Energy","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and the structure of the CoreBluetooth framework."}],"url":"\/tutorials\/higbluetooth\/01-corebluetooth-introduction#What-is-BLE-Bluetooth-Low-Energy"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/07-PeripheralManager#Setting-Up-CBPeripheralManager":{"title":"Setting Up CBPeripheralManager","abstract":[{"type":"text","text":"Learn how to make your app act as a BLE Peripheral"},{"text":" ","type":"text"},{"type":"text","text":"and advertise services to other devices."}],"role":"pseudoSymbol","url":"\/tutorials\/higbluetooth\/07-peripheralmanager#Setting-Up-CBPeripheralManager","type":"section","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/07-PeripheralManager#Setting-Up-CBPeripheralManager","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/07-PeripheralManager#Starting-Advertisement":{"abstract":[{"text":"Learn how to make your app act as a BLE Peripheral","type":"text"},{"text":" ","type":"text"},{"text":"and advertise services to other devices.","type":"text"}],"title":"Starting Advertisement","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/07-PeripheralManager#Starting-Advertisement","role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/07-peripheralmanager#Starting-Advertisement","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/04-Connection-Discovery#Characteristic-Discovery":{"title":"Characteristic Discovery","abstract":[{"text":"Connect to a selected BLE device","type":"text"},{"text":" ","type":"text"},{"text":"and explore its services and characteristics.","type":"text"}],"role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/04-connection-discovery#Characteristic-Discovery","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/04-Connection-Discovery#Characteristic-Discovery","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/06-Notifications#Notify-vs-Indicate":{"title":"Notify vs Indicate","abstract":[{"type":"text","text":"Implement Notify\/Indicate to receive"},{"type":"text","text":" "},{"type":"text","text":"real-time characteristic value changes."}],"role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/06-notifications#Notify-vs-Indicate","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/06-Notifications#Notify-vs-Indicate","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/07-PeripheralManager#Creating-Services-Characteristics":{"title":"Creating Services & Characteristics","abstract":[{"type":"text","text":"Learn how to make your app act as a BLE Peripheral"},{"type":"text","text":" "},{"type":"text","text":"and advertise services to other devices."}],"role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/07-peripheralmanager#Creating-Services-Characteristics","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/07-PeripheralManager#Creating-Services-Characteristics","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/10-Debugging-Troubleshooting":{"title":"Debugging & Troubleshooting","estimatedTime":"20min","abstract":[{"text":"Learn about common issues in BLE development","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and effective debugging methods."}],"role":"project","url":"\/tutorials\/higbluetooth\/10-debugging-troubleshooting","type":"topic","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/10-Debugging-Troubleshooting","kind":"project"},"06-07-unsubscribe.swift":{"syntax":"swift","fileName":"BluetoothManager.swift","content":["import CoreBluetooth","","extension BluetoothManager {","    func unsubscribe(from characteristic: CBCharacteristic) {","        guard let peripheral = connectedPeripheral else { return }","        ","        peripheral.setNotifyValue(false, for: characteristic)","        print(\"üîï ÏïåÎ¶º Íµ¨ÎèÖ Ìï¥Ï†ú ÏöîÏ≤≠: \\(characteristic.uuid)\")","    }","    ","    \/\/ Î™®Îì† ÏïåÎ¶º Ìï¥Ï†ú","    func unsubscribeAll() {","        guard let peripheral = connectedPeripheral,","              let services = peripheral.services else { return }","        ","        for service in services {","            guard let characteristics = service.characteristics else { continue }","            for char in characteristics where char.isNotifying {","                peripheral.setNotifyValue(false, for: char)","            }","        }","    }","}","","\/\/ SwiftUIÏóêÏÑú","\/\/ .onDisappear {","\/\/     manager.unsubscribeAll()","\/\/ }"],"identifier":"06-07-unsubscribe.swift","type":"file","highlights":[],"fileType":"swift"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/06-Notifications#Implementing-Notification-Subscription":{"title":"Implementing Notification Subscription","abstract":[{"type":"text","text":"Implement Notify\/Indicate to receive"},{"type":"text","text":" "},{"type":"text","text":"real-time characteristic value changes."}],"role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/06-notifications#Implementing-Notification-Subscription","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/06-Notifications#Implementing-Notification-Subscription","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/07-PeripheralManager":{"abstract":[{"text":"Learn how to make your app act as a BLE Peripheral","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and advertise services to other devices."}],"title":"CBPeripheralManager (Peripheral Role)","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/07-PeripheralManager","estimatedTime":"25min","role":"project","type":"topic","url":"\/tutorials\/higbluetooth\/07-peripheralmanager","kind":"project"},"doc://bluetooth.HIGBluetooth/tutorials/Table-of-Contents/Chapter-2:-CBCentralManager-Setup":{"abstract":[],"title":"Chapter 2: CBCentralManager Setup","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-2:-CBCentralManager-Setup","role":"article","type":"topic","url":"\/tutorials\/table-of-contents\/chapter-2:-cbcentralmanager-setup","kind":"article"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/02-CBCentralManager-Setup#Check-Your-Understanding":{"title":"Check Your Understanding","url":"\/tutorials\/higbluetooth\/02-cbcentralmanager-setup#Check-Your-Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/02-CBCentralManager-Setup#Check-Your-Understanding"},"doc://bluetooth.HIGBluetooth/tutorials/Table-of-Contents/Chapter-1:-Introduction-to-CoreBluetooth-&-BLE-Basics":{"abstract":[],"type":"topic","title":"Chapter 1: Introduction to CoreBluetooth & BLE Basics","kind":"article","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/Table-of-Contents\/Chapter-1:-Introduction-to-CoreBluetooth-&-BLE-Basics","role":"article","url":"\/tutorials\/table-of-contents\/chapter-1:-introduction-to-corebluetooth-&-ble-basics"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/02-CBCentralManager-Setup#Creating-CBCentralManager":{"title":"Creating CBCentralManager","abstract":[{"type":"text","text":"Learn how to create a CBCentralManager, the core of the Central role,"},{"type":"text","text":" "},{"type":"text","text":"and monitor Bluetooth state."}],"role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/02-cbcentralmanager-setup#Creating-CBCentralManager","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/02-CBCentralManager-Setup#Creating-CBCentralManager","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/03-Device-Scanning#Starting-a-Scan":{"title":"Starting a Scan","abstract":[{"text":"Learn how to scan for nearby BLE devices","type":"text"},{"text":" ","type":"text"},{"text":"and manage the list of discovered devices.","type":"text"}],"role":"pseudoSymbol","url":"\/tutorials\/higbluetooth\/03-device-scanning#Starting-a-Scan","type":"section","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/03-Device-Scanning#Starting-a-Scan","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/10-Debugging-Troubleshooting#Performance-Optimization":{"abstract":[{"text":"Learn about common issues in BLE development","type":"text"},{"text":" ","type":"text"},{"text":"and effective debugging methods.","type":"text"}],"title":"Performance Optimization","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/10-Debugging-Troubleshooting#Performance-Optimization","role":"pseudoSymbol","type":"section","url":"\/tutorials\/higbluetooth\/10-debugging-troubleshooting#Performance-Optimization","kind":"section"},"doc://bluetooth.HIGBluetooth/tutorials/HIGBluetooth/03-Device-Scanning#Implementing-the-Scan-UI":{"abstract":[{"text":"Learn how to scan for nearby BLE devices","type":"text"},{"text":" ","type":"text"},{"text":"and manage the list of discovered devices.","type":"text"}],"type":"section","title":"Implementing the Scan UI","kind":"section","identifier":"doc:\/\/bluetooth.HIGBluetooth\/tutorials\/HIGBluetooth\/03-Device-Scanning#Implementing-the-Scan-UI","role":"pseudoSymbol","url":"\/tutorials\/higbluetooth\/03-device-scanning#Implementing-the-Scan-UI"}}}