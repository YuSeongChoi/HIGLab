{"sections":[{"kind":"hero","chapter":"Chapter 4: Handling Authentication Requests","title":"Handling Authentication Requests","estimatedTimeInMinutes":20,"content":[{"inlineContent":[{"text":"Learn how to initiate authentication requests and properly","type":"text"},{"text":" ","type":"text"},{"text":"handle Authorization Code, Identity Token, and other results.","type":"text"}],"type":"paragraph"}]},{"kind":"tasks","tasks":[{"stepsSection":[{"content":[{"inlineContent":[{"type":"text","text":"Create an authentication request and set the scope."},{"type":"text","text":" "},{"type":"text","text":"Without specifying a scope, you only receive the User Identifier."}],"type":"paragraph"}],"caption":[],"type":"step","code":"04-01-create-request.swift","runtimePreview":null,"media":null},{"content":[{"inlineContent":[{"type":"text","text":"Generate a nonce and include it in the request."},{"type":"text","text":" "},{"type":"text","text":"It’s used when verifying the Identity Token on the server."}],"type":"paragraph"}],"caption":[],"type":"step","code":"04-02-nonce.swift","runtimePreview":null,"media":null},{"content":[{"inlineContent":[{"type":"text","text":"Hash the nonce with SHA256 and set it in the request."},{"type":"text","text":" "},{"type":"text","text":"Keep the original nonce for server verification."}],"type":"paragraph"}],"caption":[],"type":"step","code":"04-03-nonce-hash.swift","runtimePreview":null,"media":null}],"title":"Starting Authentication Request","contentSection":[{"content":[{"inlineContent":[{"type":"text","text":"Authentication requests are configured through ASAuthorizationAppleIDRequest,"},{"type":"text","text":" "},{"type":"text","text":"and you can specify the scope of information to request."}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"requestedScopes"},{"type":"text","text":": Scope of user information to request"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":".fullName"},{"type":"text","text":": User’s name"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":".email"},{"type":"text","text":": User’s email"}]}]}],"type":"unorderedList"}],"mediaPosition":"trailing","kind":"contentAndMedia"}],"anchor":"Starting-Authentication-Request"},{"stepsSection":[{"content":[{"inlineContent":[{"type":"text","text":"Extract the user identifier from the Credential."},{"type":"text","text":" "},{"type":"text","text":"This value is unique for the app-user combination."}],"type":"paragraph"}],"caption":[],"type":"step","code":"04-04-extract-user.swift","runtimePreview":null,"media":null},{"content":[{"inlineContent":[{"type":"text","text":"Decode the identityToken to a String."},{"type":"text","text":" "},{"type":"text","text":"This JWT must be verified on the server."}],"type":"paragraph"}],"caption":[],"type":"step","code":"04-05-identity-token.swift","runtimePreview":null,"media":null},{"content":[{"inlineContent":[{"type":"text","text":"Extract the authorizationCode."},{"type":"text","text":" "},{"type":"text","text":"Used to obtain a refresh token on the server."}],"type":"paragraph"}],"caption":[],"type":"step","code":"04-06-auth-code.swift","runtimePreview":null,"media":null}],"title":"Understanding ASAuthorizationAppleIDCredential","contentSection":[{"content":[{"inlineContent":[{"type":"text","text":"The Credential received on successful authentication"},{"type":"text","text":" "},{"type":"text","text":"contains various information."}],"type":"paragraph"},{"header":"row","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Property"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Description"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Notes"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"user"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Unique user identifier"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Always provided"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"email"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Email address"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"First authentication only"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"fullName"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"User’s name"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"First authentication only"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"identityToken"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"JWT token"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"For server verification"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"authorizationCode"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Authorization code"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"For server token exchange"}]}]]],"type":"table"}],"mediaPosition":"trailing","kind":"contentAndMedia"}],"anchor":"Understanding-ASAuthorizationAppleIDCredential"},{"stepsSection":[{"content":[{"inlineContent":[{"type":"text","text":"Check if it’s the first authentication and save user information."},{"type":"text","text":" "},{"type":"text","text":"It’s the first authentication when email and fullName are not nil."}],"type":"paragraph"}],"caption":[],"type":"step","code":"04-07-first-auth.swift","runtimePreview":null,"media":null},{"content":[{"inlineContent":[{"type":"text","text":"Safely store user information in the Keychain."},{"type":"text","text":" "},{"type":"text","text":"UserDefaults is not suitable for sensitive information."}],"type":"paragraph"}],"caption":[],"type":"step","code":"04-08-save-credentials.swift","runtimePreview":null,"media":null},{"content":[{"inlineContent":[{"type":"text","text":"On re-authentication, match the stored information"},{"type":"text","text":" "},{"type":"text","text":"with the user identifier."}],"type":"paragraph"}],"caption":[],"type":"step","code":"04-09-re-auth.swift","runtimePreview":null,"media":null}],"title":"First Authentication vs Re-authentication","contentSection":[{"content":[{"inlineContent":[{"type":"text","text":"Important: email and fullName are only provided"},{"type":"text","text":" "},{"type":"text","text":"during the first authentication."},{"type":"text","text":" "},{"type":"text","text":"On re-authentication, you can only receive the user (identifier)."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Therefore, you must save the information"},{"type":"text","text":" "},{"type":"text","text":"received during first authentication."}],"type":"paragraph"}],"mediaPosition":"trailing","kind":"contentAndMedia"}],"anchor":"First-Authentication-vs-Re-authentication"},{"stepsSection":[{"content":[{"inlineContent":[{"type":"text","text":"Check realUserStatus to filter bot accounts."}],"type":"paragraph"}],"caption":[],"type":"step","code":"04-10-real-user.swift","runtimePreview":null,"media":null},{"content":[{"inlineContent":[{"type":"text","text":"Consider additional verification for unknown status."},{"type":"text","text":" "},{"type":"text","text":"Use CAPTCHA or email verification."}],"type":"paragraph"}],"caption":[],"type":"step","code":"04-11-additional-verify.swift","runtimePreview":null,"media":null}],"title":"Real User Status","contentSection":[{"content":[{"inlineContent":[{"type":"text","text":"realUserStatus is Apple’s determination"},{"type":"text","text":" "},{"type":"text","text":"of whether the user is a real person."}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":".likelyReal"},{"type":"text","text":": Likely a real person"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":".unknown"},{"type":"text","text":": Cannot determine"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":".unsupported"},{"type":"text","text":": Not supported"}]}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"Can be utilized in anti-bot logic."}],"type":"paragraph"}],"mediaPosition":"trailing","kind":"contentAndMedia"}],"anchor":"Real-User-Status"}]},{"kind":"assessments","anchor":"Check-Your-Understanding","assessments":[{"choices":[{"isCorrect":true,"content":[{"inlineContent":[{"type":"text","text":"Only during the first authentication."}],"type":"paragraph"}],"justification":[{"inlineContent":[{"type":"text","text":"For user privacy protection,"},{"type":"text","text":" "},{"type":"text","text":"they’re only provided on first authentication."},{"type":"text","text":" "},{"type":"text","text":"Make sure to save them."}],"type":"paragraph"}]},{"isCorrect":false,"content":[{"inlineContent":[{"type":"text","text":"Provided on every authentication."}],"type":"paragraph"}],"justification":[{"inlineContent":[{"type":"text","text":"On re-authentication, only the user identifier is provided."}],"type":"paragraph"}]},{"isCorrect":false,"content":[{"inlineContent":[{"type":"text","text":"Always provided when included in scope."}],"type":"paragraph"}],"justification":[{"inlineContent":[{"type":"text","text":"Even with scope requested, they’re nil on re-authentication."}],"type":"paragraph"}]}],"content":[],"title":[{"type":"paragraph","inlineContent":[{"text":"When are email and fullName provided?","type":"text"}]}],"type":"multiple-choice"},{"choices":[{"isCorrect":false,"content":[{"inlineContent":[{"type":"text","text":"User interface customization."}],"type":"paragraph"}],"justification":[{"inlineContent":[{"type":"text","text":"Nonce is a security-related feature."}],"type":"paragraph"}]},{"isCorrect":true,"content":[{"inlineContent":[{"type":"text","text":"Verifying the validity of the Identity Token on the server."}],"type":"paragraph"}],"justification":[{"inlineContent":[{"type":"text","text":"Nonce prevents replay attacks and"},{"type":"text","text":" "},{"type":"text","text":"verifies token integrity."}],"type":"paragraph"}]},{"isCorrect":false,"content":[{"inlineContent":[{"type":"text","text":"Used for generating user identifiers."}],"type":"paragraph"}],"justification":[{"inlineContent":[{"type":"text","text":"User identifiers are automatically generated by Apple."}],"type":"paragraph"}]}],"content":[],"title":[{"type":"paragraph","inlineContent":[{"text":"What is the main purpose of using a nonce?","type":"text"}]}],"type":"multiple-choice"}]},{"kind":"callToAction","featuredEyebrow":"Tutorial","abstract":[{"text":"Safely collect user information such as name and email,","type":"text"},{"text":" ","type":"text"},{"text":"and process it in a privacy-respecting manner.","type":"text"}],"action":{"overridingTitle":"Get started","overridingTitleInlineContent":[{"text":"Get started","type":"text"}],"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/05-User-Info","isActive":true,"type":"reference"},"title":"Collecting User Information"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/04-Auth-Request"},"hierarchy":{"paths":[["doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents","doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/$volume","doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-4:-Handling-Authentication-Requests"]],"modules":[{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-1:-Introduction-to-Sign-in-with-Apple","projects":[{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/01-Introduction","sections":[{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/01-Introduction#What-is-Sign-in-with-Apple"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/01-Introduction#Privacy-Protection-Features"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/01-Introduction#App-Store-Guidelines"},{"kind":"assessment","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/01-Introduction#Check-Your-Understanding"}]}]},{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-2:-ASAuthorizationController-Setup","projects":[{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/02-ASAuthorizationController","sections":[{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/02-ASAuthorizationController#Creating-ASAuthorizationAppleIDProvider"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/02-ASAuthorizationController#Initializing-ASAuthorizationController"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/02-ASAuthorizationController#Implementing-Delegate-Protocol"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/02-ASAuthorizationController#Implementing-PresentationContextProvider"},{"kind":"assessment","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/02-ASAuthorizationController#Check-Your-Understanding"}]}]},{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-3:-Button-UI-(ASAuthorizationAppleIDButton)","projects":[{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/03-Button-UI","sections":[{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/03-Button-UI#Introduction-to-ASAuthorizationAppleIDButton"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/03-Button-UI#Choosing-Button-Type"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/03-Button-UI#Customizing-Button-Style"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/03-Button-UI#Using-in-SwiftUI"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/03-Button-UI#HIG-Guidelines-Compliance"},{"kind":"assessment","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/03-Button-UI#Check-Your-Understanding"}]}]},{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-4:-Handling-Authentication-Requests","projects":[{"sections":[{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/04-Auth-Request#Starting-Authentication-Request","kind":"task"},{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/04-Auth-Request#Understanding-ASAuthorizationAppleIDCredential","kind":"task"},{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/04-Auth-Request#First-Authentication-vs-Re-authentication","kind":"task"},{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/04-Auth-Request#Real-User-Status","kind":"task"},{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/04-Auth-Request#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/04-Auth-Request"}]},{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-5:-Collecting-User-Information","projects":[{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/05-User-Info","sections":[{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/05-User-Info#Handling-PersonNameComponents"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/05-User-Info#Email-Handling"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/05-User-Info#Private-Email-Relay-Setup"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/05-User-Info#User-Information-Storage-Strategy"},{"kind":"assessment","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/05-User-Info#Check-Your-Understanding"}]}]},{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-6:-Checking-Credential-State","projects":[{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/06-Credential-State","sections":[{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/06-Credential-State#Types-of-Credential-State"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/06-Credential-State#Checking-State-at-App-Launch"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/06-Credential-State#Handling-Revoked-State"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/06-Credential-State#Real-time-Detection-with-Notification"},{"kind":"assessment","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/06-Credential-State#Check-Your-Understanding"}]}]},{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-7:-Server-Validation","projects":[{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/07-Server-Validation","sections":[{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/07-Server-Validation#Understanding-Identity-Token"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/07-Server-Validation#Fetching-Apple-Public-Keys"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/07-Server-Validation#Token-Verification-Steps"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/07-Server-Validation#Token-Exchange-with-Authorization-Code"},{"kind":"assessment","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/07-Server-Validation#Check-Your-Understanding"}]}]},{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-8:-Account-Linking","projects":[{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/08-Account-Linking","sections":[{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/08-Account-Linking#Requesting-Password-Credentials"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/08-Account-Linking#Distinguishing-Credential-Types"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/08-Account-Linking#Account-Migration-Strategy"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/08-Account-Linking#Existing-Account-Preference"},{"kind":"assessment","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/08-Account-Linking#Check-Your-Understanding"}]}]},{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-9:-Passkeys","projects":[{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/09-Passkeys","sections":[{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/09-Passkeys#What-are-Passkeys"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/09-Passkeys#Passkey-Registration"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/09-Passkeys#Passkey-Assertion"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/09-Passkeys#Sign-in-with-Apple-+-Passkeys"},{"kind":"assessment","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/09-Passkeys#Check-Your-Understanding"}]}]},{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-10:-Web-Integration-(Sign-in-with-Apple-JS)","projects":[{"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/10-Web-Integration","sections":[{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/10-Web-Integration#Introduction-to-Sign-in-with-Apple-JS"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/10-Web-Integration#Implementing-Web-Login-Button"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/10-Web-Integration#Server-Side-Processing"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/10-Web-Integration#App-Web-Account-Synchronization"},{"kind":"task","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/10-Web-Integration#Universal-Links-Integration"},{"kind":"assessment","reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/10-Web-Integration#Check-Your-Understanding"}]}]}],"reference":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents"},"metadata":{"category":"Sign in with Apple Complete Guide","categoryPathComponent":"Table-of-Contents","role":"project","title":"Handling Authentication Requests"},"variants":[{"paths":["\/tutorials\/higauthservices\/04-auth-request"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"minor":3,"patch":0,"major":0},"kind":"project","references":{"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/10-Web-Integration#App-Web-Account-Synchronization":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/10-Web-Integration#App-Web-Account-Synchronization","type":"section","title":"App-Web Account Synchronization","role":"pseudoSymbol","abstract":[{"type":"text","text":"Provide a consistent Apple login experience between"},{"text":" ","type":"text"},{"text":"websites and apps, and implement cross-platform authentication.","type":"text"}],"url":"\/tutorials\/higauthservices\/10-web-integration#App-Web-Account-Synchronization","kind":"section"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/04-Auth-Request#Real-User-Status":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Learn how to initiate authentication requests and properly"},{"type":"text","text":" "},{"type":"text","text":"handle Authorization Code, Identity Token, and other results."}],"title":"Real User Status","url":"\/tutorials\/higauthservices\/04-auth-request#Real-User-Status","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/04-Auth-Request#Real-User-Status"},"doc://authservices.HIGAuthServices/tutorials/Table-of-Contents/Chapter-2:-ASAuthorizationController-Setup":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-2:-ASAuthorizationController-Setup","abstract":[],"url":"\/tutorials\/table-of-contents\/chapter-2:-asauthorizationcontroller-setup","role":"article","kind":"article","type":"topic","title":"Chapter 2: ASAuthorizationController Setup"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/02-ASAuthorizationController#Creating-ASAuthorizationAppleIDProvider":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"text":"Initialize the authorization controller and configure delegates","type":"text"},{"text":" ","type":"text"},{"text":"to manage the Sign in with Apple authentication flow.","type":"text"}],"title":"Creating ASAuthorizationAppleIDProvider","url":"\/tutorials\/higauthservices\/02-asauthorizationcontroller#Creating-ASAuthorizationAppleIDProvider","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/02-ASAuthorizationController#Creating-ASAuthorizationAppleIDProvider"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/02-ASAuthorizationController#Implementing-Delegate-Protocol":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/02-ASAuthorizationController#Implementing-Delegate-Protocol","url":"\/tutorials\/higauthservices\/02-asauthorizationcontroller#Implementing-Delegate-Protocol","abstract":[{"text":"Initialize the authorization controller and configure delegates","type":"text"},{"text":" ","type":"text"},{"text":"to manage the Sign in with Apple authentication flow.","type":"text"}],"role":"pseudoSymbol","kind":"section","type":"section","title":"Implementing Delegate Protocol"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/02-ASAuthorizationController#Initializing-ASAuthorizationController":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/02-ASAuthorizationController#Initializing-ASAuthorizationController","url":"\/tutorials\/higauthservices\/02-asauthorizationcontroller#Initializing-ASAuthorizationController","abstract":[{"text":"Initialize the authorization controller and configure delegates","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to manage the Sign in with Apple authentication flow."}],"role":"pseudoSymbol","kind":"section","type":"section","title":"Initializing ASAuthorizationController"},"doc://authservices.HIGAuthServices/tutorials/Table-of-Contents/Chapter-9:-Passkeys":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-9:-Passkeys","type":"topic","title":"Chapter 9: Passkeys","role":"article","abstract":[],"url":"\/tutorials\/table-of-contents\/chapter-9:-passkeys","kind":"article"},"04-03-nonce-hash.swift":{"syntax":"swift","fileType":"swift","fileName":"NonceHash.swift","content":["import AuthenticationServices","import CryptoKit","","class AppleSignInManager {","    ","    private var currentNonce: String?","    ","    func startSignIn() {","        \/\/ 1. 원본 nonce 생성 및 저장","        let nonce = generateNonce()","        currentNonce = nonce  \/\/ 서버 검증용으로 보관","        ","        \/\/ 2. SHA256 해시 생성","        let hashedNonce = sha256(nonce)","        ","        \/\/ 3. 요청에 해시된 nonce 설정","        let request = ASAuthorizationAppleIDProvider().createRequest()","        request.requestedScopes = [.fullName, .email]","        request.nonce = hashedNonce  \/\/ 해시값 전달","        ","        \/\/ 4. 인증 실행...","    }","    ","    \/\/ SHA256 해시 함수","    func sha256(_ input: String) -> String {","        let inputData = Data(input.utf8)","        let hashedData = SHA256.hash(data: inputData)","        return hashedData.compactMap { ","            String(format: \"%02x\", $0) ","        }.joined()","    }","    ","    func generateNonce(length: Int = 32) -> String {","        \/\/ 이전 단계에서 구현","        return \"\"","    }","}"],"type":"file","highlights":[],"identifier":"04-03-nonce-hash.swift"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/06-Credential-State#Handling-Revoked-State":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/06-Credential-State#Handling-Revoked-State","type":"section","title":"Handling Revoked State","role":"pseudoSymbol","abstract":[{"text":"Monitor the user’s Apple ID connection status","type":"text"},{"text":" ","type":"text"},{"text":"and respond appropriately when disconnected.","type":"text"}],"url":"\/tutorials\/higauthservices\/06-credential-state#Handling-Revoked-State","kind":"section"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/05-User-Info#Check-Your-Understanding":{"titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higauthservices\/05-user-info#Check-Your-Understanding","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/05-User-Info#Check-Your-Understanding","title":"Check Your Understanding","type":"link"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/03-Button-UI":{"kind":"project","role":"project","estimatedTime":"15min","type":"topic","abstract":[{"type":"text","text":"Implement a Sign in with Apple button that complies"},{"text":" ","type":"text"},{"type":"text","text":"with Apple’s Human Interface Guidelines."}],"title":"Button UI (ASAuthorizationAppleIDButton)","url":"\/tutorials\/higauthservices\/03-button-ui","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/03-Button-UI"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/06-Credential-State#Check-Your-Understanding":{"titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higauthservices\/06-credential-state#Check-Your-Understanding","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/06-Credential-State#Check-Your-Understanding","title":"Check Your Understanding","type":"link"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/04-Auth-Request#Check-Your-Understanding":{"titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higauthservices\/04-auth-request#Check-Your-Understanding","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/04-Auth-Request#Check-Your-Understanding","title":"Check Your Understanding","type":"link"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/07-Server-Validation#Fetching-Apple-Public-Keys":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"text":"Implement server-side Identity Token verification","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and create secure sessions."}],"title":"Fetching Apple Public Keys","url":"\/tutorials\/higauthservices\/07-server-validation#Fetching-Apple-Public-Keys","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/07-Server-Validation#Fetching-Apple-Public-Keys"},"doc://authservices.HIGAuthServices/tutorials/Table-of-Contents/Chapter-4:-Handling-Authentication-Requests":{"kind":"article","role":"article","type":"topic","abstract":[],"title":"Chapter 4: Handling Authentication Requests","url":"\/tutorials\/table-of-contents\/chapter-4:-handling-authentication-requests","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-4:-Handling-Authentication-Requests"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/10-Web-Integration":{"kind":"project","role":"project","estimatedTime":"18min","type":"topic","abstract":[{"type":"text","text":"Provide a consistent Apple login experience between"},{"type":"text","text":" "},{"type":"text","text":"websites and apps, and implement cross-platform authentication."}],"title":"Web Integration (Sign in with Apple JS)","url":"\/tutorials\/higauthservices\/10-web-integration","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/10-Web-Integration"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/05-User-Info#User-Information-Storage-Strategy":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/05-User-Info#User-Information-Storage-Strategy","abstract":[{"type":"text","text":"Safely collect user information such as name and email,"},{"type":"text","text":" "},{"text":"and process it in a privacy-respecting manner.","type":"text"}],"url":"\/tutorials\/higauthservices\/05-user-info#User-Information-Storage-Strategy","role":"pseudoSymbol","kind":"section","type":"section","title":"User Information Storage Strategy"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/01-Introduction":{"kind":"project","role":"project","estimatedTime":"12min","type":"topic","abstract":[{"type":"text","text":"Understand the core concepts of Sign in with Apple and"},{"text":" ","type":"text"},{"text":"the privacy protection features it provides to users.","type":"text"}],"title":"Introduction to Sign in with Apple","url":"\/tutorials\/higauthservices\/01-introduction","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/01-Introduction"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/06-Credential-State":{"kind":"project","role":"project","estimatedTime":"15min","type":"topic","abstract":[{"text":"Monitor the user’s Apple ID connection status","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and respond appropriately when disconnected."}],"title":"Checking Credential State","url":"\/tutorials\/higauthservices\/06-credential-state","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/06-Credential-State"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/01-Introduction#What-is-Sign-in-with-Apple":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"text":"Understand the core concepts of Sign in with Apple and","type":"text"},{"text":" ","type":"text"},{"text":"the privacy protection features it provides to users.","type":"text"}],"title":"What is Sign in with Apple?","url":"\/tutorials\/higauthservices\/01-introduction#What-is-Sign-in-with-Apple","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/01-Introduction#What-is-Sign-in-with-Apple"},"04-07-first-auth.swift":{"syntax":"swift","fileType":"swift","fileName":"FirstAuth.swift","content":["import AuthenticationServices","","extension AppleSignInManager {","    ","    func handleCredential(_ credential: ASAuthorizationAppleIDCredential) {","        let userIdentifier = credential.user","        ","        \/\/ email과 fullName은 첫 인증 시에만 제공됨!","        \/\/ nil이 아니면 첫 인증입니다","        ","        if let email = credential.email,","           let fullName = credential.fullName {","            ","            \/\/ 첫 인증 - 정보 저장 필수!","            print(\"첫 인증 - 사용자 정보 저장\")","            ","            let firstName = fullName.givenName ?? \"\"","            let lastName = fullName.familyName ?? \"\"","            ","            \/\/ 반드시 저장 (재인증 시 받을 수 없음)","            saveUserInfo(","                userID: userIdentifier,","                email: email,","                firstName: firstName,","                lastName: lastName","            )","        } else {","            \/\/ 재인증 - 저장된 정보 사용","            print(\"재인증 - 저장된 정보 조회\")","            let savedInfo = loadUserInfo(userID: userIdentifier)","        }","    }","    ","    func saveUserInfo(userID: String, email: String, ","                      firstName: String, lastName: String) {","        \/\/ 저장 로직","    }","    ","    func loadUserInfo(userID: String) -> UserInfo? {","        return nil","    }","}","","struct UserInfo {","    let email: String","    let firstName: String","    let lastName: String","}"],"type":"file","highlights":[],"identifier":"04-07-first-auth.swift"},"04-04-extract-user.swift":{"syntax":"swift","fileType":"swift","fileName":"ExtractUser.swift","content":["import AuthenticationServices","","extension AppleSignInManager: ASAuthorizationControllerDelegate {","    ","    func authorizationController(","        controller: ASAuthorizationController,","        didCompleteWithAuthorization authorization: ASAuthorization","    ) {","        guard let credential = authorization.credential ","            as? ASAuthorizationAppleIDCredential else {","            return","        }","        ","        \/\/ 사용자 식별자 (항상 제공됨)","        \/\/ 이 값은 앱-사용자 조합에 대해 고유합니다","        let userIdentifier = credential.user","        ","        \/\/ 예: \"001234.abcdef1234567890.1234\"","        print(\"User Identifier: \\(userIdentifier)\")","        ","        \/\/ Keychain에 저장하여 재사용","        KeychainHelper.save(userIdentifier, forKey: \"appleUserID\")","    }","}","","struct KeychainHelper {","    static func save(_ value: String, forKey key: String) {","        \/\/ Keychain 저장 구현","    }","}"],"type":"file","highlights":[],"identifier":"04-04-extract-user.swift"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/07-Server-Validation":{"kind":"project","role":"project","estimatedTime":"20min","type":"topic","abstract":[{"text":"Implement server-side Identity Token verification","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and create secure sessions."}],"title":"Server Validation","url":"\/tutorials\/higauthservices\/07-server-validation","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/07-Server-Validation"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/07-Server-Validation#Token-Exchange-with-Authorization-Code":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"text":"Implement server-side Identity Token verification","type":"text"},{"text":" ","type":"text"},{"text":"and create secure sessions.","type":"text"}],"title":"Token Exchange with Authorization Code","url":"\/tutorials\/higauthservices\/07-server-validation#Token-Exchange-with-Authorization-Code","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/07-Server-Validation#Token-Exchange-with-Authorization-Code"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/08-Account-Linking#Requesting-Password-Credentials":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Link existing accounts in iCloud Keychain with Sign in with Apple"},{"type":"text","text":" "},{"type":"text","text":"to implement smooth account migration."}],"title":"Requesting Password Credentials","url":"\/tutorials\/higauthservices\/08-account-linking#Requesting-Password-Credentials","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/08-Account-Linking#Requesting-Password-Credentials"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/04-Auth-Request#First-Authentication-vs-Re-authentication":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Learn how to initiate authentication requests and properly"},{"text":" ","type":"text"},{"type":"text","text":"handle Authorization Code, Identity Token, and other results."}],"title":"First Authentication vs Re-authentication","url":"\/tutorials\/higauthservices\/04-auth-request#First-Authentication-vs-Re-authentication","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/04-Auth-Request#First-Authentication-vs-Re-authentication"},"04-01-create-request.swift":{"syntax":"swift","fileType":"swift","fileName":"CreateRequest.swift","content":["import AuthenticationServices","","class AppleSignInManager {","    ","    func createSignInRequest() -> ASAuthorizationAppleIDRequest {","        let provider = ASAuthorizationAppleIDProvider()","        let request = provider.createRequest()","        ","        \/\/ 요청할 정보 범위 설정","        \/\/ scope를 지정하지 않으면 user identifier만 받음","        request.requestedScopes = [.fullName, .email]","        ","        return request","    }","}"],"type":"file","highlights":[],"identifier":"04-01-create-request.swift"},"04-06-auth-code.swift":{"syntax":"swift","fileType":"swift","fileName":"AuthCode.swift","content":["import AuthenticationServices","","extension AppleSignInManager {","    ","    func extractAuthorizationCode(","        from credential: ASAuthorizationAppleIDCredential","    ) -> String? {","        \/\/ Authorization Code 추출","        guard let codeData = credential.authorizationCode else {","            print(\"Authorization Code가 없습니다\")","            return nil","        }","        ","        guard let codeString = String(data: codeData, encoding: .utf8) else {","            print(\"코드 변환 실패\")","            return nil","        }","        ","        \/\/ Authorization Code는 일회용입니다","        \/\/ 서버에서 Apple과 교환하여 refresh token을 얻습니다","        return codeString","    }","    ","    \/\/ 서버로 전송","    func sendToServer(","        identityToken: String,","        authorizationCode: String,","        userIdentifier: String","    ) {","        \/\/ API 요청으로 서버에 전송","        \/\/ 서버에서 토큰 검증 및 세션 생성","    }","}"],"type":"file","highlights":[],"identifier":"04-06-auth-code.swift"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/07-Server-Validation#Check-Your-Understanding":{"titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higauthservices\/07-server-validation#Check-Your-Understanding","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/07-Server-Validation#Check-Your-Understanding","title":"Check Your Understanding","type":"link"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/01-Introduction#Privacy-Protection-Features":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"text":"Understand the core concepts of Sign in with Apple and","type":"text"},{"text":" ","type":"text"},{"text":"the privacy protection features it provides to users.","type":"text"}],"title":"Privacy Protection Features","url":"\/tutorials\/higauthservices\/01-introduction#Privacy-Protection-Features","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/01-Introduction#Privacy-Protection-Features"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/03-Button-UI#Choosing-Button-Type":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"text":"Implement a Sign in with Apple button that complies","type":"text"},{"text":" ","type":"text"},{"text":"with Apple’s Human Interface Guidelines.","type":"text"}],"title":"Choosing Button Type","url":"\/tutorials\/higauthservices\/03-button-ui#Choosing-Button-Type","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/03-Button-UI#Choosing-Button-Type"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/10-Web-Integration#Server-Side-Processing":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"text":"Provide a consistent Apple login experience between","type":"text"},{"type":"text","text":" "},{"type":"text","text":"websites and apps, and implement cross-platform authentication."}],"title":"Server-Side Processing","url":"\/tutorials\/higauthservices\/10-web-integration#Server-Side-Processing","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/10-Web-Integration#Server-Side-Processing"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/05-User-Info#Email-Handling":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Safely collect user information such as name and email,"},{"type":"text","text":" "},{"type":"text","text":"and process it in a privacy-respecting manner."}],"title":"Email Handling","url":"\/tutorials\/higauthservices\/05-user-info#Email-Handling","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/05-User-Info#Email-Handling"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/03-Button-UI#HIG-Guidelines-Compliance":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Implement a Sign in with Apple button that complies"},{"text":" ","type":"text"},{"text":"with Apple’s Human Interface Guidelines.","type":"text"}],"title":"HIG Guidelines Compliance","url":"\/tutorials\/higauthservices\/03-button-ui#HIG-Guidelines-Compliance","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/03-Button-UI#HIG-Guidelines-Compliance"},"doc://authservices.HIGAuthServices/tutorials/Table-of-Contents":{"kind":"overview","role":"overview","type":"topic","abstract":[{"type":"text","text":"Learn how to fully implement Sign in with Apple"},{"type":"text","text":" "},{"type":"text","text":"using the AuthenticationServices framework."}],"title":"Sign in with Apple Complete Guide","url":"\/tutorials\/table-of-contents","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/09-Passkeys#What-are-Passkeys":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Implement passkeys, the next-generation authentication method,"},{"type":"text","text":" "},{"text":"alongside Sign in with Apple for passwordless authentication.","type":"text"}],"title":"What are Passkeys?","url":"\/tutorials\/higauthservices\/09-passkeys#What-are-Passkeys","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/09-Passkeys#What-are-Passkeys"},"doc://authservices.HIGAuthServices/tutorials/Table-of-Contents/Chapter-6:-Checking-Credential-State":{"kind":"article","role":"article","type":"topic","abstract":[],"title":"Chapter 6: Checking Credential State","url":"\/tutorials\/table-of-contents\/chapter-6:-checking-credential-state","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-6:-Checking-Credential-State"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/09-Passkeys#Sign-in-with-Apple-+-Passkeys":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Implement passkeys, the next-generation authentication method,"},{"type":"text","text":" "},{"type":"text","text":"alongside Sign in with Apple for passwordless authentication."}],"title":"Sign in with Apple + Passkeys","url":"\/tutorials\/higauthservices\/09-passkeys#Sign-in-with-Apple-+-Passkeys","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/09-Passkeys#Sign-in-with-Apple-+-Passkeys"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/03-Button-UI#Check-Your-Understanding":{"titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higauthservices\/03-button-ui#Check-Your-Understanding","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/03-Button-UI#Check-Your-Understanding","title":"Check Your Understanding","type":"link"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/08-Account-Linking":{"kind":"project","role":"project","estimatedTime":"18min","type":"topic","abstract":[{"text":"Link existing accounts in iCloud Keychain with Sign in with Apple","type":"text"},{"text":" ","type":"text"},{"text":"to implement smooth account migration.","type":"text"}],"title":"Account Linking","url":"\/tutorials\/higauthservices\/08-account-linking","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/08-Account-Linking"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/04-Auth-Request":{"kind":"project","role":"project","estimatedTime":"20min","type":"topic","abstract":[{"text":"Learn how to initiate authentication requests and properly","type":"text"},{"text":" ","type":"text"},{"text":"handle Authorization Code, Identity Token, and other results.","type":"text"}],"title":"Handling Authentication Requests","url":"\/tutorials\/higauthservices\/04-auth-request","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/04-Auth-Request"},"doc://authservices.HIGAuthServices/tutorials/Table-of-Contents/Chapter-5:-Collecting-User-Information":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-5:-Collecting-User-Information","url":"\/tutorials\/table-of-contents\/chapter-5:-collecting-user-information","abstract":[],"role":"article","kind":"article","type":"topic","title":"Chapter 5: Collecting User Information"},"doc://authservices.HIGAuthServices/tutorials/Table-of-Contents/Chapter-3:-Button-UI-(ASAuthorizationAppleIDButton)":{"kind":"article","role":"article","type":"topic","abstract":[],"title":"Chapter 3: Button UI (ASAuthorizationAppleIDButton)","url":"\/tutorials\/table-of-contents\/chapter-3:-button-ui-(asauthorizationappleidbutton)","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-3:-Button-UI-(ASAuthorizationAppleIDButton)"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/04-Auth-Request#Understanding-ASAuthorizationAppleIDCredential":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Learn how to initiate authentication requests and properly"},{"type":"text","text":" "},{"text":"handle Authorization Code, Identity Token, and other results.","type":"text"}],"title":"Understanding ASAuthorizationAppleIDCredential","url":"\/tutorials\/higauthservices\/04-auth-request#Understanding-ASAuthorizationAppleIDCredential","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/04-Auth-Request#Understanding-ASAuthorizationAppleIDCredential"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/04-Auth-Request#Starting-Authentication-Request":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Learn how to initiate authentication requests and properly"},{"text":" ","type":"text"},{"text":"handle Authorization Code, Identity Token, and other results.","type":"text"}],"title":"Starting Authentication Request","url":"\/tutorials\/higauthservices\/04-auth-request#Starting-Authentication-Request","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/04-Auth-Request#Starting-Authentication-Request"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/05-User-Info":{"kind":"project","role":"project","estimatedTime":"15min","type":"topic","abstract":[{"type":"text","text":"Safely collect user information such as name and email,"},{"text":" ","type":"text"},{"text":"and process it in a privacy-respecting manner.","type":"text"}],"title":"Collecting User Information","url":"\/tutorials\/higauthservices\/05-user-info","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/05-User-Info"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/08-Account-Linking#Existing-Account-Preference":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Link existing accounts in iCloud Keychain with Sign in with Apple"},{"text":" ","type":"text"},{"type":"text","text":"to implement smooth account migration."}],"title":"Existing Account Preference","url":"\/tutorials\/higauthservices\/08-account-linking#Existing-Account-Preference","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/08-Account-Linking#Existing-Account-Preference"},"doc://authservices.HIGAuthServices/tutorials/Table-of-Contents/Chapter-1:-Introduction-to-Sign-in-with-Apple":{"kind":"article","role":"article","type":"topic","abstract":[],"title":"Chapter 1: Introduction to Sign in with Apple","url":"\/tutorials\/table-of-contents\/chapter-1:-introduction-to-sign-in-with-apple","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-1:-Introduction-to-Sign-in-with-Apple"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/02-ASAuthorizationController":{"kind":"project","role":"project","estimatedTime":"18min","type":"topic","abstract":[{"type":"text","text":"Initialize the authorization controller and configure delegates"},{"text":" ","type":"text"},{"text":"to manage the Sign in with Apple authentication flow.","type":"text"}],"title":"ASAuthorizationController Setup","url":"\/tutorials\/higauthservices\/02-asauthorizationcontroller","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/02-ASAuthorizationController"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/07-Server-Validation#Token-Verification-Steps":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/07-Server-Validation#Token-Verification-Steps","type":"section","title":"Token Verification Steps","role":"pseudoSymbol","abstract":[{"type":"text","text":"Implement server-side Identity Token verification"},{"text":" ","type":"text"},{"type":"text","text":"and create secure sessions."}],"url":"\/tutorials\/higauthservices\/07-server-validation#Token-Verification-Steps","kind":"section"},"04-02-nonce.swift":{"syntax":"swift","fileType":"swift","fileName":"NonceGeneration.swift","content":["import Foundation","import CryptoKit","","class AppleSignInManager {","    ","    \/\/ 현재 로그인 세션의 nonce 저장","    private var currentNonce: String?","    ","    \/\/ 랜덤 nonce 생성 (32바이트)","    func generateNonce(length: Int = 32) -> String {","        precondition(length > 0)","        var randomBytes = [UInt8](repeating: 0, count: length)","        let errorCode = SecRandomCopyBytes(","            kSecRandomDefault, ","            randomBytes.count, ","            &randomBytes","        )","        ","        if errorCode != errSecSuccess {","            fatalError(\"Unable to generate nonce\")","        }","        ","        let charset: [Character] = Array(","            \"0123456789ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz-._\"","        )","        ","        let nonce = randomBytes.map { byte in","            charset[Int(byte) % charset.count]","        }","        ","        return String(nonce)","    }","}"],"type":"file","highlights":[],"identifier":"04-02-nonce.swift"},"doc://authservices.HIGAuthServices/tutorials/Table-of-Contents/Chapter-10:-Web-Integration-(Sign-in-with-Apple-JS)":{"kind":"article","role":"article","type":"topic","abstract":[],"title":"Chapter 10: Web Integration (Sign in with Apple JS)","url":"\/tutorials\/table-of-contents\/chapter-10:-web-integration-(sign-in-with-apple-js)","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-10:-Web-Integration-(Sign-in-with-Apple-JS)"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/09-Passkeys#Passkey-Assertion":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"text":"Implement passkeys, the next-generation authentication method,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"alongside Sign in with Apple for passwordless authentication."}],"title":"Passkey Assertion","url":"\/tutorials\/higauthservices\/09-passkeys#Passkey-Assertion","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/09-Passkeys#Passkey-Assertion"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/06-Credential-State#Types-of-Credential-State":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Monitor the user’s Apple ID connection status"},{"type":"text","text":" "},{"type":"text","text":"and respond appropriately when disconnected."}],"title":"Types of Credential State","url":"\/tutorials\/higauthservices\/06-credential-state#Types-of-Credential-State","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/06-Credential-State#Types-of-Credential-State"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/06-Credential-State#Real-time-Detection-with-Notification":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"text":"Monitor the user’s Apple ID connection status","type":"text"},{"text":" ","type":"text"},{"text":"and respond appropriately when disconnected.","type":"text"}],"title":"Real-time Detection with Notification","url":"\/tutorials\/higauthservices\/06-credential-state#Real-time-Detection-with-Notification","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/06-Credential-State#Real-time-Detection-with-Notification"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/09-Passkeys":{"kind":"project","role":"project","estimatedTime":"22min","type":"topic","abstract":[{"type":"text","text":"Implement passkeys, the next-generation authentication method,"},{"type":"text","text":" "},{"type":"text","text":"alongside Sign in with Apple for passwordless authentication."}],"title":"Passkeys","url":"\/tutorials\/higauthservices\/09-passkeys","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/09-Passkeys"},"04-10-real-user.swift":{"syntax":"swift","fileType":"swift","fileName":"RealUserStatus.swift","content":["import AuthenticationServices","","extension AppleSignInManager {","    ","    func checkRealUserStatus(","        _ credential: ASAuthorizationAppleIDCredential","    ) {","        \/\/ realUserStatus: Apple이 판단한 사용자 진위 여부","        let status = credential.realUserStatus","        ","        switch status {","        case .likelyReal:","            \/\/ 실제 사람일 가능성 높음","            \/\/ 추가 검증 없이 진행","            print(\"✅ 실제 사용자로 판단됨\")","            proceedWithLogin(credential)","            ","        case .unknown:","            \/\/ 판단 불가 (새 기기, 새 Apple ID 등)","            \/\/ 추가 검증 고려","            print(\"⚠️ 사용자 진위 불명\")","            proceedWithCaution(credential)","            ","        case .unsupported:","            \/\/ 이 기능을 지원하지 않는 환경","            print(\"ℹ️ realUserStatus 미지원\")","            proceedWithLogin(credential)","            ","        @unknown default:","            break","        }","    }","    ","    private func proceedWithLogin(","        _ credential: ASAuthorizationAppleIDCredential","    ) {","        \/\/ 정상 로그인 진행","    }","    ","    private func proceedWithCaution(","        _ credential: ASAuthorizationAppleIDCredential","    ) {","        \/\/ 추가 검증 후 로그인 진행","    }","}"],"type":"file","highlights":[],"identifier":"04-10-real-user.swift"},"04-11-additional-verify.swift":{"syntax":"swift","fileType":"swift","fileName":"AdditionalVerification.swift","content":["import AuthenticationServices","","extension AppleSignInManager {","    ","    func handleUnknownUser(","        _ credential: ASAuthorizationAppleIDCredential","    ) {","        \/\/ realUserStatus가 .unknown인 경우","        \/\/ 봇이나 자동화된 계정일 가능성 고려","        ","        \/\/ 옵션 1: 이메일 인증 요청","        if let email = credential.email {","            sendVerificationEmail(to: email)","        }","        ","        \/\/ 옵션 2: 전화번호 인증 추가","        \/\/ requestPhoneVerification()","        ","        \/\/ 옵션 3: 제한된 기능만 제공","        \/\/ grantLimitedAccess(credential.user)","        ","        \/\/ 옵션 4: reCAPTCHA 등 추가 검증","        \/\/ showCaptchaChallenge()","    }","    ","    private func sendVerificationEmail(to email: String) {","        print(\"인증 이메일 발송: \\(email)\")","        \/\/ 이메일 발송 로직","    }","    ","    \/\/ 보안 수준에 따른 대응 전략","    enum SecurityLevel {","        case low      \/\/ 대부분 신뢰","        case medium   \/\/ unknown 시 이메일 인증","        case high     \/\/ unknown 시 다중 인증","    }","}"],"type":"file","highlights":[],"identifier":"04-11-additional-verify.swift"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/10-Web-Integration#Universal-Links-Integration":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"text":"Provide a consistent Apple login experience between","type":"text"},{"text":" ","type":"text"},{"text":"websites and apps, and implement cross-platform authentication.","type":"text"}],"title":"Universal Links Integration","url":"\/tutorials\/higauthservices\/10-web-integration#Universal-Links-Integration","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/10-Web-Integration#Universal-Links-Integration"},"04-09-re-auth.swift":{"syntax":"swift","fileType":"swift","fileName":"ReAuthentication.swift","content":["import AuthenticationServices","","extension AppleSignInManager {","    ","    func handleReAuthentication(","        _ credential: ASAuthorizationAppleIDCredential","    ) {","        let userIdentifier = credential.user","        ","        \/\/ 재인증 시 email, fullName은 nil","        \/\/ 저장된 정보와 매칭","        ","        if let savedCredentials = KeychainManager.loadCredentials(","            userIdentifier: userIdentifier","        ) {","            \/\/ 저장된 정보로 세션 생성","            print(\"Welcome back, \\(savedCredentials.firstName ?? \"User\")!\")","            ","            createSession(","                userID: userIdentifier,","                email: savedCredentials.email,","                name: savedCredentials.firstName","            )","        } else {","            \/\/ 저장된 정보가 없는 경우","            \/\/ 사용자에게 추가 정보 입력 요청할 수 있음","            print(\"추가 정보가 필요합니다\")","            requestAdditionalInfo(userID: userIdentifier)","        }","    }","    ","    private func createSession(","        userID: String, ","        email: String?, ","        name: String?","    ) {","        \/\/ 세션 생성 로직","    }","    ","    private func requestAdditionalInfo(userID: String) {","        \/\/ 추가 정보 입력 UI 표시","    }","}"],"type":"file","highlights":[],"identifier":"04-09-re-auth.swift"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/08-Account-Linking#Distinguishing-Credential-Types":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Link existing accounts in iCloud Keychain with Sign in with Apple"},{"type":"text","text":" "},{"type":"text","text":"to implement smooth account migration."}],"title":"Distinguishing Credential Types","url":"\/tutorials\/higauthservices\/08-account-linking#Distinguishing-Credential-Types","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/08-Account-Linking#Distinguishing-Credential-Types"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/05-User-Info#Private-Email-Relay-Setup":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/05-User-Info#Private-Email-Relay-Setup","url":"\/tutorials\/higauthservices\/05-user-info#Private-Email-Relay-Setup","abstract":[{"text":"Safely collect user information such as name and email,","type":"text"},{"text":" ","type":"text"},{"text":"and process it in a privacy-respecting manner.","type":"text"}],"role":"pseudoSymbol","kind":"section","type":"section","title":"Private Email Relay Setup"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/09-Passkeys#Check-Your-Understanding":{"titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higauthservices\/09-passkeys#Check-Your-Understanding","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/09-Passkeys#Check-Your-Understanding","title":"Check Your Understanding","type":"link"},"doc://authservices.HIGAuthServices/tutorials/Table-of-Contents/Chapter-8:-Account-Linking":{"kind":"article","role":"article","type":"topic","abstract":[],"title":"Chapter 8: Account Linking","url":"\/tutorials\/table-of-contents\/chapter-8:-account-linking","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-8:-Account-Linking"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/08-Account-Linking#Account-Migration-Strategy":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/08-Account-Linking#Account-Migration-Strategy","url":"\/tutorials\/higauthservices\/08-account-linking#Account-Migration-Strategy","abstract":[{"text":"Link existing accounts in iCloud Keychain with Sign in with Apple","type":"text"},{"text":" ","type":"text"},{"text":"to implement smooth account migration.","type":"text"}],"role":"pseudoSymbol","kind":"section","type":"section","title":"Account Migration Strategy"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/10-Web-Integration#Check-Your-Understanding":{"titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higauthservices\/10-web-integration#Check-Your-Understanding","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/10-Web-Integration#Check-Your-Understanding","title":"Check Your Understanding","type":"link"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/10-Web-Integration#Implementing-Web-Login-Button":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Provide a consistent Apple login experience between"},{"type":"text","text":" "},{"text":"websites and apps, and implement cross-platform authentication.","type":"text"}],"title":"Implementing Web Login Button","url":"\/tutorials\/higauthservices\/10-web-integration#Implementing-Web-Login-Button","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/10-Web-Integration#Implementing-Web-Login-Button"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/03-Button-UI#Customizing-Button-Style":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/03-Button-UI#Customizing-Button-Style","type":"section","title":"Customizing Button Style","role":"pseudoSymbol","abstract":[{"text":"Implement a Sign in with Apple button that complies","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"with Apple’s Human Interface Guidelines."}],"url":"\/tutorials\/higauthservices\/03-button-ui#Customizing-Button-Style","kind":"section"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/03-Button-UI#Using-in-SwiftUI":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"text":"Implement a Sign in with Apple button that complies","type":"text"},{"text":" ","type":"text"},{"text":"with Apple’s Human Interface Guidelines.","type":"text"}],"title":"Using in SwiftUI","url":"\/tutorials\/higauthservices\/03-button-ui#Using-in-SwiftUI","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/03-Button-UI#Using-in-SwiftUI"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/06-Credential-State#Checking-State-at-App-Launch":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/06-Credential-State#Checking-State-at-App-Launch","type":"section","title":"Checking State at App Launch","role":"pseudoSymbol","abstract":[{"type":"text","text":"Monitor the user’s Apple ID connection status"},{"text":" ","type":"text"},{"text":"and respond appropriately when disconnected.","type":"text"}],"url":"\/tutorials\/higauthservices\/06-credential-state#Checking-State-at-App-Launch","kind":"section"},"04-08-save-credentials.swift":{"syntax":"swift","fileType":"swift","fileName":"SaveCredentials.swift","content":["import Foundation","import Security","","struct AppleUserCredentials: Codable {","    let userIdentifier: String","    let email: String?","    let firstName: String?","    let lastName: String?","}","","class KeychainManager {","    ","    static let service = \"com.example.myapp.appleid\"","    ","    \/\/ Keychain에 사용자 정보 저장","    static func saveCredentials(_ credentials: AppleUserCredentials) throws {","        let data = try JSONEncoder().encode(credentials)","        ","        let query: [String: Any] = [","            kSecClass as String: kSecClassGenericPassword,","            kSecAttrService as String: service,","            kSecAttrAccount as String: credentials.userIdentifier,","            kSecValueData as String: data","        ]","        ","        \/\/ 기존 항목 삭제","        SecItemDelete(query as CFDictionary)","        ","        \/\/ 새 항목 추가","        let status = SecItemAdd(query as CFDictionary, nil)","        guard status == errSecSuccess else {","            throw KeychainError.saveFailed","        }","    }","    ","    \/\/ Keychain에서 사용자 정보 로드","    static func loadCredentials(","        userIdentifier: String","    ) -> AppleUserCredentials? {","        let query: [String: Any] = [","            kSecClass as String: kSecClassGenericPassword,","            kSecAttrService as String: service,","            kSecAttrAccount as String: userIdentifier,","            kSecReturnData as String: true","        ]","        ","        var result: AnyObject?","        SecItemCopyMatching(query as CFDictionary, &result)","        ","        guard let data = result as? Data else { return nil }","        return try? JSONDecoder().decode(","            AppleUserCredentials.self, ","            from: data","        )","    }","}","","enum KeychainError: Error {","    case saveFailed","}"],"type":"file","highlights":[],"identifier":"04-08-save-credentials.swift"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/01-Introduction#Check-Your-Understanding":{"titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higauthservices\/01-introduction#Check-Your-Understanding","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/01-Introduction#Check-Your-Understanding","title":"Check Your Understanding","type":"link"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/09-Passkeys#Passkey-Registration":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/09-Passkeys#Passkey-Registration","url":"\/tutorials\/higauthservices\/09-passkeys#Passkey-Registration","abstract":[{"text":"Implement passkeys, the next-generation authentication method,","type":"text"},{"text":" ","type":"text"},{"text":"alongside Sign in with Apple for passwordless authentication.","type":"text"}],"role":"pseudoSymbol","kind":"section","type":"section","title":"Passkey Registration"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/02-ASAuthorizationController#Implementing-PresentationContextProvider":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Initialize the authorization controller and configure delegates"},{"type":"text","text":" "},{"type":"text","text":"to manage the Sign in with Apple authentication flow."}],"title":"Implementing PresentationContextProvider","url":"\/tutorials\/higauthservices\/02-asauthorizationcontroller#Implementing-PresentationContextProvider","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/02-ASAuthorizationController#Implementing-PresentationContextProvider"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/08-Account-Linking#Check-Your-Understanding":{"titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higauthservices\/08-account-linking#Check-Your-Understanding","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/08-Account-Linking#Check-Your-Understanding","title":"Check Your Understanding","type":"link"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/05-User-Info#Handling-PersonNameComponents":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Safely collect user information such as name and email,"},{"type":"text","text":" "},{"type":"text","text":"and process it in a privacy-respecting manner."}],"title":"Handling PersonNameComponents","url":"\/tutorials\/higauthservices\/05-user-info#Handling-PersonNameComponents","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/05-User-Info#Handling-PersonNameComponents"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/02-ASAuthorizationController#Check-Your-Understanding":{"titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higauthservices\/02-asauthorizationcontroller#Check-Your-Understanding","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/02-ASAuthorizationController#Check-Your-Understanding","title":"Check Your Understanding","type":"link"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/01-Introduction#App-Store-Guidelines":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"text":"Understand the core concepts of Sign in with Apple and","type":"text"},{"text":" ","type":"text"},{"text":"the privacy protection features it provides to users.","type":"text"}],"title":"App Store Guidelines","url":"\/tutorials\/higauthservices\/01-introduction#App-Store-Guidelines","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/01-Introduction#App-Store-Guidelines"},"04-05-identity-token.swift":{"syntax":"swift","fileType":"swift","fileName":"IdentityToken.swift","content":["import AuthenticationServices","","extension AppleSignInManager {","    ","    func extractIdentityToken(","        from credential: ASAuthorizationAppleIDCredential","    ) -> String? {","        \/\/ Identity Token은 Data 타입으로 제공됨","        guard let tokenData = credential.identityToken else {","            print(\"Identity Token이 없습니다\")","            return nil","        }","        ","        \/\/ UTF-8 문자열로 변환 (JWT 형식)","        guard let tokenString = String(data: tokenData, encoding: .utf8) else {","            print(\"토큰 변환 실패\")","            return nil","        }","        ","        \/\/ JWT 구조: header.payload.signature","        \/\/ 예: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOi...","        print(\"Identity Token: \\(tokenString.prefix(50))...\")","        ","        \/\/ 이 토큰을 서버로 전송하여 검증합니다","        return tokenString","    }","}"],"type":"file","highlights":[],"identifier":"04-05-identity-token.swift"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/10-Web-Integration#Introduction-to-Sign-in-with-Apple-JS":{"identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/10-Web-Integration#Introduction-to-Sign-in-with-Apple-JS","abstract":[{"type":"text","text":"Provide a consistent Apple login experience between"},{"text":" ","type":"text"},{"type":"text","text":"websites and apps, and implement cross-platform authentication."}],"url":"\/tutorials\/higauthservices\/10-web-integration#Introduction-to-Sign-in-with-Apple-JS","role":"pseudoSymbol","kind":"section","type":"section","title":"Introduction to Sign in with Apple JS"},"doc://authservices.HIGAuthServices/tutorials/Table-of-Contents/Chapter-7:-Server-Validation":{"kind":"article","role":"article","type":"topic","abstract":[],"title":"Chapter 7: Server Validation","url":"\/tutorials\/table-of-contents\/chapter-7:-server-validation","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/Table-of-Contents\/Chapter-7:-Server-Validation"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/07-Server-Validation#Understanding-Identity-Token":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"text":"Implement server-side Identity Token verification","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and create secure sessions."}],"title":"Understanding Identity Token","url":"\/tutorials\/higauthservices\/07-server-validation#Understanding-Identity-Token","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/07-Server-Validation#Understanding-Identity-Token"},"doc://authservices.HIGAuthServices/tutorials/HIGAuthServices/03-Button-UI#Introduction-to-ASAuthorizationAppleIDButton":{"kind":"section","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Implement a Sign in with Apple button that complies"},{"type":"text","text":" "},{"text":"with Apple’s Human Interface Guidelines.","type":"text"}],"title":"Introduction to ASAuthorizationAppleIDButton","url":"\/tutorials\/higauthservices\/03-button-ui#Introduction-to-ASAuthorizationAppleIDButton","identifier":"doc:\/\/authservices.HIGAuthServices\/tutorials\/HIGAuthServices\/03-Button-UI#Introduction-to-ASAuthorizationAppleIDButton"}}}