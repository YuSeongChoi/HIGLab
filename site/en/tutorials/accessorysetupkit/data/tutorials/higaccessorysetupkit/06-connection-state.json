{"metadata":{"title":"Connection State Management","categoryPathComponent":"Table-of-Contents","role":"project","category":"Accessory Pairing"},"kind":"project","sections":[{"kind":"hero","title":"Connection State Management","chapter":"Connection State Management","estimatedTimeInMinutes":25,"content":[{"inlineContent":[{"type":"text","text":"Track and manage the connection state of paired accessories in real-time."},{"type":"text","text":" "},{"type":"text","text":"Implement disconnection, reconnection, and background handling."}],"type":"paragraph"}]},{"kind":"tasks","tasks":[{"title":"Real-time Connection Monitoring","anchor":"Real-time-Connection-Monitoring","contentSection":[{"mediaPosition":"trailing","kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Detect state changes in ASAccessory to reflect connection status in the UI."},{"type":"text","text":" "},{"type":"text","text":"You can also monitor Bluetooth connection quality and signal strength."}]}]}],"stepsSection":[{"runtimePreview":null,"type":"step","code":"06-connection-monitor.swift","caption":[],"media":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Implement a manager to monitor accessory connection state."}]}]},{"runtimePreview":null,"type":"step","code":"06-connection-indicator.swift","caption":[],"media":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Display UI indicators based on connection state."}]}]}]},{"title":"Reconnection Logic","anchor":"Reconnection-Logic","contentSection":[{"mediaPosition":"trailing","kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"text":"Attempt automatic reconnection on unexpected disconnection.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Apply exponential backoff to prevent unnecessary retries."}]}]}],"stepsSection":[{"media":null,"runtimePreview":null,"type":"step","code":"06-auto-reconnect.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Implement automatic reconnection logic."}]}],"caption":[]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add settings to maintain connection in the background."}]}],"code":"06-background.swift","type":"step","caption":[],"media":null,"runtimePreview":null}]}]},{"featuredEyebrow":"Tutorial","action":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/07-Multiple-Accessories","overridingTitle":"Get started","overridingTitleInlineContent":[{"type":"text","text":"Get started"}],"type":"reference","isActive":true},"kind":"callToAction","abstract":[{"type":"text","text":"Learn how to manage multiple accessories simultaneously."},{"text":" ","type":"text"},{"text":"Implement accessory list management, grouping, and priority settings.","type":"text"}],"title":"Managing Multiple Accessories"}],"variants":[{"paths":["\/tutorials\/higaccessorysetupkit\/06-connection-state"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"patch":0,"major":0,"minor":3},"identifier":{"url":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/06-Connection-State","interfaceLanguage":"swift"},"hierarchy":{"modules":[{"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Basics","projects":[{"sections":[{"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/01-Basics#Getting-Started","kind":"task"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/01-Basics"}]},{"projects":[{"sections":[{"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/02-Core#Implementation","kind":"task"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/02-Core"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Core-Features"},{"projects":[{"sections":[{"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/03-Practice#Completion","kind":"task"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/03-Practice"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Practical-Application"},{"projects":[{"sections":[{"kind":"task","reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/04-Discovery-UI#Setting-Up-Discovery-Descriptor"},{"kind":"task","reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/04-Discovery-UI#Configuring-Picker-Display-Item"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/04-Discovery-UI"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Discovery-UI"},{"projects":[{"sections":[{"kind":"task","reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/05-Pairing-Flow#Handling-Session-Events"},{"kind":"task","reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/05-Pairing-Flow#Pairing-State-Machine"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/05-Pairing-Flow"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Pairing-Flow"},{"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Connection-State-Management","projects":[{"sections":[{"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/06-Connection-State#Real-time-Connection-Monitoring","kind":"task"},{"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/06-Connection-State#Reconnection-Logic","kind":"task"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/06-Connection-State"}]},{"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Multiple-Accessories","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/07-Multiple-Accessories#Accessory-Collection-Management"},{"kind":"task","reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/07-Multiple-Accessories#Handling-Concurrent-Connections"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/07-Multiple-Accessories"}]},{"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Firmware-Updates","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/08-Firmware-Updates#Version-Check-and-Download"},{"kind":"task","reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/08-Firmware-Updates#OTA-Update-Transfer"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/08-Firmware-Updates"}]},{"projects":[{"sections":[{"kind":"task","reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/09-Error-Handling#Error-Type-Classification"},{"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/09-Error-Handling#User-Friendly-Error-Messages","kind":"task"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/09-Error-Handling"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Error-Handling"},{"projects":[{"sections":[{"kind":"task","reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/10-Production-Checklist#Permissions-and-Privacy"},{"kind":"task","reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/10-Production-Checklist#Testing-and-Verification"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/10-Production-Checklist"}],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Production-Checklist"}],"paths":[["doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents","doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/$volume","doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Connection-State-Management"]],"reference":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents"},"references":{"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/08-Firmware-Updates":{"role":"project","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/08-Firmware-Updates","url":"\/tutorials\/higaccessorysetupkit\/08-firmware-updates","kind":"project","estimatedTime":"35min","type":"topic","abstract":[{"text":"Implement secure firmware updates for accessories.","type":"text"},{"text":" ","type":"text"},{"text":"Learn the process of version checking, downloading, transfer, and verification.","type":"text"}],"title":"Firmware Updates"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/01-Basics":{"url":"\/tutorials\/higaccessorysetupkit\/01-basics","abstract":[{"text":"Connect with AccessorySetupKit.","type":"text"}],"type":"topic","kind":"project","title":"AccessorySetupKit Basics","role":"project","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/01-Basics","estimatedTime":"15min"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/03-Practice#Completion":{"role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Apply to a real app."}],"url":"\/tutorials\/higaccessorysetupkit\/03-practice#Completion","title":"Completion","kind":"section","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/03-Practice#Completion"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/Table-of-Contents/Discovery-UI":{"url":"\/tutorials\/table-of-contents\/discovery-ui","abstract":[],"type":"topic","kind":"article","title":"Discovery UI","role":"article","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Discovery-UI"},"06-connection-indicator.swift":{"highlights":[],"identifier":"06-connection-indicator.swift","type":"file","syntax":"swift","fileName":"ConnectionIndicator.swift","fileType":"swift","content":["import SwiftUI","","struct ConnectionIndicator: View {","    let state: ConnectionMonitor.ConnectionState","    let signalStrength: Int?","    ","    var body: some View {","        HStack(spacing: 8) {","            \/\/ 연결 상태 아이콘","            Image(systemName: state.icon)","                .foregroundStyle(stateColor)","                .symbolEffect(.pulse, isActive: state == .connecting || state == .reconnecting)","            ","            \/\/ 신호 강도 바","            if state == .connected, let rssi = signalStrength {","                SignalBars(rssi: rssi)","            }","            ","            \/\/ 상태 텍스트","            Text(stateText)","                .font(.caption)","                .foregroundStyle(.secondary)","        }","        .padding(.horizontal, 12)","        .padding(.vertical, 6)","        .background(.ultraThinMaterial, in: Capsule())","    }","    ","    private var stateColor: Color {","        switch state {","        case .connected: return .green","        case .connecting, .reconnecting: return .orange","        case .disconnected: return .red","        }","    }","    ","    private var stateText: String {","        switch state {","        case .connected: return \"연결됨\"","        case .connecting: return \"연결 중...\"","        case .reconnecting: return \"재연결 중...\"","        case .disconnected: return \"연결 끊김\"","        }","    }","}","","struct SignalBars: View {","    let rssi: Int","    ","    var bars: Int {","        switch rssi {","        case -50...0: return 4","        case -60 ..< -50: return 3","        case -70 ..< -60: return 2","        default: return 1","        }","    }","    ","    var body: some View {","        HStack(spacing: 2) {","            ForEach(1...4, id: \\.self) { bar in","                RoundedRectangle(cornerRadius: 1)","                    .fill(bar <= bars ? Color.green : Color.gray.opacity(0.3))","                    .frame(width: 3, height: CGFloat(bar * 3 + 3))","            }","        }","    }","}"]},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/05-Pairing-Flow#Handling-Session-Events":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/05-Pairing-Flow#Handling-Session-Events","type":"section","kind":"section","url":"\/tutorials\/higaccessorysetupkit\/05-pairing-flow#Handling-Session-Events","abstract":[{"type":"text","text":"Implement the complete flow from accessory discovery to pairing completion."},{"type":"text","text":" "},{"type":"text","text":"Learn state management using ASAccessorySession events."}],"role":"pseudoSymbol","title":"Handling Session Events"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/06-Connection-State#Reconnection-Logic":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/06-Connection-State#Reconnection-Logic","type":"section","kind":"section","url":"\/tutorials\/higaccessorysetupkit\/06-connection-state#Reconnection-Logic","abstract":[{"type":"text","text":"Track and manage the connection state of paired accessories in real-time."},{"type":"text","text":" "},{"type":"text","text":"Implement disconnection, reconnection, and background handling."}],"role":"pseudoSymbol","title":"Reconnection Logic"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/Table-of-Contents/Basics":{"url":"\/tutorials\/table-of-contents\/basics","abstract":[],"type":"topic","kind":"article","title":"Basics","role":"article","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Basics"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/10-Production-Checklist#Permissions-and-Privacy":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/10-Production-Checklist#Permissions-and-Privacy","type":"section","kind":"section","url":"\/tutorials\/higaccessorysetupkit\/10-production-checklist#Permissions-and-Privacy","abstract":[{"text":"Verify items that need to be checked before app release.","type":"text"},{"text":" ","type":"text"},{"text":"Review permissions, privacy, performance, and App Store requirements.","type":"text"}],"role":"pseudoSymbol","title":"Permissions and Privacy"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/07-Multiple-Accessories":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/07-Multiple-Accessories","type":"topic","role":"project","kind":"project","url":"\/tutorials\/higaccessorysetupkit\/07-multiple-accessories","abstract":[{"text":"Learn how to manage multiple accessories simultaneously.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Implement accessory list management, grouping, and priority settings."}],"estimatedTime":"30min","title":"Managing Multiple Accessories"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/08-Firmware-Updates#Version-Check-and-Download":{"role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"Implement secure firmware updates for accessories."},{"type":"text","text":" "},{"type":"text","text":"Learn the process of version checking, downloading, transfer, and verification."}],"url":"\/tutorials\/higaccessorysetupkit\/08-firmware-updates#Version-Check-and-Download","title":"Version Check and Download","kind":"section","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/08-Firmware-Updates#Version-Check-and-Download"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/Table-of-Contents/Core-Features":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Core-Features","type":"topic","kind":"article","url":"\/tutorials\/table-of-contents\/core-features","abstract":[],"role":"article","title":"Core Features"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/Table-of-Contents/Error-Handling":{"kind":"article","title":"Error Handling","url":"\/tutorials\/table-of-contents\/error-handling","type":"topic","role":"article","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Error-Handling","abstract":[]},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/04-Discovery-UI":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/04-Discovery-UI","type":"topic","role":"project","kind":"project","url":"\/tutorials\/higaccessorysetupkit\/04-discovery-ui","abstract":[{"text":"Implement a user-friendly accessory discovery screen using","type":"text"},{"text":" ","type":"text"},{"text":"ASDiscoveryDescriptor and ASPickerDisplayItem.","type":"text"}],"estimatedTime":"25min","title":"Implementing Discovery UI"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/Table-of-Contents/Multiple-Accessories":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Multiple-Accessories","type":"topic","kind":"article","url":"\/tutorials\/table-of-contents\/multiple-accessories","abstract":[],"role":"article","title":"Multiple Accessories"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/Table-of-Contents/Production-Checklist":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Production-Checklist","type":"topic","kind":"article","url":"\/tutorials\/table-of-contents\/production-checklist","abstract":[],"role":"article","title":"Production Checklist"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/06-Connection-State#Real-time-Connection-Monitoring":{"role":"pseudoSymbol","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/06-Connection-State#Real-time-Connection-Monitoring","url":"\/tutorials\/higaccessorysetupkit\/06-connection-state#Real-time-Connection-Monitoring","kind":"section","type":"section","abstract":[{"type":"text","text":"Track and manage the connection state of paired accessories in real-time."},{"type":"text","text":" "},{"type":"text","text":"Implement disconnection, reconnection, and background handling."}],"title":"Real-time Connection Monitoring"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/07-Multiple-Accessories#Accessory-Collection-Management":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/07-Multiple-Accessories#Accessory-Collection-Management","type":"section","kind":"section","url":"\/tutorials\/higaccessorysetupkit\/07-multiple-accessories#Accessory-Collection-Management","abstract":[{"type":"text","text":"Learn how to manage multiple accessories simultaneously."},{"text":" ","type":"text"},{"text":"Implement accessory list management, grouping, and priority settings.","type":"text"}],"role":"pseudoSymbol","title":"Accessory Collection Management"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/04-Discovery-UI#Configuring-Picker-Display-Item":{"kind":"section","title":"Configuring Picker Display Item","url":"\/tutorials\/higaccessorysetupkit\/04-discovery-ui#Configuring-Picker-Display-Item","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/04-Discovery-UI#Configuring-Picker-Display-Item","abstract":[{"type":"text","text":"Implement a user-friendly accessory discovery screen using"},{"type":"text","text":" "},{"type":"text","text":"ASDiscoveryDescriptor and ASPickerDisplayItem."}]},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/Table-of-Contents/Firmware-Updates":{"role":"article","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Firmware-Updates","url":"\/tutorials\/table-of-contents\/firmware-updates","kind":"article","type":"topic","title":"Firmware Updates","abstract":[]},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/Table-of-Contents/Pairing-Flow":{"kind":"article","title":"Pairing Flow","url":"\/tutorials\/table-of-contents\/pairing-flow","type":"topic","role":"article","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Pairing-Flow","abstract":[]},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/10-Production-Checklist#Testing-and-Verification":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/10-Production-Checklist#Testing-and-Verification","type":"section","kind":"section","url":"\/tutorials\/higaccessorysetupkit\/10-production-checklist#Testing-and-Verification","abstract":[{"text":"Verify items that need to be checked before app release.","type":"text"},{"text":" ","type":"text"},{"text":"Review permissions, privacy, performance, and App Store requirements.","type":"text"}],"role":"pseudoSymbol","title":"Testing and Verification"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/03-Practice":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/03-Practice","type":"topic","role":"project","kind":"project","url":"\/tutorials\/higaccessorysetupkit\/03-practice","abstract":[{"type":"text","text":"Apply to a real app."}],"estimatedTime":"20min","title":"Practical Application"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/10-Production-Checklist":{"url":"\/tutorials\/higaccessorysetupkit\/10-production-checklist","abstract":[{"type":"text","text":"Verify items that need to be checked before app release."},{"text":" ","type":"text"},{"type":"text","text":"Review permissions, privacy, performance, and App Store requirements."}],"type":"topic","kind":"project","title":"Production Checklist","role":"project","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/10-Production-Checklist","estimatedTime":"20min"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/05-Pairing-Flow":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/05-Pairing-Flow","type":"topic","role":"project","kind":"project","url":"\/tutorials\/higaccessorysetupkit\/05-pairing-flow","abstract":[{"type":"text","text":"Implement the complete flow from accessory discovery to pairing completion."},{"type":"text","text":" "},{"type":"text","text":"Learn state management using ASAccessorySession events."}],"estimatedTime":"30min","title":"Implementing Pairing Flow"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/02-Core":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/02-Core","type":"topic","role":"project","kind":"project","url":"\/tutorials\/higaccessorysetupkit\/02-core","abstract":[{"text":"Learn the main APIs.","type":"text"}],"estimatedTime":"20min","title":"Core Features"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/Table-of-Contents/Practical-Application":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Practical-Application","type":"topic","role":"article","kind":"article","url":"\/tutorials\/table-of-contents\/practical-application","abstract":[],"title":"Practical Application"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/04-Discovery-UI#Setting-Up-Discovery-Descriptor":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/04-Discovery-UI#Setting-Up-Discovery-Descriptor","type":"section","kind":"section","url":"\/tutorials\/higaccessorysetupkit\/04-discovery-ui#Setting-Up-Discovery-Descriptor","abstract":[{"type":"text","text":"Implement a user-friendly accessory discovery screen using"},{"type":"text","text":" "},{"type":"text","text":"ASDiscoveryDescriptor and ASPickerDisplayItem."}],"role":"pseudoSymbol","title":"Setting Up Discovery Descriptor"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/09-Error-Handling":{"url":"\/tutorials\/higaccessorysetupkit\/09-error-handling","abstract":[{"type":"text","text":"Properly handle various errors that can occur in AccessorySetupKit"},{"type":"text","text":" "},{"type":"text","text":"and guide users appropriately."}],"type":"topic","kind":"project","title":"Error Handling","role":"project","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/09-Error-Handling","estimatedTime":"25min"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/06-Connection-State":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/06-Connection-State","type":"topic","role":"project","kind":"project","url":"\/tutorials\/higaccessorysetupkit\/06-connection-state","abstract":[{"type":"text","text":"Track and manage the connection state of paired accessories in real-time."},{"type":"text","text":" "},{"text":"Implement disconnection, reconnection, and background handling.","type":"text"}],"estimatedTime":"25min","title":"Connection State Management"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/08-Firmware-Updates#OTA-Update-Transfer":{"url":"\/tutorials\/higaccessorysetupkit\/08-firmware-updates#OTA-Update-Transfer","abstract":[{"text":"Implement secure firmware updates for accessories.","type":"text"},{"text":" ","type":"text"},{"text":"Learn the process of version checking, downloading, transfer, and verification.","type":"text"}],"type":"section","kind":"section","title":"OTA Update Transfer","role":"pseudoSymbol","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/08-Firmware-Updates#OTA-Update-Transfer"},"06-background.swift":{"fileType":"swift","syntax":"swift","highlights":[],"identifier":"06-background.swift","type":"file","content":["import CoreBluetooth","import UIKit","","\/\/ Info.plist에 필요한 설정:","\/\/ UIBackgroundModes: bluetooth-central","\/\/ NSBluetoothAlwaysUsageDescription: \"액세서리와 통신하기 위해 Bluetooth가 필요합니다.\"","","class BackgroundConnectionManager: NSObject, CBCentralManagerDelegate {","    private var centralManager: CBCentralManager!","    private var connectedPeripherals: [CBPeripheral] = []","    ","    override init() {","        super.init()","        ","        \/\/ 백그라운드 복원 지원 설정","        centralManager = CBCentralManager(","            delegate: self,","            queue: nil,","            options: [","                CBCentralManagerOptionRestoreIdentifierKey: \"com.app.accessory.central\"","            ]","        )","    }","    ","    \/\/ MARK: - CBCentralManagerDelegate","    ","    func centralManagerDidUpdateState(_ central: CBCentralManager) {","        if central.state == .poweredOn {","            \/\/ 이전에 연결된 기기 복원","            restorePreviousConnections()","        }","    }","    ","    \/\/ 앱 재시작 시 백그라운드 연결 복원","    func centralManager(_ central: CBCentralManager,","                        willRestoreState dict: [String: Any]) {","        if let peripherals = dict[CBCentralManagerRestoredStatePeripheralsKey] as? [CBPeripheral] {","            connectedPeripherals = peripherals","            for peripheral in peripherals {","                peripheral.delegate = self","            }","        }","    }","    ","    private func restorePreviousConnections() {","        guard let savedID = UserDefaults.standard.string(forKey: \"pairedAccessoryID\"),","              let uuid = UUID(uuidString: savedID) else { return }","        ","        let peripherals = centralManager.retrievePeripherals(withIdentifiers: [uuid])","        for peripheral in peripherals {","            centralManager.connect(peripheral)","        }","    }","}","","extension BackgroundConnectionManager: CBPeripheralDelegate {","    \/\/ 페리퍼럴 이벤트 처리","}"],"fileName":"BackgroundConnection.swift"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/01-Basics#Getting-Started":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/01-Basics#Getting-Started","type":"section","role":"pseudoSymbol","kind":"section","url":"\/tutorials\/higaccessorysetupkit\/01-basics#Getting-Started","abstract":[{"text":"Connect with AccessorySetupKit.","type":"text"}],"title":"Getting Started"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/02-Core#Implementation":{"role":"pseudoSymbol","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/02-Core#Implementation","url":"\/tutorials\/higaccessorysetupkit\/02-core#Implementation","kind":"section","type":"section","abstract":[{"type":"text","text":"Learn the main APIs."}],"title":"Implementation"},"06-connection-monitor.swift":{"fileType":"swift","syntax":"swift","highlights":[],"identifier":"06-connection-monitor.swift","type":"file","content":["import AccessorySetupKit","import CoreBluetooth","import Combine","","@Observable","class ConnectionMonitor {","    var connectionState: ConnectionState = .disconnected","    var signalStrength: Int? \/\/ RSSI","    ","    private var centralManager: CBCentralManager!","    private var connectedPeripheral: CBPeripheral?","    private var rssiTimer: Timer?","    ","    enum ConnectionState {","        case disconnected","        case connecting","        case connected","        case reconnecting","        ","        var icon: String {","            switch self {","            case .disconnected: return \"wifi.slash\"","            case .connecting, .reconnecting: return \"wifi.exclamationmark\"","            case .connected: return \"wifi\"","            }","        }","    }","    ","    func startMonitoring(for accessory: ASAccessory) {","        guard let identifier = accessory.bluetoothIdentifier else { return }","        ","        \/\/ 연결 상태 모니터링","        let peripherals = centralManager.retrievePeripherals(withIdentifiers: [identifier])","        guard let peripheral = peripherals.first else { return }","        ","        connectedPeripheral = peripheral","        centralManager.connect(peripheral, options: [","            CBConnectPeripheralOptionNotifyOnDisconnectionKey: true","        ])","        ","        \/\/ RSSI 주기적 읽기","        startRSSIMonitoring()","    }","    ","    private func startRSSIMonitoring() {","        rssiTimer = Timer.scheduledTimer(withTimeInterval: 2.0, repeats: true) { [weak self] _ in","            self?.connectedPeripheral?.readRSSI()","        }","    }","    ","    func stopMonitoring() {","        rssiTimer?.invalidate()","        rssiTimer = nil","        if let peripheral = connectedPeripheral {","            centralManager.cancelPeripheralConnection(peripheral)","        }","    }","}"],"fileName":"ConnectionMonitor.swift"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/Table-of-Contents":{"role":"overview","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents","url":"\/tutorials\/table-of-contents","kind":"overview","type":"topic","abstract":[{"type":"text","text":"Learn how to securely connect Bluetooth and Wi-Fi accessories"},{"type":"text","text":" "},{"type":"text","text":"using AccessorySetupKit with the system standard UI."}],"title":"Accessory Pairing"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/07-Multiple-Accessories#Handling-Concurrent-Connections":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/07-Multiple-Accessories#Handling-Concurrent-Connections","type":"section","kind":"section","url":"\/tutorials\/higaccessorysetupkit\/07-multiple-accessories#Handling-Concurrent-Connections","abstract":[{"text":"Learn how to manage multiple accessories simultaneously.","type":"text"},{"text":" ","type":"text"},{"text":"Implement accessory list management, grouping, and priority settings.","type":"text"}],"role":"pseudoSymbol","title":"Handling Concurrent Connections"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/05-Pairing-Flow#Pairing-State-Machine":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/05-Pairing-Flow#Pairing-State-Machine","type":"section","kind":"section","url":"\/tutorials\/higaccessorysetupkit\/05-pairing-flow#Pairing-State-Machine","abstract":[{"type":"text","text":"Implement the complete flow from accessory discovery to pairing completion."},{"type":"text","text":" "},{"type":"text","text":"Learn state management using ASAccessorySession events."}],"role":"pseudoSymbol","title":"Pairing State Machine"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/09-Error-Handling#Error-Type-Classification":{"role":"pseudoSymbol","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/09-Error-Handling#Error-Type-Classification","url":"\/tutorials\/higaccessorysetupkit\/09-error-handling#Error-Type-Classification","kind":"section","type":"section","abstract":[{"type":"text","text":"Properly handle various errors that can occur in AccessorySetupKit"},{"type":"text","text":" "},{"type":"text","text":"and guide users appropriately."}],"title":"Error Type Classification"},"06-auto-reconnect.swift":{"fileType":"swift","syntax":"swift","highlights":[],"identifier":"06-auto-reconnect.swift","type":"file","content":["import CoreBluetooth","import os.log","","class AutoReconnectManager {","    private var centralManager: CBCentralManager!","    private var targetPeripheral: CBPeripheral?","    private var reconnectAttempts = 0","    private let maxAttempts = 5","    ","    private let logger = Logger(subsystem: \"com.app\", category: \"Reconnect\")","    ","    \/\/ 지수 백오프 재연결","    func handleDisconnection(peripheral: CBPeripheral, error: Error?) {","        logger.info(\"연결 해제됨: \\(peripheral.identifier)\")","        ","        guard reconnectAttempts < maxAttempts else {","            logger.error(\"최대 재시도 횟수 초과\")","            notifyConnectionFailed()","            return","        }","        ","        \/\/ 지수 백오프 딜레이 계산","        let delay = pow(2.0, Double(reconnectAttempts))","        reconnectAttempts += 1","        ","        logger.info(\"재연결 시도 #\\(self.reconnectAttempts), \\(delay)초 후\")","        ","        DispatchQueue.main.asyncAfter(deadline: .now() + delay) { [weak self] in","            self?.attemptReconnect(peripheral: peripheral)","        }","    }","    ","    private func attemptReconnect(peripheral: CBPeripheral) {","        guard centralManager.state == .poweredOn else {","            logger.warning(\"Bluetooth 꺼짐, 대기 중\")","            return","        }","        ","        targetPeripheral = peripheral","        centralManager.connect(peripheral, options: [","            CBConnectPeripheralOptionNotifyOnDisconnectionKey: true","        ])","    }","    ","    func connectionSucceeded() {","        reconnectAttempts = 0","        logger.info(\"재연결 성공\")","    }","    ","    private func notifyConnectionFailed() {","        NotificationCenter.default.post(","            name: .accessoryConnectionFailed,","            object: nil","        )","    }","}","","extension Notification.Name {","    static let accessoryConnectionFailed = Notification.Name(\"accessoryConnectionFailed\")","}"],"fileName":"AutoReconnect.swift"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/HIGAccessorySetupKit/09-Error-Handling#User-Friendly-Error-Messages":{"url":"\/tutorials\/higaccessorysetupkit\/09-error-handling#User-Friendly-Error-Messages","abstract":[{"text":"Properly handle various errors that can occur in AccessorySetupKit","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and guide users appropriately."}],"type":"section","kind":"section","title":"User-Friendly Error Messages","role":"pseudoSymbol","identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/HIGAccessorySetupKit\/09-Error-Handling#User-Friendly-Error-Messages"},"doc://accessorysetupkit.HIGAccessorySetupKit/tutorials/Table-of-Contents/Connection-State-Management":{"identifier":"doc:\/\/accessorysetupkit.HIGAccessorySetupKit\/tutorials\/Table-of-Contents\/Connection-State-Management","type":"topic","kind":"article","url":"\/tutorials\/table-of-contents\/connection-state-management","abstract":[],"role":"article","title":"Connection State Management"}}}