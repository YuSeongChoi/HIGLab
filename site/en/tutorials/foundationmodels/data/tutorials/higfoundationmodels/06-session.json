{"hierarchy":{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents","modules":[{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Introduction-to-Foundation-Models","projects":[{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/01-Introduction","sections":[{"kind":"task","reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/01-Introduction#Benefits-of-On-Device-AI"}]}]},{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Model-Setup-and-Prompts","projects":[{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/02-Setup-Prompt","sections":[{"kind":"task","reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/02-Setup-Prompt#Basic-Usage"}]}]},{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Streaming-Responses","projects":[{"sections":[{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/03-Streaming#Implementing-Streaming","kind":"task"}],"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/03-Streaming"}]},{"projects":[{"sections":[{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/04-Tool-Calling#Defining-Tools","kind":"task"}],"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/04-Tool-Calling"}],"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Tool-Calling"},{"projects":[{"sections":[{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/05-Generable#Defining-Structured-Output","kind":"task"},{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/05-Generable#Practical-Applications","kind":"task"},{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/05-Generable#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/05-Generable"}],"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Generable-Protocol"},{"projects":[{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/06-Session","sections":[{"kind":"task","reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/06-Session#Creating-and-Managing-Sessions"},{"kind":"task","reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/06-Session#Using-Conversation-History"},{"kind":"assessment","reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/06-Session#Check-Your-Understanding"}]}],"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Session-and-Conversation-Management"},{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Guardrails-and-Input-Validation","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/07-Guardrails#Understanding-Guardrails"},{"kind":"task","reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/07-Guardrails#Custom-Input-Validation"},{"kind":"assessment","reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/07-Guardrails#Check-Your-Understanding"}],"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/07-Guardrails"}]},{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Context-Management","projects":[{"sections":[{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/08-Context#Understanding-Context-Windows","kind":"task"},{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/08-Context#Context-Optimization-Strategies","kind":"task"},{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/08-Context#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/08-Context"}]},{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Safety-and-Guidelines","projects":[{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/09-Safety","sections":[{"kind":"task","reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/09-Safety#Apples-AI-Safety-Principles"},{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/09-Safety#Implementing-Responsible-AI","kind":"task"},{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/09-Safety#Check-Your-Understanding","kind":"assessment"}]}]},{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Performance-Optimization","projects":[{"sections":[{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/10-Performance#Model-Loading-Optimization","kind":"task"},{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/10-Performance#Battery-and-Memory-Management","kind":"task"},{"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/10-Performance#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/10-Performance"}]}],"paths":[["doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents","doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/$volume","doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Session-and-Conversation-Management"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/06-Session"},"schemaVersion":{"major":0,"patch":0,"minor":3},"sections":[{"chapter":"Session and Conversation Management","estimatedTimeInMinutes":20,"content":[{"inlineContent":[{"type":"text","text":"Use Session to manage multi-turn conversations and maintain conversation context."}],"type":"paragraph"}],"kind":"hero","title":"Session and Conversation Management"},{"tasks":[{"title":"Creating and Managing Sessions","stepsSection":[{"runtimePreview":null,"media":null,"caption":[],"type":"step","code":"06-session.swift","content":[{"type":"paragraph","inlineContent":[{"text":"Create a Session and define the model’s role with a system prompt.","type":"text"}]}]}],"anchor":"Creating-and-Managing-Sessions","contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Session"},{"type":"text","text":" manages the conversation history between the user and the model."},{"type":"text","text":" "},{"type":"text","text":"It enables natural multi-turn conversations by maintaining conversation context."}]}],"mediaPosition":"trailing","kind":"contentAndMedia"}]},{"contentSection":[{"kind":"contentAndMedia","content":[{"inlineContent":[{"text":"You can save and restore session conversation history to continue conversations.","type":"text"}],"type":"paragraph"}],"mediaPosition":"trailing"}],"title":"Using Conversation History","stepsSection":[{"runtimePreview":null,"caption":[],"content":[{"inlineContent":[{"type":"text","text":"How to save conversation history and restore it in a new session."}],"type":"paragraph"}],"type":"step","media":null,"code":"06-session-persistence.swift"}],"anchor":"Using-Conversation-History"}],"kind":"tasks"},{"assessments":[{"choices":[{"justification":[{"inlineContent":[{"text":"The system prompt determines how the model responds throughout the conversation.","type":"text"}],"type":"paragraph"}],"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"It defines the model’s behavior and role"}]}],"isCorrect":true},{"justification":[{"inlineContent":[{"text":"The system prompt is separate from user messages and sets the model’s behavior.","type":"text"}],"type":"paragraph"}],"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"It replaces the user’s first message"}]}],"isCorrect":false},{"isCorrect":false,"justification":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The system prompt does not affect conversation history."}]}],"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"It deletes conversation history"}]}]}],"title":[{"type":"paragraph","inlineContent":[{"type":"text","text":"What is the role of the system prompt in a Session?"}]}],"type":"multiple-choice","content":[]},{"choices":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"It increases the model’s response speed"}]}],"justification":[{"inlineContent":[{"type":"text","text":"Context maintenance is related to conversation consistency rather than speed."}],"type":"paragraph"}],"isCorrect":false},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"It enables consistent responses by referencing previous conversation content"}]}],"justification":[{"inlineContent":[{"type":"text","text":"The model needs to remember previous conversations to understand references like “that” or “what you said earlier.”"}],"type":"paragraph"}],"isCorrect":true},{"isCorrect":false,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"It reduces memory usage"}]}],"justification":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Actually, maintaining context requires more memory."}]}]}],"type":"multiple-choice","content":[],"title":[{"type":"paragraph","inlineContent":[{"text":"Why is maintaining context important in multi-turn conversations?","type":"text"}]}]}],"anchor":"Check-Your-Understanding","kind":"assessments"},{"featuredEyebrow":"Tutorial","kind":"callToAction","title":"Guardrails and Input Validation","abstract":[{"text":"Use Guardrails to filter inappropriate input and ensure safe responses.","type":"text"}],"action":{"overridingTitleInlineContent":[{"text":"Get started","type":"text"}],"isActive":true,"type":"reference","overridingTitle":"Get started","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/07-Guardrails"}}],"kind":"project","metadata":{"category":"Building an On-Device AI Chatbot","title":"Session and Conversation Management","categoryPathComponent":"Table-of-Contents","role":"project"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/higfoundationmodels\/06-session"]}],"references":{"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/10-Performance#Model-Loading-Optimization":{"role":"pseudoSymbol","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/10-Performance#Model-Loading-Optimization","title":"Model Loading Optimization","type":"section","url":"\/tutorials\/higfoundationmodels\/10-performance#Model-Loading-Optimization","abstract":[{"type":"text","text":"Optimize on-device AI performance to create faster and more efficient apps."}],"kind":"section"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/08-Context":{"abstract":[{"text":"Effectively manage and optimize context considering token limits.","type":"text"}],"url":"\/tutorials\/higfoundationmodels\/08-context","type":"topic","role":"project","kind":"project","title":"Context Management","estimatedTime":"20min","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/08-Context"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/03-Streaming":{"abstract":[{"type":"text","text":"Handle real-time responses with AsyncSequence."}],"url":"\/tutorials\/higfoundationmodels\/03-streaming","type":"topic","role":"project","kind":"project","title":"Streaming Responses","estimatedTime":"15min","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/03-Streaming"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/01-Introduction#Benefits-of-On-Device-AI":{"kind":"section","url":"\/tutorials\/higfoundationmodels\/01-introduction#Benefits-of-On-Device-AI","abstract":[{"text":"Learn about the features and benefits of on-device LLM introduced in iOS 26.","type":"text"}],"role":"pseudoSymbol","type":"section","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/01-Introduction#Benefits-of-On-Device-AI","title":"Benefits of On-Device AI"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/03-Streaming#Implementing-Streaming":{"abstract":[{"type":"text","text":"Handle real-time responses with AsyncSequence."}],"url":"\/tutorials\/higfoundationmodels\/03-streaming#Implementing-Streaming","type":"section","role":"pseudoSymbol","kind":"section","title":"Implementing Streaming","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/03-Streaming#Implementing-Streaming"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/05-Generable#Practical-Applications":{"role":"pseudoSymbol","title":"Practical Applications","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/05-Generable#Practical-Applications","type":"section","abstract":[{"type":"text","text":"Use the Generable protocol for structured output to receive type-safe JSON responses."}],"kind":"section","url":"\/tutorials\/higfoundationmodels\/05-generable#Practical-Applications"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/05-Generable":{"abstract":[{"text":"Use the Generable protocol for structured output to receive type-safe JSON responses.","type":"text"}],"url":"\/tutorials\/higfoundationmodels\/05-generable","type":"topic","role":"project","kind":"project","title":"Generable Protocol","estimatedTime":"20min","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/05-Generable"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/07-Guardrails#Understanding-Guardrails":{"role":"pseudoSymbol","title":"Understanding Guardrails","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/07-Guardrails#Understanding-Guardrails","type":"section","abstract":[{"text":"Use Guardrails to filter inappropriate input and ensure safe responses.","type":"text"}],"url":"\/tutorials\/higfoundationmodels\/07-guardrails#Understanding-Guardrails","kind":"section"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/08-Context#Check-Your-Understanding":{"type":"link","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"title":"Check Your Understanding","url":"\/tutorials\/higfoundationmodels\/08-context#Check-Your-Understanding","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/08-Context#Check-Your-Understanding"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/05-Generable#Defining-Structured-Output":{"role":"pseudoSymbol","title":"Defining Structured Output","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/05-Generable#Defining-Structured-Output","type":"section","url":"\/tutorials\/higfoundationmodels\/05-generable#Defining-Structured-Output","abstract":[{"text":"Use the Generable protocol for structured output to receive type-safe JSON responses.","type":"text"}],"kind":"section"},"doc://foundationmodels.HIGFoundationModels/tutorials/Table-of-Contents/Context-Management":{"kind":"article","url":"\/tutorials\/table-of-contents\/context-management","abstract":[],"role":"article","type":"topic","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Context-Management","title":"Context Management"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/09-Safety#Check-Your-Understanding":{"identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/09-Safety#Check-Your-Understanding","title":"Check Your Understanding","url":"\/tutorials\/higfoundationmodels\/09-safety#Check-Your-Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/06-Session#Using-Conversation-History":{"kind":"section","url":"\/tutorials\/higfoundationmodels\/06-session#Using-Conversation-History","abstract":[{"type":"text","text":"Use Session to manage multi-turn conversations and maintain conversation context."}],"role":"pseudoSymbol","type":"section","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/06-Session#Using-Conversation-History","title":"Using Conversation History"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/09-Safety#Implementing-Responsible-AI":{"role":"pseudoSymbol","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/09-Safety#Implementing-Responsible-AI","title":"Implementing Responsible AI","type":"section","url":"\/tutorials\/higfoundationmodels\/09-safety#Implementing-Responsible-AI","kind":"section","abstract":[{"type":"text","text":"Understand Apple’s AI safety guidelines and develop responsible AI apps."}]},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/08-Context#Context-Optimization-Strategies":{"abstract":[{"type":"text","text":"Effectively manage and optimize context considering token limits."}],"url":"\/tutorials\/higfoundationmodels\/08-context#Context-Optimization-Strategies","type":"section","role":"pseudoSymbol","kind":"section","title":"Context Optimization Strategies","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/08-Context#Context-Optimization-Strategies"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/10-Performance#Battery-and-Memory-Management":{"role":"pseudoSymbol","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/10-Performance#Battery-and-Memory-Management","title":"Battery and Memory Management","type":"section","url":"\/tutorials\/higfoundationmodels\/10-performance#Battery-and-Memory-Management","abstract":[{"text":"Optimize on-device AI performance to create faster and more efficient apps.","type":"text"}],"kind":"section"},"doc://foundationmodels.HIGFoundationModels/tutorials/Table-of-Contents/Generable-Protocol":{"role":"article","title":"Generable Protocol","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Generable-Protocol","type":"topic","url":"\/tutorials\/table-of-contents\/generable-protocol","abstract":[],"kind":"article"},"doc://foundationmodels.HIGFoundationModels/tutorials/Table-of-Contents/Session-and-Conversation-Management":{"role":"article","title":"Session and Conversation Management","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Session-and-Conversation-Management","type":"topic","abstract":[],"url":"\/tutorials\/table-of-contents\/session-and-conversation-management","kind":"article"},"doc://foundationmodels.HIGFoundationModels/tutorials/Table-of-Contents/Guardrails-and-Input-Validation":{"role":"article","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Guardrails-and-Input-Validation","title":"Guardrails and Input Validation","type":"topic","abstract":[],"url":"\/tutorials\/table-of-contents\/guardrails-and-input-validation","kind":"article"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/02-Setup-Prompt#Basic-Usage":{"role":"pseudoSymbol","title":"Basic Usage","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/02-Setup-Prompt#Basic-Usage","type":"section","abstract":[{"type":"text","text":"Configure LanguageModel and execute prompts."}],"url":"\/tutorials\/higfoundationmodels\/02-setup-prompt#Basic-Usage","kind":"section"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/06-Session#Creating-and-Managing-Sessions":{"role":"pseudoSymbol","title":"Creating and Managing Sessions","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/06-Session#Creating-and-Managing-Sessions","type":"section","url":"\/tutorials\/higfoundationmodels\/06-session#Creating-and-Managing-Sessions","abstract":[{"text":"Use Session to manage multi-turn conversations and maintain conversation context.","type":"text"}],"kind":"section"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/06-Session#Check-Your-Understanding":{"type":"link","url":"\/tutorials\/higfoundationmodels\/06-session#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"title":"Check Your Understanding","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/06-Session#Check-Your-Understanding"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/10-Performance#Check-Your-Understanding":{"titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/10-Performance#Check-Your-Understanding","url":"\/tutorials\/higfoundationmodels\/10-performance#Check-Your-Understanding","type":"link","title":"Check Your Understanding"},"doc://foundationmodels.HIGFoundationModels/tutorials/Table-of-Contents/Introduction-to-Foundation-Models":{"role":"article","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Introduction-to-Foundation-Models","title":"Introduction to Foundation Models","type":"topic","url":"\/tutorials\/table-of-contents\/introduction-to-foundation-models","abstract":[],"kind":"article"},"doc://foundationmodels.HIGFoundationModels/tutorials/Table-of-Contents/Tool-Calling":{"role":"article","title":"Tool Calling","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Tool-Calling","type":"topic","abstract":[],"kind":"article","url":"\/tutorials\/table-of-contents\/tool-calling"},"doc://foundationmodels.HIGFoundationModels/tutorials/Table-of-Contents/Performance-Optimization":{"abstract":[],"url":"\/tutorials\/table-of-contents\/performance-optimization","type":"topic","role":"article","kind":"article","title":"Performance Optimization","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Performance-Optimization"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/05-Generable#Check-Your-Understanding":{"type":"link","url":"\/tutorials\/higfoundationmodels\/05-generable#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"title":"Check Your Understanding","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/05-Generable#Check-Your-Understanding"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/09-Safety#Apples-AI-Safety-Principles":{"role":"pseudoSymbol","title":"Apple's AI Safety Principles","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/09-Safety#Apples-AI-Safety-Principles","type":"section","url":"\/tutorials\/higfoundationmodels\/09-safety#Apples-AI-Safety-Principles","abstract":[{"text":"Understand Apple’s AI safety guidelines and develop responsible AI apps.","type":"text"}],"kind":"section"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/07-Guardrails#Check-Your-Understanding":{"identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/07-Guardrails#Check-Your-Understanding","url":"\/tutorials\/higfoundationmodels\/07-guardrails#Check-Your-Understanding","title":"Check Your Understanding","type":"link","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"06-session.swift":{"highlights":[],"syntax":"swift","type":"file","fileName":"Session.swift","fileType":"swift","content":["import FoundationModels","import SwiftUI","","@MainActor","class ChatViewModel: ObservableObject {","    @Published var messages: [ChatMessage] = []","    @Published var isProcessing = false","    ","    private var session: LanguageModel.Session?","    ","    \/\/ 시스템 프롬프트로 모델 역할 정의","    func startNewChat(persona: String) {","        let systemPrompt = \"\"\"","        당신은 \\(persona)입니다.","        항상 친절하고 도움이 되는 방식으로 응답하세요.","        한국어로 대화합니다.","        \"\"\"","        ","        session = LanguageModel.default.createSession(","            systemPrompt: systemPrompt","        )","        messages = []","    }","    ","    \/\/ 멀티턴 대화 - 이전 컨텍스트가 자동으로 유지됨","    func send(_ userMessage: String) async {","        guard let session else { return }","        ","        messages.append(ChatMessage(role: .user, content: userMessage))","        isProcessing = true","        ","        do {","            \/\/ Session이 대화 기록을 자동으로 관리","            let response = try await session.generate(prompt: userMessage)","            messages.append(ChatMessage(role: .assistant, content: response))","        } catch {","            messages.append(ChatMessage(role: .assistant, content: \"오류가 발생했습니다.\"))","        }","        ","        isProcessing = false","    }","}","","struct ChatMessage: Identifiable {","    let id = UUID()","    let role: Role","    let content: String","    ","    enum Role { case user, assistant }","}","","\/\/ 대화 예시:","\/\/ User: \"안녕하세요, 저는 김철수입니다\"","\/\/ Assistant: \"안녕하세요 김철수님, 만나서 반갑습니다!\"","\/\/ User: \"제 이름을 기억하시나요?\"","\/\/ Assistant: \"네, 김철수님이시죠!\" ← 이전 컨텍스트 기억"],"identifier":"06-session.swift"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/10-Performance":{"role":"project","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/10-Performance","title":"Performance Optimization","abstract":[{"type":"text","text":"Optimize on-device AI performance to create faster and more efficient apps."}],"type":"topic","url":"\/tutorials\/higfoundationmodels\/10-performance","kind":"project","estimatedTime":"20min"},"doc://foundationmodels.HIGFoundationModels/tutorials/Table-of-Contents/Safety-and-Guidelines":{"role":"article","title":"Safety and Guidelines","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Safety-and-Guidelines","type":"topic","abstract":[],"kind":"article","url":"\/tutorials\/table-of-contents\/safety-and-guidelines"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/02-Setup-Prompt":{"abstract":[{"type":"text","text":"Configure LanguageModel and execute prompts."}],"url":"\/tutorials\/higfoundationmodels\/02-setup-prompt","type":"topic","role":"project","kind":"project","title":"Model Setup and Prompts","estimatedTime":"15min","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/02-Setup-Prompt"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/04-Tool-Calling#Defining-Tools":{"kind":"section","url":"\/tutorials\/higfoundationmodels\/04-tool-calling#Defining-Tools","abstract":[{"type":"text","text":"Enable the model to invoke external functions."}],"role":"pseudoSymbol","type":"section","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/04-Tool-Calling#Defining-Tools","title":"Defining Tools"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/06-Session":{"role":"project","url":"\/tutorials\/higfoundationmodels\/06-session","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/06-Session","type":"topic","abstract":[{"type":"text","text":"Use Session to manage multi-turn conversations and maintain conversation context."}],"kind":"project","title":"Session and Conversation Management","estimatedTime":"20min"},"doc://foundationmodels.HIGFoundationModels/tutorials/Table-of-Contents":{"abstract":[{"text":"Implement a privacy-preserving AI app using iOS 26’s on-device LLM.","type":"text"}],"url":"\/tutorials\/table-of-contents","type":"topic","role":"overview","kind":"overview","title":"Building an AI Chatbot with Foundation Models","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/01-Introduction":{"role":"project","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/01-Introduction","title":"Introduction to Foundation Models","type":"topic","abstract":[{"text":"Learn about the features and benefits of on-device LLM introduced in iOS 26.","type":"text"}],"url":"\/tutorials\/higfoundationmodels\/01-introduction","kind":"project","estimatedTime":"10min"},"06-session-persistence.swift":{"highlights":[],"syntax":"swift","type":"file","fileName":"SessionPersistence.swift","fileType":"swift","content":["import FoundationModels","import Foundation","","\/\/ 대화 기록 저장\/복원을 위한 모델","struct ConversationRecord: Codable {","    let id: UUID","    let systemPrompt: String","    let messages: [StoredMessage]","    let createdAt: Date","}","","struct StoredMessage: Codable {","    let role: String  \/\/ \"user\" or \"assistant\"","    let content: String","    let timestamp: Date","}","","class ConversationManager {","    private let storage = UserDefaults.standard","    private let storageKey = \"saved_conversations\"","    ","    \/\/ 현재 세션의 대화를 저장","    func saveConversation(","        id: UUID,","        systemPrompt: String,","        messages: [(role: String, content: String)]","    ) {","        let storedMessages = messages.map { msg in","            StoredMessage(role: msg.role, content: msg.content, timestamp: Date())","        }","        ","        let record = ConversationRecord(","            id: id,","            systemPrompt: systemPrompt,","            messages: storedMessages,","            createdAt: Date()","        )","        ","        var conversations = loadAllConversations()","        conversations[id] = record","        ","        if let data = try? JSONEncoder().encode(conversations) {","            storage.set(data, forKey: storageKey)","        }","    }","    ","    \/\/ 저장된 대화를 새 세션으로 복원","    func restoreSession(conversationId: UUID) -> LanguageModel.Session? {","        guard let record = loadAllConversations()[conversationId] else {","            return nil","        }","        ","        \/\/ 새 세션 생성 후 기존 메시지로 컨텍스트 재구성","        var session = LanguageModel.default.createSession(","            systemPrompt: record.systemPrompt","        )","        ","        \/\/ 이전 대화를 컨텍스트로 주입","        for message in record.messages {","            session.appendToHistory(","                role: message.role == \"user\" ? .user : .assistant,","                content: message.content","            )","        }","        ","        return session","    }","    ","    private func loadAllConversations() -> [UUID: ConversationRecord] {","        guard let data = storage.data(forKey: storageKey),","              let conversations = try? JSONDecoder().decode([UUID: ConversationRecord].self, from: data)","        else {","            return [:]","        }","        return conversations","    }","}"],"identifier":"06-session-persistence.swift"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/07-Guardrails":{"abstract":[{"text":"Use Guardrails to filter inappropriate input and ensure safe responses.","type":"text"}],"url":"\/tutorials\/higfoundationmodels\/07-guardrails","type":"topic","role":"project","kind":"project","title":"Guardrails and Input Validation","estimatedTime":"15min","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/07-Guardrails"},"doc://foundationmodels.HIGFoundationModels/tutorials/Table-of-Contents/Model-Setup-and-Prompts":{"role":"article","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Model-Setup-and-Prompts","title":"Model Setup and Prompts","type":"topic","url":"\/tutorials\/table-of-contents\/model-setup-and-prompts","abstract":[],"kind":"article"},"doc://foundationmodels.HIGFoundationModels/tutorials/Table-of-Contents/Streaming-Responses":{"role":"article","title":"Streaming Responses","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/Table-of-Contents\/Streaming-Responses","type":"topic","abstract":[],"kind":"article","url":"\/tutorials\/table-of-contents\/streaming-responses"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/08-Context#Understanding-Context-Windows":{"abstract":[{"text":"Effectively manage and optimize context considering token limits.","type":"text"}],"url":"\/tutorials\/higfoundationmodels\/08-context#Understanding-Context-Windows","type":"section","role":"pseudoSymbol","kind":"section","title":"Understanding Context Windows","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/08-Context#Understanding-Context-Windows"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/07-Guardrails#Custom-Input-Validation":{"role":"pseudoSymbol","title":"Custom Input Validation","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/07-Guardrails#Custom-Input-Validation","type":"section","url":"\/tutorials\/higfoundationmodels\/07-guardrails#Custom-Input-Validation","abstract":[{"text":"Use Guardrails to filter inappropriate input and ensure safe responses.","type":"text"}],"kind":"section"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/04-Tool-Calling":{"role":"project","kind":"project","title":"Tool Calling","abstract":[{"text":"Enable the model to invoke external functions.","type":"text"}],"identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/04-Tool-Calling","type":"topic","url":"\/tutorials\/higfoundationmodels\/04-tool-calling","estimatedTime":"20min"},"doc://foundationmodels.HIGFoundationModels/tutorials/HIGFoundationModels/09-Safety":{"abstract":[{"type":"text","text":"Understand Apple’s AI safety guidelines and develop responsible AI apps."}],"url":"\/tutorials\/higfoundationmodels\/09-safety","type":"topic","role":"project","kind":"project","title":"Safety and Guidelines","estimatedTime":"15min","identifier":"doc:\/\/foundationmodels.HIGFoundationModels\/tutorials\/HIGFoundationModels\/09-Safety"}}}