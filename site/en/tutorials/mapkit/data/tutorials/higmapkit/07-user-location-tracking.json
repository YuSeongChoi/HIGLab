{"kind":"project","sections":[{"content":[{"inlineContent":[{"text":"Track the user’s real-time location using CLLocationManager and","type":"text"},{"text":" ","type":"text"},{"text":"display it on the map. Handle permission requests and background location updates.","type":"text"}],"type":"paragraph"}],"title":"User Location Tracking","chapter":"Ring 4: Enhancing User Experience","kind":"hero","estimatedTimeInMinutes":20},{"kind":"tasks","tasks":[{"title":"Setting Up Location Permissions","contentSection":[{"content":[{"inlineContent":[{"text":"Using location information in iOS requires","type":"text"},{"type":"text","text":" "},{"text":"explicit permission from the user.","type":"text"}],"type":"paragraph"}],"kind":"contentAndMedia","mediaPosition":"trailing"}],"anchor":"Setting-Up-Location-Permissions","stepsSection":[{"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add a description explaining the purpose of location usage."},{"text":" ","type":"text"},{"text":"The NSLocationWhenInUseUsageDescription key is required.","type":"text"}]}],"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Info.plist Configuration","type":"text"}]}]}],"media":null,"code":"07-info-plist.swift","runtimePreview":null,"type":"step"},{"caption":[{"inlineContent":[{"type":"text","text":"Create a location manager and request permission."},{"type":"text","text":" "},{"text":"Detect permission status changes with a delegate.","type":"text"}],"type":"paragraph"}],"runtimePreview":null,"code":"07-location-manager.swift","content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Creating CLLocationManager"}],"type":"strong"}],"type":"paragraph"}],"media":null,"type":"step"},{"content":[{"inlineContent":[{"inlineContent":[{"text":"Handling Permission Status","type":"text"}],"type":"strong"}],"type":"paragraph"}],"media":null,"runtimePreview":null,"type":"step","caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Provide appropriate UI for each status:"},{"type":"text","text":" "},{"text":".notDetermined, .denied, .authorizedWhenInUse, etc.","type":"text"}]}],"code":"07-auth-status.swift"}]},{"anchor":"Real-Time-Location-Tracking","stepsSection":[{"media":null,"type":"step","code":"07-start-updates.swift","runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Starting Location Updates"}],"type":"strong"}]}],"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Set accuracy with desiredAccuracy and"},{"text":" ","type":"text"},{"text":"update frequency with distanceFilter.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Detecting Location Changes","type":"text"}]}]}],"media":null,"runtimePreview":null,"caption":[{"inlineContent":[{"text":"Receive new locations via delegate methods.","type":"text"},{"type":"text","text":" "},{"text":"Pass to SwiftUI views with @Published properties.","type":"text"}],"type":"paragraph"}],"type":"step","code":"07-location-delegate.swift"},{"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Setting activityType informs the system of movement patterns,"},{"type":"text","text":" "},{"type":"text","text":"allowing efficient battery management."}]}],"code":"07-battery-optimization.swift","media":null,"runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Battery Optimization","type":"text"}],"type":"strong"}]}]}],"title":"Real-Time Location Tracking","contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Receive continuous location updates with startUpdatingLocation."},{"type":"text","text":" "},{"type":"text","text":"Balance accuracy and battery efficiency."}]}],"mediaPosition":"trailing","kind":"contentAndMedia"}]},{"anchor":"Displaying-User-Location-on-the-Map","contentSection":[{"kind":"contentAndMedia","mediaPosition":"trailing","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Display the user’s location in SwiftUI Map"},{"type":"text","text":" "},{"type":"text","text":"using the built-in UserAnnotation."}]}]}],"stepsSection":[{"code":"07-user-annotation.swift","type":"step","media":null,"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Adding UserAnnotation","type":"text"}],"type":"strong"}]}],"caption":[{"type":"paragraph","inlineContent":[{"text":"Add UserAnnotation() to the Map content.","type":"text"},{"text":" ","type":"text"},{"text":"A blue dot and accuracy circle are displayed automatically.","type":"text"}]}]},{"code":"07-follow-user.swift","type":"step","media":null,"runtimePreview":null,"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Move to Current Location Button"}]}],"type":"paragraph"}],"caption":[{"inlineContent":[{"text":"Add a button that centers the map on the user’s location.","type":"text"},{"text":" ","type":"text"},{"text":"Track heading as well with .userLocation(.followsHeading).","type":"text"}],"type":"paragraph"}]},{"code":"07-nearby-search.swift","type":"step","media":null,"runtimePreview":null,"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Automatic Nearby Restaurant Search","type":"text"}]}],"type":"paragraph"}],"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Automatically search for restaurants within 500m"},{"type":"text","text":" "},{"text":"when the current location updates.","type":"text"}]}]}],"title":"Displaying User Location on the Map"}]},{"anchor":"Check-Your-Understanding","kind":"assessments","assessments":[{"choices":[{"isCorrect":true,"justification":[{"type":"paragraph","inlineContent":[{"text":"To request location permission while the app is in use,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"you must provide a usage description in this key."}]}],"content":[{"type":"paragraph","inlineContent":[{"text":"NSLocationWhenInUseUsageDescription","type":"text"}]}]},{"justification":[{"type":"paragraph","inlineContent":[{"text":"That key doesn’t exist.","type":"text"},{"text":" ","type":"text"},{"text":"Use NSLocationWhenInUseUsageDescription.","type":"text"}]}],"isCorrect":false,"content":[{"type":"paragraph","inlineContent":[{"text":"NSLocationPermission","type":"text"}]}]},{"justification":[{"type":"paragraph","inlineContent":[{"type":"text","text":"That’s not the correct key name."},{"type":"text","text":" "},{"type":"text","text":"Use the NSLocation…UsageDescription format."}]}],"isCorrect":false,"content":[{"type":"paragraph","inlineContent":[{"text":"CFBundleLocationUsage","type":"text"}]}]}],"content":[],"type":"multiple-choice","title":[{"inlineContent":[{"type":"text","text":"What Info.plist key must be set to request location permission in iOS?"}],"type":"paragraph"}]},{"type":"multiple-choice","choices":[{"justification":[{"inlineContent":[{"text":"It uses GPS, Wi-Fi, and cellular together for highest accuracy,","type":"text"},{"text":" ","type":"text"},{"text":"but consumes more battery accordingly.","type":"text"}],"type":"paragraph"}],"content":[{"inlineContent":[{"type":"text","text":"Most accurate but high battery consumption"}],"type":"paragraph"}],"isCorrect":true},{"justification":[{"type":"paragraph","inlineContent":[{"type":"text","text":"High accuracy may actually take more time to achieve."}]}],"content":[{"type":"paragraph","inlineContent":[{"text":"Returns location fastest","type":"text"}]}],"isCorrect":false},{"justification":[{"type":"paragraph","inlineContent":[{"text":"For battery efficiency, use kCLLocationAccuracyHundredMeters or","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"kCLLocationAccuracyKilometer."}]}],"content":[{"type":"paragraph","inlineContent":[{"text":"Best battery efficiency","type":"text"}]}],"isCorrect":false}],"content":[],"title":[{"inlineContent":[{"type":"text","text":"What is the characteristic of CLLocationAccuracy.kCLLocationAccuracyBest?"}],"type":"paragraph"}]}]},{"kind":"callToAction","action":{"type":"reference","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/08-Look-Around-Preview","isActive":true,"overridingTitle":"Get started","overridingTitleInlineContent":[{"text":"Get started","type":"text"}]},"featuredEyebrow":"Tutorial","title":"Look Around Preview","abstract":[{"type":"text","text":"Integrate Apple Maps’ Look Around feature into your app."},{"type":"text","text":" "},{"type":"text","text":"Preview restaurant exteriors with 360° panoramas."}]}],"schemaVersion":{"patch":0,"major":0,"minor":3},"metadata":{"categoryPathComponent":"Table-of-Contents","role":"project","category":"Building a Restaurant Map App","title":"User Location Tracking"},"hierarchy":{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents","modules":[{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents\/Ring-1:-MapKit-Basics","projects":[{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/01-Introduction-to-MapKit","sections":[{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/01-Introduction-to-MapKit#The-Evolution-of-MapKit","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/01-Introduction-to-MapKit#Designing-the-Restaurant-Map-App-Structure","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/01-Introduction-to-MapKit#Check-Your-Understanding","kind":"assessment"}]},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/02-Map-Configuration","sections":[{"kind":"task","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/02-Map-Configuration#Understanding-MapCameraPosition"},{"kind":"task","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/02-Map-Configuration#MapCamera-Detailed-Settings"},{"kind":"task","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/02-Map-Configuration#Applying-to-the-Restaurant-Map"},{"kind":"assessment","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/02-Map-Configuration#Check-Your-Understanding"}]}]},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents\/Ring-2:-Displaying-Places","projects":[{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/03-Markers-and-Annotations","sections":[{"kind":"task","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/03-Markers-and-Annotations#Using-Markers"},{"kind":"task","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/03-Markers-and-Annotations#Using-Annotations"},{"kind":"task","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/03-Markers-and-Annotations#Integrating-into-the-Restaurant-Map"},{"kind":"assessment","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/03-Markers-and-Annotations#Check-Your-Understanding"}]},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/04-Custom-Map-Content","sections":[{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/04-Custom-Map-Content#Displaying-Radius-with-MapCircle","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/04-Custom-Map-Content#Displaying-Areas-with-MapPolygon","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/04-Custom-Map-Content#Displaying-Paths-with-MapPolyline","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/04-Custom-Map-Content#Integrating-into-the-Restaurant-Map","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/04-Custom-Map-Content#Check-Your-Understanding","kind":"assessment"}]}]},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents\/Ring-3:-Search-&-Navigation","projects":[{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/05-Local-Search","sections":[{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/05-Local-Search#MKLocalSearch-Basics","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/05-Local-Search#Category-Based-Search","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/05-Local-Search#Implementing-Search-UI","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/05-Local-Search#Check-Your-Understanding","kind":"assessment"}]},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/06-Directions-and-Routes","sections":[{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/06-Directions-and-Routes#MKDirections-Basics","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/06-Directions-and-Routes#Displaying-Routes-on-the-Map","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/06-Directions-and-Routes#Turn-by-Turn-Directions","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/06-Directions-and-Routes#Integrating-into-the-Restaurant-App","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/06-Directions-and-Routes#Check-Your-Understanding","kind":"assessment"}]}]},{"projects":[{"sections":[{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/07-User-Location-Tracking#Setting-Up-Location-Permissions","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/07-User-Location-Tracking#Real-Time-Location-Tracking","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/07-User-Location-Tracking#Displaying-User-Location-on-the-Map","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/07-User-Location-Tracking#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/07-User-Location-Tracking"},{"sections":[{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/08-Look-Around-Preview#Introduction-to-Look-Around","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/08-Look-Around-Preview#LookAroundPreview-View","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/08-Look-Around-Preview#Full-Screen-Look-Around","kind":"task"},{"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/08-Look-Around-Preview#Check-Your-Understanding","kind":"assessment"}],"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/08-Look-Around-Preview"}],"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents\/Ring-4:-Enhancing-User-Experience"},{"projects":[{"sections":[{"kind":"task","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/09-MapKit-JS-Integration#Introduction-to-MapKit-JS"},{"kind":"task","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/09-MapKit-JS-Integration#Displaying-Markers-on-the-Web-Map"},{"kind":"task","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/09-MapKit-JS-Integration#Deep-Link-Integration"},{"kind":"assessment","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/09-MapKit-JS-Integration#Check-Your-Understanding"}],"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/09-MapKit-JS-Integration"},{"sections":[{"kind":"task","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/10-Offline-Maps#Introduction-to-Offline-Maps"},{"kind":"task","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/10-Offline-Maps#Offline-Strategy"},{"kind":"task","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/10-Offline-Maps#Offline-Support-for-Favorites"},{"kind":"assessment","reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/10-Offline-Maps#Check-Your-Understanding"}],"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/10-Offline-Maps"}],"reference":"doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents\/Ring-5:-Expansion-&-Completion"}],"paths":[["doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents","doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents\/$volume","doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents\/Ring-4:-Enhancing-User-Experience"]]},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/higmapkit\/07-user-location-tracking"]}],"identifier":{"url":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/07-User-Location-Tracking","interfaceLanguage":"swift"},"references":{"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/02-Map-Configuration#MapCamera-Detailed-Settings":{"type":"section","kind":"section","title":"MapCamera Detailed Settings","abstract":[{"text":"Control the map’s initial position, zoom level, and rotation angle","type":"text"},{"text":" ","type":"text"},{"text":"using MapCamera and MapCameraPosition.","type":"text"}],"url":"\/tutorials\/higmapkit\/02-map-configuration#MapCamera-Detailed-Settings","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/02-Map-Configuration#MapCamera-Detailed-Settings","role":"pseudoSymbol"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/06-Directions-and-Routes#Displaying-Routes-on-the-Map":{"role":"pseudoSymbol","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/06-Directions-and-Routes#Displaying-Routes-on-the-Map","type":"section","url":"\/tutorials\/higmapkit\/06-directions-and-routes#Displaying-Routes-on-the-Map","title":"Displaying Routes on the Map","kind":"section","abstract":[{"text":"Calculate the route from the current location to a restaurant","type":"text"},{"text":" ","type":"text"},{"text":"and display it on the map using MKDirections.","type":"text"}]},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/01-Introduction-to-MapKit#Designing-the-Restaurant-Map-App-Structure":{"kind":"section","type":"section","title":"Designing the Restaurant Map App Structure","url":"\/tutorials\/higmapkit\/01-introduction-to-mapkit#Designing-the-Restaurant-Map-App-Structure","abstract":[{"text":"Introducing the completely renewed SwiftUI MapKit API in iOS 17.","type":"text"},{"text":" ","type":"text"},{"text":"Create a basic Map view and lay the foundation for your map app.","type":"text"}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/01-Introduction-to-MapKit#Designing-the-Restaurant-Map-App-Structure","role":"pseudoSymbol"},"doc://mapkit.HIGMapKit/tutorials/Table-of-Contents":{"kind":"overview","type":"topic","title":"Building a Restaurant Map App with MapKit","url":"\/tutorials\/table-of-contents","abstract":[{"text":"Build a location-based restaurant map app from scratch using","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Apple MapKit’s SwiftUI API."}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents","role":"overview"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/08-Look-Around-Preview#Full-Screen-Look-Around":{"type":"section","role":"pseudoSymbol","title":"Full-Screen Look Around","abstract":[{"type":"text","text":"Integrate Apple Maps’ Look Around feature into your app."},{"type":"text","text":" "},{"text":"Preview restaurant exteriors with 360° panoramas.","type":"text"}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/08-Look-Around-Preview#Full-Screen-Look-Around","url":"\/tutorials\/higmapkit\/08-look-around-preview#Full-Screen-Look-Around","kind":"section"},"07-location-manager.swift":{"identifier":"07-location-manager.swift","highlights":[],"syntax":"swift","fileType":"swift","fileName":"LocationManager.swift","type":"file","content":["import CoreLocation","import SwiftUI","","@MainActor","class LocationManager: NSObject, ObservableObject {","    @Published var location: CLLocation?","    @Published var authorizationStatus: CLAuthorizationStatus = .notDetermined","    ","    private let manager = CLLocationManager()","    ","    override init() {","        super.init()","        manager.delegate = self","    }","    ","    \/\/\/ 위치 권한 요청","    func requestAuthorization() {","        manager.requestWhenInUseAuthorization()","    }","}","","\/\/ MARK: - CLLocationManagerDelegate","extension LocationManager: CLLocationManagerDelegate {","    nonisolated func locationManagerDidChangeAuthorization(_ manager: CLLocationManager) {","        Task { @MainActor in","            self.authorizationStatus = manager.authorizationStatus","            ","            \/\/ 권한 허용 시 위치 업데이트 시작","            if manager.authorizationStatus == .authorizedWhenInUse ||","               manager.authorizationStatus == .authorizedAlways {","                manager.startUpdatingLocation()","            }","        }","    }","    ","    nonisolated func locationManager(_ manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) {","        Task { @MainActor in","            self.location = locations.last","        }","    }","}"]},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/06-Directions-and-Routes#Integrating-into-the-Restaurant-App":{"type":"section","role":"pseudoSymbol","title":"Integrating into the Restaurant App","abstract":[{"text":"Calculate the route from the current location to a restaurant","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and display it on the map using MKDirections."}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/06-Directions-and-Routes#Integrating-into-the-Restaurant-App","url":"\/tutorials\/higmapkit\/06-directions-and-routes#Integrating-into-the-Restaurant-App","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/Table-of-Contents/Ring-3:-Search-&-Navigation":{"type":"topic","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents\/Ring-3:-Search-&-Navigation","title":"Ring 3: Search & Navigation","role":"article","abstract":[],"url":"\/tutorials\/table-of-contents\/ring-3:-search-&-navigation","kind":"article"},"07-battery-optimization.swift":{"identifier":"07-battery-optimization.swift","highlights":[{"line":4},{"line":5},{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13},{"line":15},{"line":16},{"line":17},{"line":19},{"line":20},{"line":21},{"line":22},{"line":25},{"line":26},{"line":27},{"line":28},{"line":30},{"line":31},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39}],"content":["import CoreLocation","","extension LocationManager {","    \/\/\/ 배터리 최적화된 위치 추적","    func startOptimizedTracking() {","        \/\/ 활동 유형 설정 - 시스템이 이동 패턴을 예측","        manager.activityType = .fitness","        \/\/ 옵션:","        \/\/ .other            - 기본값","        \/\/ .automotiveNavigation - 차량 네비게이션","        \/\/ .fitness          - 걷기, 달리기","        \/\/ .otherNavigation  - 기타 네비게이션","        \/\/ .airborne         - 항공","        ","        \/\/ 중요 위치 변경만 모니터링 (배터리 효율)","        manager.startMonitoringSignificantLocationChanges()","        \/\/ 대신 startUpdatingLocation() 사용하지 않음","        ","        \/\/ 또는: 적당한 정확도 + 거리 필터","        manager.desiredAccuracy = kCLLocationAccuracyHundredMeters","        manager.distanceFilter = 50  \/\/ 50m마다","        manager.startUpdatingLocation()","    }","    ","    \/\/\/ 백그라운드 위치 활성화","    func enableBackgroundLocation() {","        \/\/ Info.plist에 UIBackgroundModes > location 필요","        manager.allowsBackgroundLocationUpdates = true","        ","        \/\/ 백그라운드에서 일시 정지 허용","        manager.pausesLocationUpdatesAutomatically = true","    }","}","","\/\/ 배터리 효율 팁:","\/\/ 1. 필요할 때만 위치 업데이트 시작","\/\/ 2. 적절한 정확도 선택 (항상 Best가 아님)","\/\/ 3. 거리 필터 사용","\/\/ 4. 백그라운드에서는 significantLocationChanges 사용"],"fileType":"swift","fileName":"LocationManager.swift","syntax":"swift","type":"file"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/05-Local-Search":{"type":"topic","role":"project","title":"Local Search (MKLocalSearch)","abstract":[{"type":"text","text":"Search for nearby restaurants using MKLocalSearch."},{"type":"text","text":" "},{"type":"text","text":"Find desired places with natural language queries and category filters."}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/05-Local-Search","url":"\/tutorials\/higmapkit\/05-local-search","kind":"project","estimatedTime":"25min"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/08-Look-Around-Preview#Introduction-to-Look-Around":{"type":"section","role":"pseudoSymbol","title":"Introduction to Look Around","abstract":[{"type":"text","text":"Integrate Apple Maps’ Look Around feature into your app."},{"type":"text","text":" "},{"type":"text","text":"Preview restaurant exteriors with 360° panoramas."}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/08-Look-Around-Preview#Introduction-to-Look-Around","url":"\/tutorials\/higmapkit\/08-look-around-preview#Introduction-to-Look-Around","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/06-Directions-and-Routes#Check-Your-Understanding":{"type":"link","title":"Check Your Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"url":"\/tutorials\/higmapkit\/06-directions-and-routes#Check-Your-Understanding","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/06-Directions-and-Routes#Check-Your-Understanding"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/09-MapKit-JS-Integration#Deep-Link-Integration":{"type":"section","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/09-MapKit-JS-Integration#Deep-Link-Integration","title":"Deep Link Integration","role":"pseudoSymbol","abstract":[{"type":"text","text":"Introducing MapKit JS for using Apple Maps on the web."},{"type":"text","text":" "},{"type":"text","text":"Share restaurant data between your iOS app and website."}],"url":"\/tutorials\/higmapkit\/09-mapkit-js-integration#Deep-Link-Integration","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/02-Map-Configuration#Understanding-MapCameraPosition":{"type":"section","role":"pseudoSymbol","title":"Understanding MapCameraPosition","abstract":[{"type":"text","text":"Control the map’s initial position, zoom level, and rotation angle"},{"type":"text","text":" "},{"type":"text","text":"using MapCamera and MapCameraPosition."}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/02-Map-Configuration#Understanding-MapCameraPosition","url":"\/tutorials\/higmapkit\/02-map-configuration#Understanding-MapCameraPosition","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/08-Look-Around-Preview#LookAroundPreview-View":{"role":"pseudoSymbol","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/08-Look-Around-Preview#LookAroundPreview-View","type":"section","url":"\/tutorials\/higmapkit\/08-look-around-preview#LookAroundPreview-View","title":"LookAroundPreview View","kind":"section","abstract":[{"text":"Integrate Apple Maps’ Look Around feature into your app.","type":"text"},{"text":" ","type":"text"},{"text":"Preview restaurant exteriors with 360° panoramas.","type":"text"}]},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/10-Offline-Maps#Offline-Support-for-Favorites":{"type":"section","role":"pseudoSymbol","title":"Offline Support for Favorites","abstract":[{"type":"text","text":"Utilize iOS 17+ offline map capabilities."},{"type":"text","text":" "},{"type":"text","text":"Enable the restaurant map to work without internet."}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/10-Offline-Maps#Offline-Support-for-Favorites","url":"\/tutorials\/higmapkit\/10-offline-maps#Offline-Support-for-Favorites","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/05-Local-Search#Implementing-Search-UI":{"role":"pseudoSymbol","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/05-Local-Search#Implementing-Search-UI","type":"section","url":"\/tutorials\/higmapkit\/05-local-search#Implementing-Search-UI","title":"Implementing Search UI","kind":"section","abstract":[{"type":"text","text":"Search for nearby restaurants using MKLocalSearch."},{"type":"text","text":" "},{"type":"text","text":"Find desired places with natural language queries and category filters."}]},"07-start-updates.swift":{"fileName":"LocationManager.swift","content":["import CoreLocation","","extension LocationManager {","    \/\/\/ 위치 업데이트 시작","    func startTracking() {","        \/\/ 정확도 설정","        manager.desiredAccuracy = kCLLocationAccuracyBest","        \/\/ 옵션:","        \/\/ kCLLocationAccuracyBestForNavigation - 최고 정확도 (배터리 소모 큼)","        \/\/ kCLLocationAccuracyBest - 높은 정확도","        \/\/ kCLLocationAccuracyNearestTenMeters - 10m 정확도","        \/\/ kCLLocationAccuracyHundredMeters - 100m 정확도","        \/\/ kCLLocationAccuracyKilometer - 1km 정확도","        ","        \/\/ 거리 필터: 이 거리 이상 이동해야 업데이트","        manager.distanceFilter = 10  \/\/ 10m마다 업데이트","        \/\/ kCLDistanceFilterNone - 모든 변화에 업데이트","        ","        \/\/ 업데이트 시작","        manager.startUpdatingLocation()","    }","    ","    \/\/\/ 위치 업데이트 중지","    func stopTracking() {","        manager.stopUpdatingLocation()","    }","}"],"type":"file","highlights":[],"syntax":"swift","identifier":"07-start-updates.swift","fileType":"swift"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/05-Local-Search#MKLocalSearch-Basics":{"type":"section","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/05-Local-Search#MKLocalSearch-Basics","title":"MKLocalSearch Basics","role":"pseudoSymbol","abstract":[{"type":"text","text":"Search for nearby restaurants using MKLocalSearch."},{"type":"text","text":" "},{"type":"text","text":"Find desired places with natural language queries and category filters."}],"url":"\/tutorials\/higmapkit\/05-local-search#MKLocalSearch-Basics","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/04-Custom-Map-Content#Displaying-Radius-with-MapCircle":{"type":"section","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/04-Custom-Map-Content#Displaying-Radius-with-MapCircle","title":"Displaying Radius with MapCircle","role":"pseudoSymbol","abstract":[{"type":"text","text":"Utilize various MapContent like MapCircle, MapPolygon, and MapPolyline to"},{"type":"text","text":" "},{"type":"text","text":"visualize restaurant proximity zones, delivery areas, and more."}],"url":"\/tutorials\/higmapkit\/04-custom-map-content#Displaying-Radius-with-MapCircle","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/02-Map-Configuration":{"type":"topic","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/02-Map-Configuration","title":"Map Configuration","role":"project","estimatedTime":"20min","abstract":[{"type":"text","text":"Control the map’s initial position, zoom level, and rotation angle"},{"type":"text","text":" "},{"type":"text","text":"using MapCamera and MapCameraPosition."}],"url":"\/tutorials\/higmapkit\/02-map-configuration","kind":"project"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/10-Offline-Maps":{"type":"topic","role":"project","title":"Offline Maps","abstract":[{"type":"text","text":"Utilize iOS 17+ offline map capabilities."},{"type":"text","text":" "},{"type":"text","text":"Enable the restaurant map to work without internet."}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/10-Offline-Maps","url":"\/tutorials\/higmapkit\/10-offline-maps","kind":"project","estimatedTime":"15min"},"07-auth-status.swift":{"fileName":"LocationManager.swift","content":["import SwiftUI","import CoreLocation","","struct LocationStatusView: View {","    @StateObject private var locationManager = LocationManager()","    ","    var body: some View {","        VStack(spacing: 20) {","            switch locationManager.authorizationStatus {","            case .notDetermined:","                \/\/ 아직 결정 안 됨 → 권한 요청","                Text(\"위치 권한이 필요합니다\")","                Button(\"위치 권한 허용\") {","                    locationManager.requestAuthorization()","                }","                .buttonStyle(.borderedProminent)","                ","            case .restricted:","                \/\/ 제한됨 (자녀 보호 등)","                Text(\"위치 서비스가 제한되어 있습니다\")","                    .foregroundStyle(.secondary)","                ","            case .denied:","                \/\/ 거부됨 → 설정으로 안내","                Text(\"위치 권한이 거부되었습니다\")","                Button(\"설정에서 권한 변경\") {","                    openSettings()","                }","                .buttonStyle(.bordered)","                ","            case .authorizedWhenInUse, .authorizedAlways:","                \/\/ 허용됨 → 정상 사용","                Text(\"위치 권한 허용됨 ✓\")","                    .foregroundStyle(.green)","                ","                if let location = locationManager.location {","                    Text(\"현재 위치: \\(location.coordinate.latitude), \\(location.coordinate.longitude)\")","                        .font(.caption)","                }","                ","            @unknown default:","                Text(\"알 수 없는 상태\")","            }","        }","        .padding()","    }","    ","    private func openSettings() {","        if let url = URL(string: UIApplication.openSettingsURLString) {","            UIApplication.shared.open(url)","        }","    }","}"],"type":"file","highlights":[{"line":2},{"line":4},{"line":5},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":45},{"line":48},{"line":49},{"line":50}],"syntax":"swift","identifier":"07-auth-status.swift","fileType":"swift"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/03-Markers-and-Annotations":{"type":"topic","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/03-Markers-and-Annotations","title":"Markers and Annotations","role":"project","estimatedTime":"20min","abstract":[{"text":"Learn about Markers and Annotations for displaying restaurant locations on the map.","type":"text"},{"text":" ","type":"text"},{"text":"Cover everything from system-provided styles to custom designs.","type":"text"}],"url":"\/tutorials\/higmapkit\/03-markers-and-annotations","kind":"project"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/07-User-Location-Tracking#Real-Time-Location-Tracking":{"type":"section","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/07-User-Location-Tracking#Real-Time-Location-Tracking","title":"Real-Time Location Tracking","role":"pseudoSymbol","abstract":[{"type":"text","text":"Track the user’s real-time location using CLLocationManager and"},{"type":"text","text":" "},{"type":"text","text":"display it on the map. Handle permission requests and background location updates."}],"url":"\/tutorials\/higmapkit\/07-user-location-tracking#Real-Time-Location-Tracking","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/02-Map-Configuration#Applying-to-the-Restaurant-Map":{"kind":"section","type":"section","title":"Applying to the Restaurant Map","abstract":[{"text":"Control the map’s initial position, zoom level, and rotation angle","type":"text"},{"text":" ","type":"text"},{"text":"using MapCamera and MapCameraPosition.","type":"text"}],"url":"\/tutorials\/higmapkit\/02-map-configuration#Applying-to-the-Restaurant-Map","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/02-Map-Configuration#Applying-to-the-Restaurant-Map","role":"pseudoSymbol"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/03-Markers-and-Annotations#Integrating-into-the-Restaurant-Map":{"role":"pseudoSymbol","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/03-Markers-and-Annotations#Integrating-into-the-Restaurant-Map","type":"section","url":"\/tutorials\/higmapkit\/03-markers-and-annotations#Integrating-into-the-Restaurant-Map","title":"Integrating into the Restaurant Map","kind":"section","abstract":[{"text":"Learn about Markers and Annotations for displaying restaurant locations on the map.","type":"text"},{"text":" ","type":"text"},{"text":"Cover everything from system-provided styles to custom designs.","type":"text"}]},"07-user-annotation.swift":{"identifier":"07-user-annotation.swift","highlights":[],"content":["import SwiftUI","import MapKit","","struct MapView: View {","    @StateObject private var locationManager = LocationManager()","    let restaurants = Restaurant.samples","    ","    var body: some View {","        Map {","            \/\/ 사용자 위치 표시 (파란 점)","            UserAnnotation()","            ","            \/\/ 맛집 마커","            ForEach(restaurants) { restaurant in","                Marker(restaurant.name, coordinate: restaurant.coordinate)","                    .tint(restaurant.category.color)","            }","        }","        .mapControls {","            \/\/ 내 위치 버튼 (기본 제공)","            MapUserLocationButton()","            ","            \/\/ 나침반","            MapCompass()","            ","            \/\/ 축척","            MapScaleView()","        }","        .onAppear {","            locationManager.requestAuthorization()","        }","    }","}","","\/\/ UserAnnotation 커스터마이징:","\/\/ - 기본 파란 점 + 정확도 원이 표시됨","\/\/ - 위치 권한이 없으면 표시되지 않음"],"fileType":"swift","fileName":"MapView.swift","syntax":"swift","type":"file"},"07-info-plist.swift":{"fileName":"Info.plist","content":["\/\/ Info.plist 설정 (XML 형식)","\/\/ Xcode에서 Info 탭에서 추가하거나 직접 편집","","\/*"," <key>NSLocationWhenInUseUsageDescription<\/key>"," <string>주변 맛집을 찾고 현재 위치를 지도에 표시하기 위해 위치 정보가 필요합니다.<\/string>"," "," \/\/ 백그라운드 위치 사용 시 추가"," <key>NSLocationAlwaysAndWhenInUseUsageDescription<\/key>"," <string>맛집까지 실시간 길안내를 위해 백그라운드에서도 위치 정보가 필요합니다.<\/string>","*\/","","\/\/ 프로젝트 설정에서 추가하는 방법:","\/\/ 1. Xcode에서 프로젝트 선택","\/\/ 2. TARGETS > [앱 이름] > Info 탭","\/\/ 3. Custom iOS Target Properties에서 + 버튼","\/\/ 4. \"Privacy - Location When In Use Usage Description\" 검색 후 추가","\/\/ 5. 사용자에게 보여줄 설명 입력","","\/\/ 중요: 이 설명은 실제로 사용자에게 표시됩니다.","\/\/ 앱이 왜 위치 정보가 필요한지 명확하게 설명하세요."],"type":"file","highlights":[],"syntax":"plist","identifier":"07-info-plist.swift","fileType":"plist"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/07-User-Location-Tracking#Displaying-User-Location-on-the-Map":{"role":"pseudoSymbol","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/07-User-Location-Tracking#Displaying-User-Location-on-the-Map","type":"section","url":"\/tutorials\/higmapkit\/07-user-location-tracking#Displaying-User-Location-on-the-Map","title":"Displaying User Location on the Map","kind":"section","abstract":[{"text":"Track the user’s real-time location using CLLocationManager and","type":"text"},{"text":" ","type":"text"},{"text":"display it on the map. Handle permission requests and background location updates.","type":"text"}]},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/02-Map-Configuration#Check-Your-Understanding":{"title":"Check Your Understanding","url":"\/tutorials\/higmapkit\/02-map-configuration#Check-Your-Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/02-Map-Configuration#Check-Your-Understanding","type":"link"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/03-Markers-and-Annotations#Check-Your-Understanding":{"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/03-Markers-and-Annotations#Check-Your-Understanding","title":"Check Your Understanding","type":"link","url":"\/tutorials\/higmapkit\/03-markers-and-annotations#Check-Your-Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/01-Introduction-to-MapKit#The-Evolution-of-MapKit":{"title":"The Evolution of MapKit","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/01-Introduction-to-MapKit#The-Evolution-of-MapKit","type":"section","abstract":[{"text":"Introducing the completely renewed SwiftUI MapKit API in iOS 17.","type":"text"},{"text":" ","type":"text"},{"text":"Create a basic Map view and lay the foundation for your map app.","type":"text"}],"kind":"section","role":"pseudoSymbol","url":"\/tutorials\/higmapkit\/01-introduction-to-mapkit#The-Evolution-of-MapKit"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/07-User-Location-Tracking":{"type":"topic","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/07-User-Location-Tracking","title":"User Location Tracking","role":"project","estimatedTime":"20min","abstract":[{"type":"text","text":"Track the user’s real-time location using CLLocationManager and"},{"text":" ","type":"text"},{"text":"display it on the map. Handle permission requests and background location updates.","type":"text"}],"url":"\/tutorials\/higmapkit\/07-user-location-tracking","kind":"project"},"doc://mapkit.HIGMapKit/tutorials/Table-of-Contents/Ring-1:-MapKit-Basics":{"kind":"article","type":"topic","title":"Ring 1: MapKit Basics","url":"\/tutorials\/table-of-contents\/ring-1:-mapkit-basics","abstract":[],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents\/Ring-1:-MapKit-Basics","role":"article"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/04-Custom-Map-Content":{"type":"topic","role":"project","title":"Custom MapContent","abstract":[{"text":"Utilize various MapContent like MapCircle, MapPolygon, and MapPolyline to","type":"text"},{"text":" ","type":"text"},{"text":"visualize restaurant proximity zones, delivery areas, and more.","type":"text"}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/04-Custom-Map-Content","url":"\/tutorials\/higmapkit\/04-custom-map-content","kind":"project","estimatedTime":"20min"},"07-follow-user.swift":{"fileName":"MapView.swift","content":["import SwiftUI","import MapKit","","struct MapView: View {","    @State private var position: MapCameraPosition = .automatic","    @StateObject private var locationManager = LocationManager()","    ","    var body: some View {","        ZStack(alignment: .bottomTrailing) {","            Map(position: $position) {","                UserAnnotation()","            }","            ","            \/\/ 현재 위치로 이동 버튼","            VStack {","                Button {","                    moveToUserLocation()","                } label: {","                    Image(systemName: \"location.fill\")","                        .padding()","                        .background(.ultraThinMaterial)","                        .clipShape(Circle())","                }","                ","                \/\/ 방향까지 추적하는 버튼","                Button {","                    followUserWithHeading()","                } label: {","                    Image(systemName: \"location.north.line.fill\")","                        .padding()","                        .background(.ultraThinMaterial)","                        .clipShape(Circle())","                }","            }","            .padding()","        }","    }","    ","    private func moveToUserLocation() {","        withAnimation(.easeInOut) {","            \/\/ 사용자 위치 중심으로 이동","            position = .userLocation(fallback: .automatic)","        }","    }","    ","    private func followUserWithHeading() {","        withAnimation(.easeInOut) {","            \/\/ 사용자 위치 + 방향 추적","            position = .userLocation(","                followsHeading: true,  \/\/ 사용자가 향하는 방향으로 지도 회전","                fallback: .automatic","            )","        }","    }","}"],"type":"file","highlights":[{"line":5},{"line":9},{"line":10},{"line":11},{"line":12},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":35},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48},{"line":49},{"line":50},{"line":51},{"line":52}],"syntax":"swift","identifier":"07-follow-user.swift","fileType":"swift"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/05-Local-Search#Category-Based-Search":{"kind":"section","type":"section","title":"Category-Based Search","abstract":[{"text":"Search for nearby restaurants using MKLocalSearch.","type":"text"},{"text":" ","type":"text"},{"text":"Find desired places with natural language queries and category filters.","type":"text"}],"url":"\/tutorials\/higmapkit\/05-local-search#Category-Based-Search","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/05-Local-Search#Category-Based-Search","role":"pseudoSymbol"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/08-Look-Around-Preview":{"kind":"project","type":"topic","title":"Look Around Preview","estimatedTime":"15min","abstract":[{"type":"text","text":"Integrate Apple Maps’ Look Around feature into your app."},{"text":" ","type":"text"},{"text":"Preview restaurant exteriors with 360° panoramas.","type":"text"}],"url":"\/tutorials\/higmapkit\/08-look-around-preview","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/08-Look-Around-Preview","role":"project"},"doc://mapkit.HIGMapKit/tutorials/Table-of-Contents/Ring-2:-Displaying-Places":{"type":"topic","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents\/Ring-2:-Displaying-Places","title":"Ring 2: Displaying Places","role":"article","abstract":[],"url":"\/tutorials\/table-of-contents\/ring-2:-displaying-places","kind":"article"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/04-Custom-Map-Content#Integrating-into-the-Restaurant-Map":{"type":"section","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/04-Custom-Map-Content#Integrating-into-the-Restaurant-Map","title":"Integrating into the Restaurant Map","role":"pseudoSymbol","abstract":[{"text":"Utilize various MapContent like MapCircle, MapPolygon, and MapPolyline to","type":"text"},{"text":" ","type":"text"},{"text":"visualize restaurant proximity zones, delivery areas, and more.","type":"text"}],"url":"\/tutorials\/higmapkit\/04-custom-map-content#Integrating-into-the-Restaurant-Map","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/09-MapKit-JS-Integration#Check-Your-Understanding":{"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/09-MapKit-JS-Integration#Check-Your-Understanding","type":"link","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"url":"\/tutorials\/higmapkit\/09-mapkit-js-integration#Check-Your-Understanding"},"doc://mapkit.HIGMapKit/tutorials/Table-of-Contents/Ring-4:-Enhancing-User-Experience":{"title":"Ring 4: Enhancing User Experience","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents\/Ring-4:-Enhancing-User-Experience","type":"topic","kind":"article","abstract":[],"role":"article","url":"\/tutorials\/table-of-contents\/ring-4:-enhancing-user-experience"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/09-MapKit-JS-Integration#Introduction-to-MapKit-JS":{"type":"section","role":"pseudoSymbol","title":"Introduction to MapKit JS","abstract":[{"type":"text","text":"Introducing MapKit JS for using Apple Maps on the web."},{"type":"text","text":" "},{"text":"Share restaurant data between your iOS app and website.","type":"text"}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/09-MapKit-JS-Integration#Introduction-to-MapKit-JS","url":"\/tutorials\/higmapkit\/09-mapkit-js-integration#Introduction-to-MapKit-JS","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/01-Introduction-to-MapKit#Check-Your-Understanding":{"url":"\/tutorials\/higmapkit\/01-introduction-to-mapkit#Check-Your-Understanding","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/01-Introduction-to-MapKit#Check-Your-Understanding","type":"link","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/10-Offline-Maps#Check-Your-Understanding":{"title":"Check Your Understanding","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/10-Offline-Maps#Check-Your-Understanding","url":"\/tutorials\/higmapkit\/10-offline-maps#Check-Your-Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/04-Custom-Map-Content#Check-Your-Understanding":{"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/04-Custom-Map-Content#Check-Your-Understanding","type":"link","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}],"url":"\/tutorials\/higmapkit\/04-custom-map-content#Check-Your-Understanding"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/06-Directions-and-Routes#MKDirections-Basics":{"title":"MKDirections Basics","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/06-Directions-and-Routes#MKDirections-Basics","abstract":[{"text":"Calculate the route from the current location to a restaurant","type":"text"},{"text":" ","type":"text"},{"text":"and display it on the map using MKDirections.","type":"text"}],"kind":"section","type":"section","role":"pseudoSymbol","url":"\/tutorials\/higmapkit\/06-directions-and-routes#MKDirections-Basics"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/01-Introduction-to-MapKit":{"type":"topic","role":"project","title":"Introduction to MapKit & SwiftUI Map","abstract":[{"text":"Introducing the completely renewed SwiftUI MapKit API in iOS 17.","type":"text"},{"text":" ","type":"text"},{"text":"Create a basic Map view and lay the foundation for your map app.","type":"text"}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/01-Introduction-to-MapKit","url":"\/tutorials\/higmapkit\/01-introduction-to-mapkit","kind":"project","estimatedTime":"15min"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/10-Offline-Maps#Offline-Strategy":{"kind":"section","type":"section","title":"Offline Strategy","abstract":[{"text":"Utilize iOS 17+ offline map capabilities.","type":"text"},{"text":" ","type":"text"},{"text":"Enable the restaurant map to work without internet.","type":"text"}],"url":"\/tutorials\/higmapkit\/10-offline-maps#Offline-Strategy","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/10-Offline-Maps#Offline-Strategy","role":"pseudoSymbol"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/04-Custom-Map-Content#Displaying-Areas-with-MapPolygon":{"type":"section","role":"pseudoSymbol","title":"Displaying Areas with MapPolygon","abstract":[{"type":"text","text":"Utilize various MapContent like MapCircle, MapPolygon, and MapPolyline to"},{"type":"text","text":" "},{"type":"text","text":"visualize restaurant proximity zones, delivery areas, and more."}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/04-Custom-Map-Content#Displaying-Areas-with-MapPolygon","url":"\/tutorials\/higmapkit\/04-custom-map-content#Displaying-Areas-with-MapPolygon","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/08-Look-Around-Preview#Check-Your-Understanding":{"url":"\/tutorials\/higmapkit\/08-look-around-preview#Check-Your-Understanding","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/08-Look-Around-Preview#Check-Your-Understanding","type":"link","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/03-Markers-and-Annotations#Using-Annotations":{"type":"section","kind":"section","title":"Using Annotations","abstract":[{"text":"Learn about Markers and Annotations for displaying restaurant locations on the map.","type":"text"},{"text":" ","type":"text"},{"text":"Cover everything from system-provided styles to custom designs.","type":"text"}],"url":"\/tutorials\/higmapkit\/03-markers-and-annotations#Using-Annotations","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/03-Markers-and-Annotations#Using-Annotations","role":"pseudoSymbol"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/07-User-Location-Tracking#Check-Your-Understanding":{"title":"Check Your Understanding","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/07-User-Location-Tracking#Check-Your-Understanding","url":"\/tutorials\/higmapkit\/07-user-location-tracking#Check-Your-Understanding","titleInlineContent":[{"type":"text","text":"Check Your Understanding"}],"type":"link"},"07-nearby-search.swift":{"fileName":"MapView.swift","content":["import SwiftUI","import MapKit","","struct MapView: View {","    @StateObject private var locationManager = LocationManager()","    @State private var nearbyRestaurants: [Restaurant] = []","    @State private var position: MapCameraPosition = .automatic","    ","    private let searchService = SearchService()","    ","    var body: some View {","        Map(position: $position) {","            UserAnnotation()","            ","            ForEach(nearbyRestaurants) { restaurant in","                Marker(restaurant.name, coordinate: restaurant.coordinate)","                    .tint(restaurant.category.color)","            }","        }","        .onChange(of: locationManager.location) { _, newLocation in","            \/\/ 위치 변경 시 주변 맛집 검색","            if let location = newLocation {","                searchNearbyRestaurants(around: location.coordinate)","            }","        }","        .onAppear {","            locationManager.requestAuthorization()","        }","    }","    ","    \/\/\/ 현재 위치 주변 500m 내 맛집 검색","    private func searchNearbyRestaurants(around coordinate: CLLocationCoordinate2D) {","        let region = MKCoordinateRegion(","            center: coordinate,","            latitudinalMeters: 1000,   \/\/ 500m 반경","            longitudinalMeters: 1000","        )","        ","        Task {","            do {","                let items = try await searchService.searchFoodPlaces(region: region)","                nearbyRestaurants = searchService.convertToRestaurants(items)","                print(\"주변 맛집 \\(nearbyRestaurants.count)개 발견\")","            } catch {","                print(\"검색 오류: \\(error)\")","            }","        }","    }","}"],"type":"file","highlights":[{"line":6},{"line":7},{"line":9},{"line":10},{"line":12},{"line":13},{"line":15},{"line":16},{"line":17},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":26},{"line":27},{"line":28},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46}],"syntax":"swift","identifier":"07-nearby-search.swift","fileType":"swift"},"07-location-delegate.swift":{"fileName":"LocationManager.swift","content":["import CoreLocation","import SwiftUI","","extension LocationManager {","    \/\/ 위치 업데이트 델리게이트 (이미 CLLocationManagerDelegate에 구현)","    ","    nonisolated func locationManager(","        _ manager: CLLocationManager,","        didUpdateLocations locations: [CLLocation]","    ) {","        \/\/ 가장 최신 위치 사용","        guard let newLocation = locations.last else { return }","        ","        \/\/ 정확도 필터링 (필요시)","        guard newLocation.horizontalAccuracy < 100 else {","            return  \/\/ 100m 이상 오차는 무시","        }","        ","        Task { @MainActor in","            self.location = newLocation","        }","    }","    ","    nonisolated func locationManager(","        _ manager: CLLocationManager,","        didFailWithError error: Error","    ) {","        print(\"위치 오류: \\(error.localizedDescription)\")","        ","        \/\/ CLError 타입별 처리","        if let clError = error as? CLError {","            switch clError.code {","            case .denied:","                print(\"위치 권한이 거부됨\")","            case .locationUnknown:","                print(\"위치를 알 수 없음\")","            default:","                print(\"기타 오류\")","            }","        }","    }","}"],"type":"file","highlights":[{"line":2},{"line":5},{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":14},{"line":15},{"line":16},{"line":17},{"line":19},{"line":20},{"line":21},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40}],"syntax":"swift","identifier":"07-location-delegate.swift","fileType":"swift"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/03-Markers-and-Annotations#Using-Markers":{"type":"section","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/03-Markers-and-Annotations#Using-Markers","title":"Using Markers","role":"pseudoSymbol","abstract":[{"text":"Learn about Markers and Annotations for displaying restaurant locations on the map.","type":"text"},{"text":" ","type":"text"},{"text":"Cover everything from system-provided styles to custom designs.","type":"text"}],"url":"\/tutorials\/higmapkit\/03-markers-and-annotations#Using-Markers","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/09-MapKit-JS-Integration#Displaying-Markers-on-the-Web-Map":{"type":"section","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/09-MapKit-JS-Integration#Displaying-Markers-on-the-Web-Map","title":"Displaying Markers on the Web Map","role":"pseudoSymbol","abstract":[{"type":"text","text":"Introducing MapKit JS for using Apple Maps on the web."},{"type":"text","text":" "},{"type":"text","text":"Share restaurant data between your iOS app and website."}],"url":"\/tutorials\/higmapkit\/09-mapkit-js-integration#Displaying-Markers-on-the-Web-Map","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/06-Directions-and-Routes":{"type":"topic","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/06-Directions-and-Routes","title":"Directions & Routes (MKDirections)","role":"project","estimatedTime":"25min","abstract":[{"type":"text","text":"Calculate the route from the current location to a restaurant"},{"type":"text","text":" "},{"type":"text","text":"and display it on the map using MKDirections."}],"url":"\/tutorials\/higmapkit\/06-directions-and-routes","kind":"project"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/10-Offline-Maps#Introduction-to-Offline-Maps":{"type":"section","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/10-Offline-Maps#Introduction-to-Offline-Maps","title":"Introduction to Offline Maps","role":"pseudoSymbol","abstract":[{"type":"text","text":"Utilize iOS 17+ offline map capabilities."},{"type":"text","text":" "},{"type":"text","text":"Enable the restaurant map to work without internet."}],"url":"\/tutorials\/higmapkit\/10-offline-maps#Introduction-to-Offline-Maps","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/09-MapKit-JS-Integration":{"type":"topic","role":"project","title":"MapKit JS Integration","abstract":[{"type":"text","text":"Introducing MapKit JS for using Apple Maps on the web."},{"text":" ","type":"text"},{"text":"Share restaurant data between your iOS app and website.","type":"text"}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/09-MapKit-JS-Integration","url":"\/tutorials\/higmapkit\/09-mapkit-js-integration","kind":"project","estimatedTime":"20min"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/04-Custom-Map-Content#Displaying-Paths-with-MapPolyline":{"type":"section","role":"pseudoSymbol","title":"Displaying Paths with MapPolyline","abstract":[{"type":"text","text":"Utilize various MapContent like MapCircle, MapPolygon, and MapPolyline to"},{"type":"text","text":" "},{"type":"text","text":"visualize restaurant proximity zones, delivery areas, and more."}],"identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/04-Custom-Map-Content#Displaying-Paths-with-MapPolyline","url":"\/tutorials\/higmapkit\/04-custom-map-content#Displaying-Paths-with-MapPolyline","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/06-Directions-and-Routes#Turn-by-Turn-Directions":{"type":"section","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/06-Directions-and-Routes#Turn-by-Turn-Directions","title":"Turn-by-Turn Directions","role":"pseudoSymbol","abstract":[{"type":"text","text":"Calculate the route from the current location to a restaurant"},{"type":"text","text":" "},{"type":"text","text":"and display it on the map using MKDirections."}],"url":"\/tutorials\/higmapkit\/06-directions-and-routes#Turn-by-Turn-Directions","kind":"section"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/07-User-Location-Tracking#Setting-Up-Location-Permissions":{"kind":"section","type":"section","title":"Setting Up Location Permissions","abstract":[{"text":"Track the user’s real-time location using CLLocationManager and","type":"text"},{"text":" ","type":"text"},{"text":"display it on the map. Handle permission requests and background location updates.","type":"text"}],"url":"\/tutorials\/higmapkit\/07-user-location-tracking#Setting-Up-Location-Permissions","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/07-User-Location-Tracking#Setting-Up-Location-Permissions","role":"pseudoSymbol"},"doc://mapkit.HIGMapKit/tutorials/HIGMapKit/05-Local-Search#Check-Your-Understanding":{"type":"link","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/HIGMapKit\/05-Local-Search#Check-Your-Understanding","url":"\/tutorials\/higmapkit\/05-local-search#Check-Your-Understanding","title":"Check Your Understanding","titleInlineContent":[{"text":"Check Your Understanding","type":"text"}]},"doc://mapkit.HIGMapKit/tutorials/Table-of-Contents/Ring-5:-Expansion-&-Completion":{"type":"topic","identifier":"doc:\/\/mapkit.HIGMapKit\/tutorials\/Table-of-Contents\/Ring-5:-Expansion-&-Completion","title":"Ring 5: Expansion & Completion","role":"article","abstract":[],"url":"\/tutorials\/table-of-contents\/ring-5:-expansion-&-completion","kind":"article"}}}