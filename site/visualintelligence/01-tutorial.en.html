<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ğŸ” Visual Intelligence â€” HIG Lab</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=JetBrains+Mono&display=swap" rel="stylesheet">
<style>
:root{--bg:#fafafa;--text:#1d1d1f;--text-2:#6e6e73;--accent:#0071e3;--code-bg:#1e1e2e;--border:#d2d2d7}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);line-height:1.8}
.top-bar{position:sticky;top:0;z-index:100;background:rgba(250,250,250,0.9);backdrop-filter:blur(20px);border-bottom:1px solid var(--border)}
.top-bar-inner{max-width:800px;margin:0 auto;padding:12px 24px;display:flex;justify-content:space-between}
.top-logo{font-size:16px;font-weight:700;text-decoration:none;color:var(--text)}.top-logo span{color:var(--accent)}
article{max-width:800px;margin:0 auto;padding:48px 24px 120px}
h1{font-size:clamp(28px,5vw,40px);font-weight:900;margin-bottom:16px;letter-spacing:-1px}
h2{font-size:24px;font-weight:800;margin:48px 0 16px}p{margin-bottom:16px}
.subtitle{font-size:18px;color:var(--text-2);margin-bottom:32px}
.code-block{background:var(--code-bg);border-radius:12px;margin:20px 0;overflow:hidden}
.code-header{padding:12px 16px;border-bottom:1px solid rgba(255,255,255,0.1);font-size:12px;color:#6e6e73;font-weight:600}
pre.code-body{margin:0;padding:16px;font-family:'JetBrains Mono',monospace;font-size:13px;color:#cdd6f4;white-space:pre;overflow-x:auto}
.kw{color:#cba6f7}.type{color:#89b4fa}.str{color:#a6e3a1}.comment{color:#6c7086}
.badge{display:inline-block;padding:4px 12px;border-radius:16px;font-size:13px;font-weight:600;margin:0 4px 8px 0}
.badge.ios{background:#0071e3;color:#fff}.badge.new{background:#34c759;color:#fff}
ul{margin:16px 0 16px 24px}li{margin:8px 0}
.info-box{background:#f5f5f7;border-left:4px solid var(--accent);padding:16px;margin:24px 0;border-radius:8px}
</style></head>
<body>
<div class="top-bar"><div class="top-bar-inner"><a href="../index.html" class="top-logo">HIG <span>Lab</span></a><a href="01-tutorial.html" class="lang-toggle" style="font-size:12px;font-weight:600;color:#0071e3;text-decoration:none;padding:4px 10px;border:1.5px solid #0071e3;border-radius:12px;">ğŸŒ KO</a></div></div>
<article>
<h1>ğŸ” Visual Intelligence</h1>
<p class="subtitle">ì¹´ë©”ë¼ ë²„íŠ¼ìœ¼ë¡œ ì„¸ìƒì„ ì´í•´í•˜ëŠ” AI ì‹œê° ë¶„ì„</p>

<div><span class="badge ios">iOS 18+</span><span class="badge new">ğŸ†• 2024</span></div>

<h2>âœ¨ Visual Intelligence?</h2>
<p>Visual Intelligence is a groundbreaking visual AI framework introduced in iOS 18. Long-press the Camera Control button to analyze your surroundings in real-time â€” object recognition, text extraction, place info, product search and more. Integrated with Apple Intelligence, it processes quickly and accurately on-device while fully protecting user privacy.</p>

<div class="info-box">
<strong>ğŸ’¡ Key Features:</strong> Real-time Object Recognition Â· Text Extraction (OCR) Â· Place/Landmark Recognition Â· Product Search Â· QR/Barcode Scanning Â· Translation Â· On-Device Processing Â· Camera Control Integration
</div>

<h2>ğŸ“¸ 1. Basic Setup</h2>
<p>Initialize the Visual Intelligence service and request permissions.</p>

<div class="code-block">
<div class="code-header">VisualIntelligenceManager.swift â€” Basic Setup</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">AVFoundation</span>

<span class="comment">// Visual Intelligence ì„œë¹„ìŠ¤ ê´€ë¦¬ì</span>
<span class="kw">@Observable</span>
<span class="kw">class</span> <span class="type">VisualIntelligenceManager</span> {
    <span class="kw">var</span> isAuthorized = <span class="kw">false</span>
    <span class="kw">var</span> isAnalyzing = <span class="kw">false</span>
    <span class="kw">var</span> currentResult: <span class="type">AnalysisResult</span>?

    <span class="comment">// ì¹´ë©”ë¼ ê¶Œí•œ ìš”ì²­</span>
    <span class="kw">func</span> requestAuthorization() <span class="kw">async</span> -> <span class="type">Bool</span> {
        <span class="kw">let</span> status = <span class="kw">await</span> <span class="type">AVCaptureDevice</span>.requestAccess(for: .video)
        <span class="kw">await</span> <span class="type">MainActor</span>.run {
            isAuthorized = status
        }
        <span class="kw">return</span> status
    }

    <span class="comment">// Visual Intelligence ì§€ì› í™•ì¸</span>
    <span class="kw">func</span> isSupported() -> <span class="type">Bool</span> {
        <span class="comment">// iOS 18+ ë° Camera Control ì§€ì› ê¸°ê¸°</span>
        <span class="kw">if</span> #available(iOS <span class="str">18.0</span>, *) {
            <span class="kw">return</span> <span class="kw">true</span>
        }
        <span class="kw">return</span> <span class="kw">false</span>
    }
}

<span class="comment">// ë¶„ì„ ê²°ê³¼ íƒ€ì…</span>
<span class="kw">struct</span> <span class="type">AnalysisResult</span>: <span class="type">Identifiable</span> {
    <span class="kw">let</span> id = <span class="type">UUID</span>()
    <span class="kw">let</span> type: <span class="type">AnalysisType</span>
    <span class="kw">let</span> data: <span class="type">Any</span>
    <span class="kw">let</span> timestamp = <span class="type">Date</span>()
}

<span class="kw">enum</span> <span class="type">AnalysisType</span> {
    <span class="kw">case</span> objectDetection
    <span class="kw">case</span> textExtraction
    <span class="kw">case</span> placeRecognition
    <span class="kw">case</span> productSearch
    <span class="kw">case</span> barcodeScanning
}</pre>
</div>

<h2>ğŸ‘ï¸ 2. ì‹¤ì‹œê°„ ê°ì²´ ì¸ì‹</h2>
<p>Detect and classify objects in real-time through the camera.</p>

<div class="code-block">
<div class="code-header">ObjectDetectionView.swift â€” Object Detection</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">Vision</span>

<span class="kw">struct</span> <span class="type">ObjectDetectionView</span>: <span class="type">View</span> {
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> manager = <span class="type">VisualIntelligenceManager</span>()
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> detectedObjects: [<span class="type">DetectedObject</span>] = []
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> showCamera = <span class="kw">false</span>

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">VStack</span>(spacing: <span class="str">20</span>) {
            <span class="comment">// ì¹´ë©”ë¼ í”„ë¦¬ë·°</span>
            <span class="type">ZStack</span> {
                <span class="type">Rectangle</span>()
                    .fill(<span class="type">Color</span>.black)
                    .aspectRatio(<span class="str">3</span>/<span class="str">4</span>, contentMode: .fit)
                    .cornerRadius(<span class="str">12</span>)

                <span class="kw">if</span> manager.isAnalyzing {
                    <span class="type">ProgressView</span>(<span class="str">"ë¶„ì„ ì¤‘..."</span>)
                        .tint(.white)
                }

                <span class="comment">// ê°ì§€ëœ ê°ì²´ ì˜¤ë²„ë ˆì´</span>
                <span class="type">ForEach</span>(detectedObjects) { obj <span class="kw">in</span>
                    <span class="type">Rectangle</span>()
                        .stroke(<span class="type">Color</span>.green, lineWidth: <span class="str">2</span>)
                        .frame(width: obj.bounds.width, height: obj.bounds.height)
                        .position(x: obj.bounds.midX, y: obj.bounds.midY)
                        .overlay(alignment: .topLeading) {
                            <span class="type">Text</span>(obj.label)
                                .font(.caption)
                                .padding(<span class="str">4</span>)
                                .background(<span class="type">Color</span>.green)
                                .foregroundStyle(.white)
                                .cornerRadius(<span class="str">4</span>)
                                .offset(x: obj.bounds.minX, y: obj.bounds.minY)
                        }
                }
            }

            <span class="comment">// ê°ì§€ëœ ê°ì²´ ë¦¬ìŠ¤íŠ¸</span>
            <span class="type">VStack</span>(alignment: .leading, spacing: <span class="str">12</span>) {
                <span class="type">Text</span>(<span class="str">"ê°ì§€ëœ ê°ì²´"</span>)
                    .font(.headline)

                <span class="kw">if</span> detectedObjects.isEmpty {
                    <span class="type">Text</span>(<span class="str">"ì¹´ë©”ë¼ ë²„íŠ¼ì„ ê¸¸ê²Œ ëˆŒëŸ¬ ìŠ¤ìº”ì„ ì‹œì‘í•˜ì„¸ìš”"</span>)
                        .font(.subheadline)
                        .foregroundStyle(.secondary)
                } <span class="kw">else</span> {
                    <span class="type">ForEach</span>(detectedObjects) { obj <span class="kw">in</span>
                        <span class="type">HStack</span> {
                            <span class="type">Image</span>(systemName: obj.icon)
                                .foregroundStyle(.blue)
                            <span class="type">VStack</span>(alignment: .leading) {
                                <span class="type">Text</span>(obj.label)
                                    .font(.subheadline)
                                <span class="type">Text</span>(<span class="str">"\(Int(obj.confidence * 100))% ì‹ ë¢°ë„"</span>)
                                    .font(.caption)
                                    .foregroundStyle(.secondary)
                            }
                            <span class="type">Spacer</span>()
                            <span class="type">Button</span>(<span class="str">"ê²€ìƒ‰"</span>) {
                                searchObject(obj)
                            }
                            .buttonStyle(.bordered)
                        }
                        .padding()
                        .background(<span class="type">Color</span>.gray.opacity(<span class="str">0.1</span>))
                        .cornerRadius(<span class="str">8</span>)
                    }
                }
            }
            .padding()
        }
        .task {
            <span class="kw">await</span> manager.requestAuthorization()
        }
    }

    <span class="kw">func</span> searchObject(<span class="kw">_</span> object: <span class="type">DetectedObject</span>) {
        print(<span class="str">"ğŸ” ê²€ìƒ‰: \(object.label)"</span>)
    }
}

<span class="comment">// ê°ì§€ëœ ê°ì²´ ëª¨ë¸</span>
<span class="kw">struct</span> <span class="type">DetectedObject</span>: <span class="type">Identifiable</span> {
    <span class="kw">let</span> id = <span class="type">UUID</span>()
    <span class="kw">let</span> label: <span class="type">String</span>
    <span class="kw">let</span> confidence: <span class="type">Double</span>
    <span class="kw">let</span> bounds: <span class="type">CGRect</span>

    <span class="kw">var</span> icon: <span class="type">String</span> {
        <span class="comment">// ê°ì²´ íƒ€ì…ì— ë”°ë¼ ì•„ì´ì½˜ ë°˜í™˜</span>
        <span class="kw">switch</span> label.lowercased() {
        <span class="kw">case</span> <span class="kw">let</span> l <span class="kw">where</span> l.contains(<span class="str">"person"</span>): <span class="kw">return</span> <span class="str">"person.fill"</span>
        <span class="kw">case</span> <span class="kw">let</span> l <span class="kw">where</span> l.contains(<span class="str">"car"</span>): <span class="kw">return</span> <span class="str">"car.fill"</span>
        <span class="kw">case</span> <span class="kw">let</span> l <span class="kw">where</span> l.contains(<span class="str">"dog"</span>): <span class="kw">return</span> <span class="str">"pawprint.fill"</span>
        <span class="kw">case</span> <span class="kw">let</span> l <span class="kw">where</span> l.contains(<span class="str">"cat"</span>): <span class="kw">return</span> <span class="str">"cat.fill"</span>
        <span class="kw">default</span>: <span class="kw">return</span> <span class="str">"cube.fill"</span>
        }
    }
}</pre>
</div>

<h2>ğŸ“ 3. í…ìŠ¤íŠ¸ ì¶”ì¶œ (OCR)</h2>
<p>Recognize and extract text in images â€” copy, translate, and search.</p>

<div class="code-block">
<div class="code-header">TextExtractionView.swift â€” Text Extraction</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">Vision</span>

<span class="kw">@Observable</span>
<span class="kw">class</span> <span class="type">TextExtractionManager</span> {
    <span class="kw">var</span> extractedText: [<span class="type">RecognizedText</span>] = []
    <span class="kw">var</span> isProcessing = <span class="kw">false</span>

    <span class="comment">// í…ìŠ¤íŠ¸ ì¶”ì¶œ (Live Text)</span>
    <span class="kw">func</span> extractText(from image: <span class="type">UIImage</span>) <span class="kw">async</span> {
        <span class="kw">await</span> <span class="type">MainActor</span>.run { isProcessing = <span class="kw">true</span> }

        <span class="kw">guard</span> <span class="kw">let</span> cgImage = image.cgImage <span class="kw">else</span> { <span class="kw">return</span> }

        <span class="kw">let</span> request = <span class="type">VNRecognizeTextRequest</span> { request, error <span class="kw">in</span>
            <span class="kw">guard</span> error == <span class="kw">nil</span>,
                  <span class="kw">let</span> observations = request.results <span class="kw">as</span>? [<span class="type">VNRecognizedTextObservation</span>]
            <span class="kw">else</span> { <span class="kw">return</span> }

            <span class="kw">let</span> recognizedTexts = observations.compactMap { observation <span class="kw">in</span>
                <span class="kw">guard</span> <span class="kw">let</span> topCandidate = observation.topCandidates(<span class="str">1</span>).first <span class="kw">else</span> {
                    <span class="kw">return</span> <span class="kw">nil</span>
                }

                <span class="kw">return</span> <span class="type">RecognizedText</span>(
                    text: topCandidate.string,
                    confidence: topCandidate.confidence,
                    bounds: observation.boundingBox
                )
            }

            <span class="type">Task</span> { <span class="kw">@MainActor</span> <span class="kw">in</span>
                <span class="kw">self</span>.extractedText = recognizedTexts
                <span class="kw">self</span>.isProcessing = <span class="kw">false</span>
            }
        }

        <span class="comment">// ì •í™•ë„ ì„¤ì •</span>
        request.recognitionLevel = .accurate
        request.usesLanguageCorrection = <span class="kw">true</span>

        <span class="kw">let</span> handler = <span class="type">VNImageRequestHandler</span>(cgImage: cgImage, options: [:])
        <span class="kw">try</span>? handler.perform([request])
    }
}

<span class="kw">struct</span> <span class="type">RecognizedText</span>: <span class="type">Identifiable</span> {
    <span class="kw">let</span> id = <span class="type">UUID</span>()
    <span class="kw">let</span> text: <span class="type">String</span>
    <span class="kw">let</span> confidence: <span class="type">Float</span>
    <span class="kw">let</span> bounds: <span class="type">CGRect</span>
}

<span class="kw">struct</span> <span class="type">TextExtractionView</span>: <span class="type">View</span> {
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> manager = <span class="type">TextExtractionManager</span>()
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> selectedImage: <span class="type">UIImage</span>?
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> showImagePicker = <span class="kw">false</span>

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">ScrollView</span> {
            <span class="type">VStack</span>(spacing: <span class="str">20</span>) {
                <span class="comment">// ì´ë¯¸ì§€ ì„ íƒ</span>
                <span class="kw">if</span> <span class="kw">let</span> selectedImage {
                    <span class="type">Image</span>(uiImage: selectedImage)
                        .resizable()
                        .scaledToFit()
                        .cornerRadius(<span class="str">12</span>)
                } <span class="kw">else</span> {
                    <span class="type">Button</span> {
                        showImagePicker = <span class="kw">true</span>
                    } label: {
                        <span class="type">VStack</span> {
                            <span class="type">Image</span>(systemName: <span class="str">"photo.badge.plus"</span>)
                                .font(.system(size: <span class="str">50</span>))
                            <span class="type">Text</span>(<span class="str">"ì´ë¯¸ì§€ ì„ íƒ"</span>)
                        }
                        .frame(height: <span class="str">200</span>)
                        .frame(maxWidth: .infinity)
                        .background(<span class="type">Color</span>.gray.opacity(<span class="str">0.1</span>))
                        .cornerRadius(<span class="str">12</span>)
                    }
                }

                <span class="comment">// ì¶”ì¶œëœ í…ìŠ¤íŠ¸</span>
                <span class="kw">if</span> manager.isProcessing {
                    <span class="type">ProgressView</span>(<span class="str">"í…ìŠ¤íŠ¸ ì¶”ì¶œ ì¤‘..."</span>)
                        .padding()
                } <span class="kw">else</span> <span class="kw">if</span> !manager.extractedText.isEmpty {
                    <span class="type">VStack</span>(alignment: .leading, spacing: <span class="str">12</span>) {
                        <span class="type">Text</span>(<span class="str">"ì¶”ì¶œëœ í…ìŠ¤íŠ¸"</span>)
                            .font(.headline)

                        <span class="type">ForEach</span>(manager.extractedText) { item <span class="kw">in</span>
                            <span class="type">HStack</span> {
                                <span class="type">Text</span>(item.text)
                                    .textSelection(.enabled)

                                <span class="type">Spacer</span>()

                                <span class="type">Menu</span> {
                                    <span class="type">Button</span> {
                                        copyText(item.text)
                                    } label: {
                                        <span class="type">Label</span>(<span class="str">"ë³µì‚¬"</span>, systemImage: <span class="str">"doc.on.doc"</span>)
                                    }

                                    <span class="type">Button</span> {
                                        translateText(item.text)
                                    } label: {
                                        <span class="type">Label</span>(<span class="str">"ë²ˆì—­"</span>, systemImage: <span class="str">"translate"</span>)
                                    }

                                    <span class="type">Button</span> {
                                        searchText(item.text)
                                    } label: {
                                        <span class="type">Label</span>(<span class="str">"ê²€ìƒ‰"</span>, systemImage: <span class="str">"magnifyingglass"</span>)
                                    }
                                } label: {
                                    <span class="type">Image</span>(systemName: <span class="str">"ellipsis.circle"</span>)
                                }
                            }
                            .padding()
                            .background(<span class="type">Color</span>.gray.opacity(<span class="str">0.1</span>))
                            .cornerRadius(<span class="str">8</span>)
                        }
                    }
                }
            }
            .padding()
        }
        .onChange(of: selectedImage) { _, newImage <span class="kw">in</span>
            <span class="kw">if</span> <span class="kw">let</span> newImage {
                <span class="type">Task</span> {
                    <span class="kw">await</span> manager.extractText(from: newImage)
                }
            }
        }
    }

    <span class="kw">func</span> copyText(<span class="kw">_</span> text: <span class="type">String</span>) {
        <span class="type">UIPasteboard</span>.general.string = text
    }

    <span class="kw">func</span> translateText(<span class="kw">_</span> text: <span class="type">String</span>) {
        print(<span class="str">"ğŸŒ ë²ˆì—­: \(text)"</span>)
    }

    <span class="kw">func</span> searchText(<span class="kw">_</span> text: <span class="type">String</span>) {
        print(<span class="str">"ğŸ” ê²€ìƒ‰: \(text)"</span>)
    }
}</pre>
</div>

<h2>ğŸ“ 4. ì¥ì†Œ ì¸ì‹</h2>
<p>Recognize landmarks, buildings, and places with relevant information.</p>

<div class="code-block">
<div class="code-header">PlaceRecognitionView.swift â€” Place Recognition</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">CoreLocation</span>
<span class="kw">import</span> <span class="type">MapKit</span>

<span class="kw">struct</span> <span class="type">RecognizedPlace</span>: <span class="type">Identifiable</span> {
    <span class="kw">let</span> id = <span class="type">UUID</span>()
    <span class="kw">let</span> name: <span class="type">String</span>
    <span class="kw">let</span> category: <span class="type">String</span>
    <span class="kw">let</span> address: <span class="type">String</span>
    <span class="kw">let</span> coordinate: <span class="type">CLLocationCoordinate2D</span>
    <span class="kw">let</span> rating: <span class="type">Double</span>?
    <span class="kw">let</span> photoURL: <span class="type">URL</span>?
}

<span class="kw">@Observable</span>
<span class="kw">class</span> <span class="type">PlaceRecognitionManager</span> {
    <span class="kw">var</span> recognizedPlace: <span class="type">RecognizedPlace</span>?
    <span class="kw">var</span> isRecognizing = <span class="kw">false</span>

    <span class="comment">// ì¥ì†Œ ì¸ì‹</span>
    <span class="kw">func</span> recognizePlace(from image: <span class="type">UIImage</span>, location: <span class="type">CLLocation</span>?) <span class="kw">async</span> {
        isRecognizing = <span class="kw">true</span>

        <span class="comment">// ì‹¤ì œë¡œëŠ” Vision + Maps API ì‚¬ìš©</span>
        <span class="kw">try</span>? <span class="kw">await</span> <span class="type">Task</span>.sleep(for: .seconds(<span class="str">1</span>))

        <span class="comment">// ì˜ˆì‹œ ë°ì´í„°</span>
        recognizedPlace = <span class="type">RecognizedPlace</span>(
            name: <span class="str">"ì• í”Œ íŒŒí¬"</span>,
            category: <span class="str">"ëœë“œë§ˆí¬"</span>,
            address: <span class="str">"One Apple Park Way, Cupertino, CA"</span>,
            coordinate: <span class="type">CLLocationCoordinate2D</span>(latitude: <span class="str">37.3349</span>, longitude: -<span class="str">122.0090</span>),
            rating: <span class="str">4.8</span>,
            photoURL: <span class="kw">nil</span>
        )

        isRecognizing = <span class="kw">false</span>
    }
}

<span class="kw">struct</span> <span class="type">PlaceRecognitionView</span>: <span class="type">View</span> {
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> manager = <span class="type">PlaceRecognitionManager</span>()
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> cameraPosition: <span class="type">MapCameraPosition</span> = .automatic

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">VStack</span>(spacing: <span class="str">20</span>) {
            <span class="comment">// ì¹´ë©”ë¼ ë·° (ì‹¤ì œë¡œëŠ” AVCaptureSession)</span>
            <span class="type">Rectangle</span>()
                .fill(<span class="type">Color</span>.black)
                .aspectRatio(<span class="str">3</span>/<span class="str">4</span>, contentMode: .fit)
                .cornerRadius(<span class="str">12</span>)
                .overlay {
                    <span class="kw">if</span> manager.isRecognizing {
                        <span class="type">ProgressView</span>(<span class="str">"ì¥ì†Œ ì¸ì‹ ì¤‘..."</span>)
                            .tint(.white)
                    }
                }

            <span class="comment">// ì¸ì‹ëœ ì¥ì†Œ ì •ë³´</span>
            <span class="kw">if</span> <span class="kw">let</span> place = manager.recognizedPlace {
                <span class="type">VStack</span>(alignment: .leading, spacing: <span class="str">16</span>) {
                    <span class="comment">// ì¥ì†Œ ì •ë³´</span>
                    <span class="type">VStack</span>(alignment: .leading, spacing: <span class="str">8</span>) {
                        <span class="type">HStack</span> {
                            <span class="type">Text</span>(place.name)
                                .font(.title2)
                                .fontWeight(.bold)

                            <span class="type">Spacer</span>()

                            <span class="kw">if</span> <span class="kw">let</span> rating = place.rating {
                                <span class="type">HStack</span>(spacing: <span class="str">4</span>) {
                                    <span class="type">Image</span>(systemName: <span class="str">"star.fill"</span>)
                                        .foregroundStyle(.yellow)
                                    <span class="type">Text</span>(<span class="str">"\(rating, specifier: "%.1f")"</span>)
                                        .fontWeight(.semibold)
                                }
                            }
                        }

                        <span class="type">Text</span>(place.category)
                            .font(.subheadline)
                            .foregroundStyle(.secondary)

                        <span class="type">Label</span>(place.address, systemImage: <span class="str">"mappin.circle"</span>)
                            .font(.footnote)
                    }
                    .padding()
                    .background(<span class="type">Color</span>.gray.opacity(<span class="str">0.1</span>))
                    .cornerRadius(<span class="str">12</span>)

                    <span class="comment">// ì§€ë„</span>
                    <span class="type">Map</span>(position: $cameraPosition) {
                        <span class="type">Marker</span>(place.name, coordinate: place.coordinate)
                    }
                    .frame(height: <span class="str">200</span>)
                    .cornerRadius(<span class="str">12</span>)

                    <span class="comment">// ì•¡ì…˜ ë²„íŠ¼</span>
                    <span class="type">HStack</span>(spacing: <span class="str">12</span>) {
                        <span class="type">Button</span> {
                            openInMaps(place)
                        } label: {
                            <span class="type">Label</span>(<span class="str">"ì§€ë„ì—ì„œ ë³´ê¸°"</span>, systemImage: <span class="str">"map"</span>)
                                .frame(maxWidth: .infinity)
                        }
                        .buttonStyle(.borderedProminent)

                        <span class="type">Button</span> {
                            sharePlace(place)
                        } label: {
                            <span class="type">Label</span>(<span class="str">"ê³µìœ "</span>, systemImage: <span class="str">"square.and.arrow.up"</span>)
                                .frame(maxWidth: .infinity)
                        }
                        .buttonStyle(.bordered)
                    }
                }
                .padding(.horizontal)
            }

            <span class="type">Spacer</span>()
        }
        .padding(.vertical)
    }

    <span class="kw">func</span> openInMaps(<span class="kw">_</span> place: <span class="type">RecognizedPlace</span>) {
        <span class="kw">let</span> mapItem = <span class="type">MKMapItem</span>(
            placemark: <span class="type">MKPlacemark</span>(coordinate: place.coordinate)
        )
        mapItem.name = place.name
        mapItem.openInMaps()
    }

    <span class="kw">func</span> sharePlace(<span class="kw">_</span> place: <span class="type">RecognizedPlace</span>) {
        print(<span class="str">"ğŸ“¤ \(place.name) ê³µìœ "</span>)
    }
}</pre>
</div>

<h2>ğŸ›ï¸ 5. ì œí’ˆ ê²€ìƒ‰</h2>
<p>ìƒí’ˆì„ ì¸ì‹í•˜ê³  ì˜¨ë¼ì¸ì—ì„œ ìœ ì‚¬í•œ ì œí’ˆì„ ì°¾.</p>

<div class="code-block">
<div class="code-header">ProductSearchView.swift â€” Product Search</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>

<span class="kw">struct</span> <span class="type">Product</span>: <span class="type">Identifiable</span> {
    <span class="kw">let</span> id = <span class="type">UUID</span>()
    <span class="kw">let</span> name: <span class="type">String</span>
    <span class="kw">let</span> price: <span class="type">Decimal</span>
    <span class="kw">let</span> brand: <span class="type">String</span>
    <span class="kw">let</span> imageURL: <span class="type">URL</span>?
    <span class="kw">let</span> productURL: <span class="type">URL</span>
    <span class="kw">let</span> similarity: <span class="type">Double</span> <span class="comment">// ìœ ì‚¬ë„ 0-1</span>
}

<span class="kw">@Observable</span>
<span class="kw">class</span> <span class="type">ProductSearchManager</span> {
    <span class="kw">var</span> searchResults: [<span class="type">Product</span>] = []
    <span class="kw">var</span> isSearching = <span class="kw">false</span>

    <span class="comment">// ì‹œê°ì  ìœ ì‚¬ ì œí’ˆ ê²€ìƒ‰</span>
    <span class="kw">func</span> searchSimilarProducts(from image: <span class="type">UIImage</span>) <span class="kw">async</span> {
        isSearching = <span class="kw">true</span>

        <span class="comment">// ì‹¤ì œë¡œëŠ” Vision + ì‡¼í•‘ API ì—°ë™</span>
        <span class="kw">try</span>? <span class="kw">await</span> <span class="type">Task</span>.sleep(for: .seconds(<span class="str">1.5</span>))

        <span class="comment">// ì˜ˆì‹œ ê²°ê³¼</span>
        searchResults = [
            <span class="type">Product</span>(
                name: <span class="str">"ë‚˜ì´í‚¤ ì—ì–´ ë§¥ìŠ¤"</span>,
                price: <span class="str">189000</span>,
                brand: <span class="str">"Nike"</span>,
                imageURL: <span class="kw">nil</span>,
                productURL: <span class="type">URL</span>(string: <span class="str">"https://nike.com"</span>)!,
                similarity: <span class="str">0.95</span>
            ),
            <span class="type">Product</span>(
                name: <span class="str">"ì•„ë””ë‹¤ìŠ¤ ìš¸íŠ¸ë¼ë¶€ìŠ¤íŠ¸"</span>,
                price: <span class="str">219000</span>,
                brand: <span class="str">"Adidas"</span>,
                imageURL: <span class="kw">nil</span>,
                productURL: <span class="type">URL</span>(string: <span class="str">"https://adidas.com"</span>)!,
                similarity: <span class="str">0.87</span>
            )
        ]

        isSearching = <span class="kw">false</span>
    }
}

<span class="kw">struct</span> <span class="type">ProductSearchView</span>: <span class="type">View</span> {
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> manager = <span class="type">ProductSearchManager</span>()
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> selectedImage: <span class="type">UIImage</span>?

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">ScrollView</span> {
            <span class="type">VStack</span>(spacing: <span class="str">20</span>) {
                <span class="comment">// ìŠ¤ìº”í•œ ì œí’ˆ ì´ë¯¸ì§€</span>
                <span class="kw">if</span> <span class="kw">let</span> selectedImage {
                    <span class="type">Image</span>(uiImage: selectedImage)
                        .resizable()
                        .scaledToFit()
                        .frame(height: <span class="str">200</span>)
                        .cornerRadius(<span class="str">12</span>)
                }

                <span class="comment">// ê²€ìƒ‰ ì¤‘</span>
                <span class="kw">if</span> manager.isSearching {
                    <span class="type">VStack</span>(spacing: <span class="str">12</span>) {
                        <span class="type">ProgressView</span>()
                        <span class="type">Text</span>(<span class="str">"ìœ ì‚¬ ì œí’ˆ ê²€ìƒ‰ ì¤‘..."</span>)
                            .font(.subheadline)
                            .foregroundStyle(.secondary)
                    }
                    .padding()
                }

                <span class="comment">// ê²€ìƒ‰ ê²°ê³¼</span>
                <span class="kw">if</span> !manager.searchResults.isEmpty {
                    <span class="type">VStack</span>(alignment: .leading, spacing: <span class="str">16</span>) {
                        <span class="type">Text</span>(<span class="str">"ìœ ì‚¬ ì œí’ˆ \(manager.searchResults.count)ê°œ"</span>)
                            .font(.headline)

                        <span class="type">ForEach</span>(manager.searchResults) { product <span class="kw">in</span>
                            <span class="type">ProductRow</span>(product: product)
                        }
                    }
                }
            }
            .padding()
        }
    }
}

<span class="kw">struct</span> <span class="type">ProductRow</span>: <span class="type">View</span> {
    <span class="kw">let</span> product: <span class="type">Product</span>

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">HStack</span>(spacing: <span class="str">12</span>) {
            <span class="comment">// ì œí’ˆ ì´ë¯¸ì§€</span>
            <span class="type">RoundedRectangle</span>(cornerRadius: <span class="str">8</span>)
                .fill(<span class="type">Color</span>.gray.opacity(<span class="str">0.2</span>))
                .frame(width: <span class="str">80</span>, height: <span class="str">80</span>)
                .overlay {
                    <span class="type">Image</span>(systemName: <span class="str">"shoeprint.fill"</span>)
                        .font(.title)
                        .foregroundStyle(.secondary)
                }

            <span class="comment">// ì œí’ˆ ì •ë³´</span>
            <span class="type">VStack</span>(alignment: .leading, spacing: <span class="str">4</span>) {
                <span class="type">Text</span>(product.brand)
                    .font(.caption)
                    .foregroundStyle(.secondary)

                <span class="type">Text</span>(product.name)
                    .font(.subheadline)
                    .fontWeight(.medium)

                <span class="type">Text</span>(<span class="str">"\(product.price as NSDecimalNumber)ì›"</span>)
                    .font(.subheadline)
                    .fontWeight(.bold)

                <span class="comment">// ìœ ì‚¬ë„</span>
                <span class="type">HStack</span>(spacing: <span class="str">4</span>) {
                    <span class="type">Image</span>(systemName: <span class="str">"checkmark.circle.fill"</span>)
                        .font(.caption)
                        .foregroundStyle(.green)
                    <span class="type">Text</span>(<span class="str">"\(Int(product.similarity * 100))% ì¼ì¹˜"</span>)
                        .font(.caption)
                        .foregroundStyle(.secondary)
                }
            }

            <span class="type">Spacer</span>()

            <span class="comment">// ë°”ë¡œê°€ê¸°</span>
            <span class="type">Button</span> {
                <span class="type">UIApplication</span>.shared.open(product.productURL)
            } label: {
                <span class="type">Image</span>(systemName: <span class="str">"arrow.right.circle.fill"</span>)
                    .font(.title2)
                    .foregroundStyle(.blue)
            }
        }
        .padding()
        .background(<span class="type">Color</span>.gray.opacity(<span class="str">0.05</span>))
        .cornerRadius(<span class="str">12</span>)
    }
}</pre>
</div>

<h2>ğŸ¯ 6. Camera Control í†µí•©</h2>
<p>Integrates with iPhone 16's Camera Control button for quick access.</p>

<div class="code-block">
<div class="code-header">CameraControlIntegration.swift â€” Camera Control</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>

<span class="comment">// Camera Control ì œìŠ¤ì²˜ í•¸ë“¤ë§</span>
<span class="kw">@Observable</span>
<span class="kw">class</span> <span class="type">CameraControlManager</span> {
    <span class="kw">var</span> isPressed = <span class="kw">false</span>
    <span class="kw">var</span> pressStartTime: <span class="type">Date</span>?

    <span class="comment">// ê¸¸ê²Œ ëˆ„ë¥´ê¸° ê°ì§€</span>
    <span class="kw">func</span> handleLongPress() {
        isPressed = <span class="kw">true</span>
        pressStartTime = <span class="type">Date</span>()

        <span class="comment">// Visual Intelligence í™œì„±í™”</span>
        activateVisualIntelligence()
    }

    <span class="comment">// ë²„íŠ¼ ë†“ê¸°</span>
    <span class="kw">func</span> handleRelease() {
        <span class="kw">guard</span> <span class="kw">let</span> startTime = pressStartTime <span class="kw">else</span> { <span class="kw">return</span> }

        <span class="kw">let</span> duration = <span class="type">Date</span>().timeIntervalSince(startTime)

        <span class="kw">if</span> duration > <span class="str">0.5</span> {
            <span class="comment">// ê¸´ ëˆ„ë¥´ê¸°: í™”ë©´ ìº¡ì²˜ ë° ë¶„ì„</span>
            captureAndAnalyze()
        }

        isPressed = <span class="kw">false</span>
        pressStartTime = <span class="kw">nil</span>
    }

    <span class="kw">func</span> activateVisualIntelligence() {
        print(<span class="str">"ğŸ“¸ Visual Intelligence í™œì„±í™”"</span>)
    }

    <span class="kw">func</span> captureAndAnalyze() {
        print(<span class="str">"ğŸ” í™”ë©´ ìº¡ì²˜ ë° ë¶„ì„ ì‹œì‘"</span>)
    }
}

<span class="kw">struct</span> <span class="type">CameraControlDemoView</span>: <span class="type">View</span> {
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> manager = <span class="type">CameraControlManager</span>()

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">VStack</span> {
            <span class="type">Text</span>(<span class="str">"Camera Control ë²„íŠ¼ì„ ê¸¸ê²Œ ëˆ„ë¥´ì„¸ìš”"</span>)
                .font(.headline)
                .padding()

            <span class="comment">// ì‹œë®¬ë ˆì´ì…˜ìš© ë²„íŠ¼</span>
            <span class="type">Button</span> {
                manager.handleLongPress()

                <span class="type">Task</span> {
                    <span class="kw">try</span>? <span class="kw">await</span> <span class="type">Task</span>.sleep(for: .seconds(<span class="str">1</span>))
                    manager.handleRelease()
                }
            } label: {
                <span class="type">Circle</span>()
                    .fill(manager.isPressed ? <span class="type">Color</span>.blue : <span class="type">Color</span>.gray)
                    .frame(width: <span class="str">80</span>, height: <span class="str">80</span>)
                    .overlay {
                        <span class="type">Image</span>(systemName: <span class="str">"camera.fill"</span>)
                            .font(.title)
                            .foregroundStyle(.white)
                    }
            }
        }
    }
}</pre>
</div>

<h2>ğŸ’¡ HIG Guidelines</h2>

<ul>
<li><strong>í”„ë¼ì´ë²„ì‹œ ìš°ì„ :</strong> All processing is performed on-device; user data is never sent to a server.</li>
<li><strong>ì¦‰ê°ì ì¸ í”¼ë“œë°±:</strong> ë¶„ì„ ì‹œì‘ ì‹œ ì‹œê°ì  í”¼ë“œë°± ì œê³µ</li>
<li><strong>ë§¥ë½ ì¸ì‹:</strong> í˜„ì¬ ìƒí™©ì— ë§ëŠ” ì •ë³´ë§Œ í‘œì‹œ</li>
<li><strong>ëª…í™•í•œ ì•¡ì…˜:</strong> ì¸ì‹ëœ ì •ë³´ë¡œ ë¬´ì—‡ì„ í•  ìˆ˜ ìˆëŠ”ì§€ ëª…í™•íˆ ì œì‹œ</li>
<li><strong>Camera Control í†µí•©:</strong> ê¸¸ê²Œ ëˆ„ë¥´ê¸°ë¡œ ë¹ ë¥´ê²Œ ì ‘ê·¼ ê°€ëŠ¥</li>
</ul>

<h2>ğŸ¯ Practical Usage</h2>

<ul>
<li><strong>ì‡¼í•‘ ì•±:</strong> ì œí’ˆ ìŠ¤ìº” í›„ ê°€ê²© ë¹„êµ ë° êµ¬ë§¤</li>
<li><strong>ë²ˆì—­ ì•±:</strong> í‘œì§€íŒ, ë©”ë‰´íŒ ì‹¤ì‹œê°„ ë²ˆì—­</li>
<li><strong>Education Apps:</strong> ìˆ™ì œ ë¬¸ì œ ìŠ¤ìº” ë° í•´ì„¤ ì œê³µ</li>
<li><strong>Travel Apps:</strong> ëœë“œë§ˆí¬ ì¸ì‹ í›„ ê´€ê´‘ ì •ë³´ í‘œì‹œ</li>
<li><strong>ì‹ë¬¼ ì¸ì‹:</strong> ì‹ë¬¼ ì¢…ë¥˜ ë° ê´€ë¦¬ ë°©ë²• ì•ˆë‚´</li>
</ul>

<h2>ğŸ“š Learn More</h2>

<ul>
<li><a href="https://developer.apple.com/documentation/vision">Vision Framework</a></li>
<li><a href="https://developer.apple.com/videos/play/wwdc2024/">WWDC 2024: Visual Intelligence</a></li>
<li><a href="https://developer.apple.com/design/human-interface-guidelines/camera">HIG: Camera</a></li>
</ul>

<div class="info-box">
<strong>âš¡ï¸ Performance Tips:</strong> Visual Intelligence leverages the Neural Engine for real-time analysis. Keep camera preview at 30fps and perform analysis only when the user presses the button to save battery. Network lookups, if needed, are performed selectively after on-device analysis.
</div>

</article>
</body></html>
