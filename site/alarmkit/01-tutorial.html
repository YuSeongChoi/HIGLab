<!DOCTYPE html>
<html lang="ko"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>â° AlarmKit â€” HIG Lab</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&family=JetBrains+Mono&display=swap" rel="stylesheet">
<style>
:root{--bg:#fafafa;--text:#1d1d1f;--text-2:#6e6e73;--accent:#0071e3;--code-bg:#1e1e2e;--border:#d2d2d7}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Noto Sans KR',sans-serif;background:var(--bg);color:var(--text);line-height:1.8}
.top-bar{position:sticky;top:0;z-index:100;background:rgba(250,250,250,0.9);backdrop-filter:blur(20px);border-bottom:1px solid var(--border)}
.top-bar-inner{max-width:800px;margin:0 auto;padding:12px 24px;display:flex;justify-content:space-between}
.top-logo{font-size:16px;font-weight:700;text-decoration:none;color:var(--text)}.top-logo span{color:var(--accent)}
article{max-width:800px;margin:0 auto;padding:48px 24px 120px}
h1{font-size:clamp(28px,5vw,40px);font-weight:900;margin-bottom:16px;letter-spacing:-1px}
h2{font-size:24px;font-weight:800;margin:48px 0 16px}p{margin-bottom:16px}
.subtitle{font-size:18px;color:var(--text-2);margin-bottom:32px}
.code-block{background:var(--code-bg);border-radius:12px;margin:20px 0;overflow:hidden}
.code-header{padding:12px 16px;border-bottom:1px solid rgba(255,255,255,0.1);font-size:12px;color:#6e6e73;font-weight:600}
pre.code-body{margin:0;padding:16px;font-family:'JetBrains Mono',monospace;font-size:13px;color:#cdd6f4;white-space:pre;overflow-x:auto}
.kw{color:#cba6f7}.type{color:#89b4fa}.str{color:#a6e3a1}.comment{color:#6c7086}
.badge{display:inline-block;padding:4px 12px;border-radius:16px;font-size:13px;font-weight:600;margin:0 4px 8px 0}
.badge.ios{background:#0071e3;color:#fff}.badge.new{background:#34c759;color:#fff}
ul{margin:16px 0 16px 24px}li{margin:8px 0}
.info-box{background:#f5f5f7;border-left:4px solid var(--accent);padding:16px;margin:24px 0;border-radius:8px}
</style></head>
<body>
<div class="top-bar"><div class="top-bar-inner"><a href="../index.html" class="top-logo">HIG <span>Lab</span></a><a href="../en/alarmkit/01-tutorial.html" class="lang-toggle" style="font-size:12px;font-weight:600;color:#0071e3;text-decoration:none;padding:4px 10px;border:1.5px solid #0071e3;border-radius:12px;">ğŸ‡ºğŸ‡¸ EN</a></div></div>
<article>
<h1>â° AlarmKit</h1>
<!-- higlab-metadata -->
<div style="display:flex;gap:16px;align-items:center;margin:12px 0 24px;padding:12px 16px;background:var(--tag-bg,#f5f5f7);border-radius:10px;font-size:13px;color:var(--text-2,#6e6e73);flex-wrap:wrap;">
  <span>â­ ë‚œì´ë„: â­â­</span>
  <span>â±ï¸ ì˜ˆìƒ ì‹œê°„: 1h</span>
  <span>ğŸ“‚ iOS 26</span>
</div>
<p class="subtitle">ì‹œìŠ¤í…œ ì•ŒëŒ ì•±ê³¼ ì™„ë²½í•˜ê²Œ í†µí•©ë˜ëŠ” ì•ŒëŒ ê´€ë¦¬</p>

<div><span class="badge ios">iOS 18+</span><span class="badge new">ğŸ†• 2024</span></div>

<h2>âœ¨ AlarmKitì´ë€?</h2>
<p>AlarmKitì€ iOS 18ì—ì„œ ë„ì…ëœ í”„ë ˆì„ì›Œí¬ë¡œ, ì„œë“œíŒŒí‹° ì•±ì—ì„œ ì‹œìŠ¤í…œ ì•ŒëŒ ì•±ê³¼ ë™ì¼í•œ ìˆ˜ì¤€ì˜ ì•ŒëŒ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì•±ì—ì„œ ì•ŒëŒì„ ìƒì„±, ìˆ˜ì •, ì‚­ì œí•˜ê³  ì‹œìŠ¤í…œ ì‹œê³„ ì•±ì˜ ì•ŒëŒ ëª©ë¡ì— í†µí•©ë˜ì–´ í‘œì‹œë©ë‹ˆë‹¤. ë°˜ë³µ ì•ŒëŒ, ìŠ¤ëˆ„ì¦ˆ, ì•ŒëŒìŒ ì„ íƒ ë“± ë„¤ì´í‹°ë¸Œ ì•ŒëŒì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì§€ì›í•˜ë©°, ì‚¬ìš©ìì—ê²Œ ì¼ê´€ëœ ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.</p>

<div class="info-box">
<strong>ğŸ’¡ í•µì‹¬ ê¸°ëŠ¥:</strong> ì‹œìŠ¤í…œ ì•ŒëŒ í†µí•© Â· ë°˜ë³µ ì•ŒëŒ Â· ìŠ¤ëˆ„ì¦ˆ ì„¤ì • Â· ì»¤ìŠ¤í…€ ì•ŒëŒìŒ Â· ì§„ë™ íŒ¨í„´ Â· ë¼ë²¨ ë° ë©”ëª¨ Â· iCloud ë™ê¸°í™” Â· Live Activity ì§€ì›
</div>

<h2>ğŸ¯ 1. ê¸°ë³¸ ì„¤ì •</h2>
<p>AlarmKitì„ ì´ˆê¸°í™”í•˜ê³  ê¶Œí•œì„ ìš”ì²­í•©ë‹ˆë‹¤.</p>

<div class="code-block">
<div class="code-header">AlarmManager.swift â€” ê¸°ë³¸ ì„¤ì •</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">UserNotifications</span>

<span class="comment">// AlarmKit ê´€ë¦¬ì</span>
<span class="kw">@Observable</span>
<span class="kw">class</span> <span class="type">AlarmManager</span> {
    <span class="kw">var</span> alarms: [<span class="type">Alarm</span>] = []
    <span class="kw">var</span> isAuthorized = <span class="kw">false</span>

    <span class="comment">// ì•Œë¦¼ ê¶Œí•œ ìš”ì²­</span>
    <span class="kw">func</span> requestAuthorization() <span class="kw">async</span> -> <span class="type">Bool</span> {
        <span class="kw">do</span> {
            <span class="kw">let</span> granted = <span class="kw">try</span> <span class="kw">await</span> <span class="type">UNUserNotificationCenter</span>.current()
                .requestAuthorization(options: [.alert, .sound, .criticalAlert])

            <span class="kw">await</span> <span class="type">MainActor</span>.run {
                isAuthorized = granted
            }

            <span class="kw">return</span> granted
        } <span class="kw">catch</span> {
            print(<span class="str">"âŒ ê¶Œí•œ ìš”ì²­ ì‹¤íŒ¨: \(error)"</span>)
            <span class="kw">return</span> <span class="kw">false</span>
        }
    }

    <span class="comment">// ì•ŒëŒ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°</span>
    <span class="kw">func</span> loadAlarms() <span class="kw">async</span> {
        <span class="comment">// ì‹œìŠ¤í…œ ì•ŒëŒê³¼ í†µí•©ëœ ì•ŒëŒ ëª©ë¡</span>
        <span class="comment">// ì‹¤ì œë¡œëŠ” AlarmKit API ì‚¬ìš©</span>
        alarms = [
            <span class="type">Alarm</span>(
                time: <span class="type">Date</span>(),
                label: <span class="str">"ê¸°ìƒ ì•ŒëŒ"</span>,
                isEnabled: <span class="kw">true</span>,
                repeatDays: [<span class="str">1</span>, <span class="str">2</span>, <span class="str">3</span>, <span class="str">4</span>, <span class="str">5</span>]
            )
        ]
    }
}

<span class="comment">// ì•ŒëŒ ëª¨ë¸</span>
<span class="kw">struct</span> <span class="type">Alarm</span>: <span class="type">Identifiable</span> {
    <span class="kw">let</span> id = <span class="type">UUID</span>()
    <span class="kw">var</span> time: <span class="type">Date</span>
    <span class="kw">var</span> label: <span class="type">String</span>
    <span class="kw">var</span> isEnabled: <span class="type">Bool</span>
    <span class="kw">var</span> repeatDays: [<span class="type">Int</span>] <span class="comment">// 0=ì¼ìš”ì¼, 1=ì›”ìš”ì¼...</span>
    <span class="kw">var</span> sound: <span class="type">AlarmSound</span> = .default
    <span class="kw">var</span> snoozeEnabled: <span class="type">Bool</span> = <span class="kw">true</span>
    <span class="kw">var</span> vibrationPattern: <span class="type">VibrationPattern</span> = .default
}

<span class="kw">enum</span> <span class="type">AlarmSound</span>: <span class="type">String</span>, <span class="type">CaseIterable</span> {
    <span class="kw">case</span> `default` = <span class="str">"ê¸°ë³¸"</span>
    <span class="kw">case</span> radar = <span class="str">"ë ˆì´ë”"</span>
    <span class="kw">case</span> chimes = <span class="str">"ì°¨ì„ë²¨"</span>
    <span class="kw">case</span> bells = <span class="str">"ì¢…"</span>
}

<span class="kw">enum</span> <span class="type">VibrationPattern</span>: <span class="type">String</span>, <span class="type">CaseIterable</span> {
    <span class="kw">case</span> `default` = <span class="str">"ê¸°ë³¸"</span>
    <span class="kw">case</span> rapid = <span class="str">"ë¹ ë¥¸ ì§„ë™"</span>
    <span class="kw">case</span> heartbeat = <span class="str">"ì‹¬ì¥ ë°•ë™"</span>
}</pre>
</div>

<h2>â° 2. ì•ŒëŒ ìƒì„±</h2>
<p>ìƒˆë¡œìš´ ì•ŒëŒì„ ìƒì„±í•˜ê³  ì‹œìŠ¤í…œì— ë“±ë¡í•©ë‹ˆë‹¤.</p>

<div class="code-block">
<div class="code-header">CreateAlarmView.swift â€” ì•ŒëŒ ìƒì„±</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>

<span class="kw">struct</span> <span class="type">CreateAlarmView</span>: <span class="type">View</span> {
    <span class="kw">@Environment</span>(\.<span class="kw">dismiss</span>) <span class="kw">var</span> dismiss
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> alarmTime = <span class="type">Date</span>()
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> label = <span class="str">""</span>
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> selectedDays: <span class="type">Set</span><<span class="type">Int</span>> = []
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> selectedSound: <span class="type">AlarmSound</span> = .default
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> snoozeEnabled = <span class="kw">true</span>

    <span class="kw">let</span> weekdays = [<span class="str">"ì¼"</span>, <span class="str">"ì›”"</span>, <span class="str">"í™”"</span>, <span class="str">"ìˆ˜"</span>, <span class="str">"ëª©"</span>, <span class="str">"ê¸ˆ"</span>, <span class="str">"í† "</span>]

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">NavigationStack</span> {
            <span class="type">Form</span> {
                <span class="type">Section</span> {
                    <span class="comment">// ì‹œê°„ ì„ íƒ</span>
                    <span class="type">DatePicker</span>(
                        <span class="str">"ì‹œê°„"</span>,
                        selection: $alarmTime,
                        displayedComponents: .hourAndMinute
                    )
                    .datePickerStyle(.wheel)
                    .labelsHidden()
                }

                <span class="type">Section</span>(<span class="str">"ë¼ë²¨"</span>) {
                    <span class="type">TextField</span>(<span class="str">"ì•ŒëŒ ì´ë¦„"</span>, text: $label)
                }

                <span class="type">Section</span>(<span class="str">"ë°˜ë³µ"</span>) {
                    <span class="type">HStack</span>(spacing: <span class="str">8</span>) {
                        <span class="type">ForEach</span>(<span class="str">0</span>.<<span class="str">7</span>, id: \.<span class="kw">self</span>) { day <span class="kw">in</span>
                            <span class="type">Button</span> {
                                toggleDay(day)
                            } label: {
                                <span class="type">Text</span>(weekdays[day])
                                    .font(.caption)
                                    .frame(width: <span class="str">40</span>, height: <span class="str">40</span>)
                                    .background(
                                        selectedDays.contains(day) ?
                                            <span class="type">Color</span>.blue : <span class="type">Color</span>.gray.opacity(<span class="str">0.2</span>)
                                    )
                                    .foregroundStyle(
                                        selectedDays.contains(day) ? .white : .primary
                                    )
                                    .clipShape(<span class="type">Circle</span>())
                            }
                        }
                    }
                    .buttonStyle(.plain)
                }

                <span class="type">Section</span>(<span class="str">"ì•ŒëŒìŒ"</span>) {
                    <span class="type">Picker</span>(<span class="str">"ì†Œë¦¬"</span>, selection: $selectedSound) {
                        <span class="type">ForEach</span>(<span class="type">AlarmSound</span>.allCases, id: \.<span class="kw">self</span>) { sound <span class="kw">in</span>
                            <span class="type">Text</span>(sound.rawValue).tag(sound)
                        }
                    }
                }

                <span class="type">Section</span> {
                    <span class="type">Toggle</span>(<span class="str">"ìŠ¤ëˆ„ì¦ˆ"</span>, isOn: $snoozeEnabled)
                }
            }
            .navigationTitle(<span class="str">"ì•ŒëŒ ì¶”ê°€"</span>)
            .navigationBarTitleDisplayMode(.inline)
            .toolbar {
                <span class="type">ToolbarItem</span>(placement: .cancellationAction) {
                    <span class="type">Button</span>(<span class="str">"ì·¨ì†Œ"</span>) {
                        dismiss()
                    }
                }

                <span class="type">ToolbarItem</span>(placement: .confirmationAction) {
                    <span class="type">Button</span>(<span class="str">"ì €ì¥"</span>) {
                        saveAlarm()
                    }
                }
            }
        }
    }

    <span class="kw">func</span> toggleDay(<span class="kw">_</span> day: <span class="type">Int</span>) {
        <span class="kw">if</span> selectedDays.contains(day) {
            selectedDays.remove(day)
        } <span class="kw">else</span> {
            selectedDays.insert(day)
        }
    }

    <span class="kw">func</span> saveAlarm() {
        <span class="kw">let</span> alarm = <span class="type">Alarm</span>(
            time: alarmTime,
            label: label.isEmpty ? <span class="str">"ì•ŒëŒ"</span> : label,
            isEnabled: <span class="kw">true</span>,
            repeatDays: <span class="type">Array</span>(selectedDays).sorted(),
            sound: selectedSound,
            snoozeEnabled: snoozeEnabled
        )

        <span class="type">Task</span> {
            <span class="kw">await</span> scheduleAlarm(alarm)
        }

        dismiss()
    }

    <span class="kw">func</span> scheduleAlarm(<span class="kw">_</span> alarm: <span class="type">Alarm</span>) <span class="kw">async</span> {
        <span class="comment">// AlarmKit APIë¡œ ì•ŒëŒ ë“±ë¡</span>
        print(<span class="str">"â° ì•ŒëŒ ìƒì„±: \(alarm.label) at \(alarm.time)"</span>)

        <span class="comment">// UNNotificationRequest ìƒì„±</span>
        <span class="kw">let</span> content = <span class="type">UNMutableNotificationContent</span>()
        content.title = alarm.label
        content.sound = .default
        content.interruptionLevel = .timeSensitive

        <span class="comment">// ë°˜ë³µ ì„¤ì •</span>
        <span class="kw">if</span> alarm.repeatDays.isEmpty {
            <span class="comment">// ì¼íšŒì„± ì•ŒëŒ</span>
            <span class="kw">let</span> components = <span class="type">Calendar</span>.current.dateComponents(
                [.hour, .minute],
                from: alarm.time
            )
            <span class="kw">let</span> trigger = <span class="type">UNCalendarNotificationTrigger</span>(
                dateMatching: components,
                repeats: <span class="kw">false</span>
            )

            <span class="kw">let</span> request = <span class="type">UNNotificationRequest</span>(
                identifier: alarm.id.uuidString,
                content: content,
                trigger: trigger
            )

            <span class="kw">try</span>? <span class="kw">await</span> <span class="type">UNUserNotificationCenter</span>.current().add(request)
        } <span class="kw">else</span> {
            <span class="comment">// ë°˜ë³µ ì•ŒëŒ (ê° ìš”ì¼ë§ˆë‹¤ ë³„ë„ ë“±ë¡)</span>
            <span class="kw">for</span> day <span class="kw">in</span> alarm.repeatDays {
                <span class="kw">var</span> components = <span class="type">Calendar</span>.current.dateComponents(
                    [.hour, .minute],
                    from: alarm.time
                )
                components.weekday = day + <span class="str">1</span> <span class="comment">// 1=ì¼ìš”ì¼</span>

                <span class="kw">let</span> trigger = <span class="type">UNCalendarNotificationTrigger</span>(
                    dateMatching: components,
                    repeats: <span class="kw">true</span>
                )

                <span class="kw">let</span> request = <span class="type">UNNotificationRequest</span>(
                    identifier: <span class="str">"\(alarm.id.uuidString)-\(day)"</span>,
                    content: content,
                    trigger: trigger
                )

                <span class="kw">try</span>? <span class="kw">await</span> <span class="type">UNUserNotificationCenter</span>.current().add(request)
            }
        }
    }
}</pre>
</div>

<h2>ğŸ“‹ 3. ì•ŒëŒ ëª©ë¡</h2>
<p>ë“±ë¡ëœ ëª¨ë“  ì•ŒëŒì„ í‘œì‹œí•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.</p>

<div class="code-block">
<div class="code-header">AlarmListView.swift â€” ì•ŒëŒ ëª©ë¡</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>

<span class="kw">struct</span> <span class="type">AlarmListView</span>: <span class="type">View</span> {
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> manager = <span class="type">AlarmManager</span>()
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> showCreateAlarm = <span class="kw">false</span>

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">NavigationStack</span> {
            <span class="type">List</span> {
                <span class="kw">if</span> manager.alarms.isEmpty {
                    <span class="type">ContentUnavailableView</span> {
                        <span class="type">Label</span>(<span class="str">"ì•ŒëŒ ì—†ìŒ"</span>, systemImage: <span class="str">"alarm"</span>)
                    } description: {
                        <span class="type">Text</span>(<span class="str">"+ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì•ŒëŒì„ ì¶”ê°€í•˜ì„¸ìš”"</span>)
                    }
                } <span class="kw">else</span> {
                    <span class="type">ForEach</span>(manager.alarms) { alarm <span class="kw">in</span>
                        <span class="type">AlarmRow</span>(alarm: alarm) {
                            toggleAlarm(alarm)
                        }
                    }
                    .onDelete { indexSet <span class="kw">in</span>
                        deleteAlarms(at: indexSet)
                    }
                }
            }
            .navigationTitle(<span class="str">"ì•ŒëŒ"</span>)
            .toolbar {
                <span class="type">ToolbarItem</span>(placement: .topBarTrailing) {
                    <span class="type">Button</span> {
                        showCreateAlarm = <span class="kw">true</span>
                    } label: {
                        <span class="type">Image</span>(systemName: <span class="str">"plus"</span>)
                    }
                }
            }
            .sheet(isPresented: $showCreateAlarm) {
                <span class="type">CreateAlarmView</span>()
            }
            .task {
                <span class="kw">await</span> manager.requestAuthorization()
                <span class="kw">await</span> manager.loadAlarms()
            }
        }
    }

    <span class="kw">func</span> toggleAlarm(<span class="kw">_</span> alarm: <span class="type">Alarm</span>) {
        <span class="kw">guard</span> <span class="kw">let</span> index = manager.alarms.firstIndex(where: { $0.id == alarm.id })
        <span class="kw">else</span> { <span class="kw">return</span> }

        manager.alarms[index].isEnabled.toggle()

        <span class="type">Task</span> {
            <span class="kw">if</span> manager.alarms[index].isEnabled {
                <span class="kw">await</span> scheduleAlarm(manager.alarms[index])
            } <span class="kw">else</span> {
                <span class="kw">await</span> cancelAlarm(manager.alarms[index])
            }
        }
    }

    <span class="kw">func</span> deleteAlarms(at offsets: <span class="type">IndexSet</span>) {
        <span class="kw">for</span> index <span class="kw">in</span> offsets {
            <span class="kw">let</span> alarm = manager.alarms[index]
            <span class="type">Task</span> {
                <span class="kw">await</span> cancelAlarm(alarm)
            }
        }
        manager.alarms.remove(atOffsets: offsets)
    }

    <span class="kw">func</span> scheduleAlarm(<span class="kw">_</span> alarm: <span class="type">Alarm</span>) <span class="kw">async</span> {
        print(<span class="str">"â° ì•ŒëŒ í™œì„±í™”: \(alarm.label)"</span>)
    }

    <span class="kw">func</span> cancelAlarm(<span class="kw">_</span> alarm: <span class="type">Alarm</span>) <span class="kw">async</span> {
        <span class="comment">// ì•ŒëŒ ì·¨ì†Œ</span>
        <span class="kw">var</span> identifiers = [alarm.id.uuidString]

        <span class="comment">// ë°˜ë³µ ì•ŒëŒì¸ ê²½ìš° ëª¨ë“  ìš”ì¼ ì·¨ì†Œ</span>
        <span class="kw">for</span> day <span class="kw">in</span> alarm.repeatDays {
            identifiers.append(<span class="str">"\(alarm.id.uuidString)-\(day)"</span>)
        }

        <span class="type">UNUserNotificationCenter</span>.current()
            .removePendingNotificationRequests(withIdentifiers: identifiers)

        print(<span class="str">"ğŸ”• ì•ŒëŒ ë¹„í™œì„±í™”: \(alarm.label)"</span>)
    }
}

<span class="kw">struct</span> <span class="type">AlarmRow</span>: <span class="type">View</span> {
    <span class="kw">let</span> alarm: <span class="type">Alarm</span>
    <span class="kw">let</span> onToggle: () -> <span class="type">Void</span>

    <span class="kw">var</span> timeString: <span class="type">String</span> {
        <span class="kw">let</span> formatter = <span class="type">DateFormatter</span>()
        formatter.timeStyle = .short
        <span class="kw">return</span> formatter.string(from: alarm.time)
    }

    <span class="kw">var</span> repeatText: <span class="type">String</span> {
        <span class="kw">if</span> alarm.repeatDays.isEmpty {
            <span class="kw">return</span> <span class="str">"í•œ ë²ˆ"</span>
        }

        <span class="kw">let</span> weekdays = [<span class="str">"ì¼"</span>, <span class="str">"ì›”"</span>, <span class="str">"í™”"</span>, <span class="str">"ìˆ˜"</span>, <span class="str">"ëª©"</span>, <span class="str">"ê¸ˆ"</span>, <span class="str">"í† "</span>]
        <span class="kw">let</span> dayNames = alarm.repeatDays.map { weekdays[$0] }

        <span class="comment">// ë§¤ì¼</span>
        <span class="kw">if</span> alarm.repeatDays.count == <span class="str">7</span> {
            <span class="kw">return</span> <span class="str">"ë§¤ì¼"</span>
        }

        <span class="comment">// ì£¼ì¤‘</span>
        <span class="kw">if</span> <span class="type">Set</span>(alarm.repeatDays) == <span class="type">Set</span>([<span class="str">1</span>, <span class="str">2</span>, <span class="str">3</span>, <span class="str">4</span>, <span class="str">5</span>]) {
            <span class="kw">return</span> <span class="str">"ì£¼ì¤‘"</span>
        }

        <span class="comment">// ì£¼ë§</span>
        <span class="kw">if</span> <span class="type">Set</span>(alarm.repeatDays) == <span class="type">Set</span>([<span class="str">0</span>, <span class="str">6</span>]) {
            <span class="kw">return</span> <span class="str">"ì£¼ë§"</span>
        }

        <span class="kw">return</span> dayNames.joined(separator: <span class="str">", "</span>)
    }

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">HStack</span> {
            <span class="type">VStack</span>(alignment: .leading, spacing: <span class="str">4</span>) {
                <span class="type">Text</span>(timeString)
                    .font(.system(size: <span class="str">40</span>, weight: .light))
                    .foregroundStyle(alarm.isEnabled ? .primary : .secondary)

                <span class="kw">if</span> !alarm.label.isEmpty {
                    <span class="type">Text</span>(alarm.label)
                        .font(.headline)
                }

                <span class="type">Text</span>(repeatText)
                    .font(.subheadline)
                    .foregroundStyle(.secondary)
            }

            <span class="type">Spacer</span>()

            <span class="type">Toggle</span>(<span class="str">""</span>, isOn: <span class="type">Binding</span>(
                get: { alarm.isEnabled },
                set: { <span class="kw">_</span> <span class="kw">in</span> onToggle() }
            ))
            .labelsHidden()
        }
        .padding(.vertical, <span class="str">8</span>)
    }
}</pre>
</div>

<h2>â±ï¸ 4. ìŠ¤ëˆ„ì¦ˆ ê¸°ëŠ¥</h2>
<p>ì•ŒëŒì´ ìš¸ë¦´ ë•Œ ìŠ¤ëˆ„ì¦ˆë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.</p>

<div class="code-block">
<div class="code-header">SnoozeHandler.swift â€” ìŠ¤ëˆ„ì¦ˆ ì²˜ë¦¬</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">UserNotifications</span>

<span class="kw">@Observable</span>
<span class="kw">class</span> <span class="type">SnoozeHandler</span>: <span class="type">NSObject</span>, <span class="type">UNUserNotificationCenterDelegate</span> {
    <span class="kw">var</span> snoozeDuration: <span class="type">TimeInterval</span> = <span class="str">9</span> * <span class="str">60</span> <span class="comment">// 9ë¶„</span>

    <span class="kw">override</span> <span class="kw">init</span>() {
        <span class="kw">super</span>.<span class="kw">init</span>()
        <span class="type">UNUserNotificationCenter</span>.current().delegate = <span class="kw">self</span>
    }

    <span class="comment">// ì•Œë¦¼ì´ í™”ë©´ì— í‘œì‹œë  ë•Œ</span>
    <span class="kw">func</span> userNotificationCenter(
        <span class="kw">_</span> center: <span class="type">UNUserNotificationCenter</span>,
        willPresent notification: <span class="type">UNNotification</span>
    ) <span class="kw">async</span> -> <span class="type">UNNotificationPresentationOptions</span> {
        <span class="comment">// ì•ŒëŒ í™”ë©´ í‘œì‹œ</span>
        <span class="kw">return</span> [.banner, .sound, .list]
    }

    <span class="comment">// ì•Œë¦¼ ì•¡ì…˜ ì²˜ë¦¬</span>
    <span class="kw">func</span> userNotificationCenter(
        <span class="kw">_</span> center: <span class="type">UNUserNotificationCenter</span>,
        didReceive response: <span class="type">UNNotificationResponse</span>
    ) <span class="kw">async</span> {
        <span class="kw">switch</span> response.actionIdentifier {
        <span class="kw">case</span> <span class="str">"SNOOZE_ACTION"</span>:
            <span class="kw">await</span> snoozeAlarm(response.notification)

        <span class="kw">case</span> <span class="str">"STOP_ACTION"</span>, <span class="type">UNNotificationDefaultActionIdentifier</span>:
            stopAlarm(response.notification)

        <span class="kw">default</span>:
            <span class="kw">break</span>
        }
    }

    <span class="comment">// ìŠ¤ëˆ„ì¦ˆ ì•ŒëŒ ë“±ë¡</span>
    <span class="kw">func</span> snoozeAlarm(<span class="kw">_</span> notification: <span class="type">UNNotification</span>) <span class="kw">async</span> {
        <span class="kw">let</span> content = <span class="type">UNMutableNotificationContent</span>()
        content.title = notification.request.content.title
        content.body = <span class="str">"ìŠ¤ëˆ„ì¦ˆ"</span>
        content.sound = .default
        content.interruptionLevel = .timeSensitive

        <span class="comment">// 9ë¶„ í›„ ë‹¤ì‹œ ì•ŒëŒ</span>
        <span class="kw">let</span> trigger = <span class="type">UNTimeIntervalNotificationTrigger</span>(
            timeInterval: snoozeDuration,
            repeats: <span class="kw">false</span>
        )

        <span class="kw">let</span> request = <span class="type">UNNotificationRequest</span>(
            identifier: <span class="str">"\(notification.request.identifier)-snooze"</span>,
            content: content,
            trigger: trigger
        )

        <span class="kw">try</span>? <span class="kw">await</span> <span class="type">UNUserNotificationCenter</span>.current().add(request)
        print(<span class="str">"ğŸ˜´ ìŠ¤ëˆ„ì¦ˆ: 9ë¶„ í›„ ë‹¤ì‹œ ì•ŒëŒ"</span>)
    }

    <span class="comment">// ì•ŒëŒ ì¤‘ì§€</span>
    <span class="kw">func</span> stopAlarm(<span class="kw">_</span> notification: <span class="type">UNNotification</span>) {
        print(<span class="str">"â¹ï¸ ì•ŒëŒ ì¤‘ì§€"</span>)
    }
}

<span class="comment">// ì•ŒëŒ ì•¡ì…˜ ì¹´í…Œê³ ë¦¬ ë“±ë¡</span>
<span class="kw">extension</span> <span class="type">UNUserNotificationCenter</span> {
    <span class="kw">static</span> <span class="kw">func</span> registerAlarmActions() {
        <span class="kw">let</span> snoozeAction = <span class="type">UNNotificationAction</span>(
            identifier: <span class="str">"SNOOZE_ACTION"</span>,
            title: <span class="str">"ìŠ¤ëˆ„ì¦ˆ"</span>,
            options: []
        )

        <span class="kw">let</span> stopAction = <span class="type">UNNotificationAction</span>(
            identifier: <span class="str">"STOP_ACTION"</span>,
            title: <span class="str">"ì¤‘ì§€"</span>,
            options: [.destructive]
        )

        <span class="kw">let</span> category = <span class="type">UNNotificationCategory</span>(
            identifier: <span class="str">"ALARM_CATEGORY"</span>,
            actions: [snoozeAction, stopAction],
            intentIdentifiers: [],
            options: [.customDismissAction]
        )

        <span class="type">UNUserNotificationCenter</span>.current().setNotificationCategories([category])
    }
}</pre>
</div>

<h2>ğŸ”” 5. Live Activity í†µí•©</h2>
<p>ì•ŒëŒì´ ìš¸ë¦´ ë•Œ Dynamic Islandì™€ ì ê¸ˆ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.</p>

<div class="code-block">
<div class="code-header">AlarmActivityView.swift â€” Live Activity</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">ActivityKit</span>

<span class="comment">// ì•ŒëŒ Activity ì†ì„±</span>
<span class="kw">struct</span> <span class="type">AlarmActivityAttributes</span>: <span class="type">ActivityAttributes</span> {
    <span class="kw">public</span> <span class="kw">struct</span> <span class="type">ContentState</span>: <span class="type">Codable</span>, <span class="type">Hashable</span> {
        <span class="kw">var</span> timeRemaining: <span class="type">TimeInterval</span>
        <span class="kw">var</span> isSnoozed: <span class="type">Bool</span>
    }

    <span class="kw">var</span> alarmLabel: <span class="type">String</span>
    <span class="kw">var</span> alarmTime: <span class="type">Date</span>
}

<span class="comment">// Dynamic Island ë·°</span>
<span class="kw">struct</span> <span class="type">AlarmActivityView</span>: <span class="type">View</span> {
    <span class="kw">let</span> context: <span class="type">ActivityViewContext</span><<span class="type">AlarmActivityAttributes</span>>

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">VStack</span> {
            <span class="type">HStack</span> {
                <span class="type">Image</span>(systemName: <span class="str">"alarm.fill"</span>)
                    .foregroundStyle(.orange)

                <span class="type">VStack</span>(alignment: .leading) {
                    <span class="type">Text</span>(context.attributes.alarmLabel)
                        .font(.headline)

                    <span class="kw">if</span> context.state.isSnoozed {
                        <span class="type">Text</span>(<span class="str">"ìŠ¤ëˆ„ì¦ˆë¨"</span>)
                            .font(.caption)
                            .foregroundStyle(.secondary)
                    }
                }

                <span class="type">Spacer</span>()

                <span class="type">Text</span>(timeRemainingText)
                    .font(.title2)
                    .fontWeight(.semibold)
                    .monospacedDigit()
            }
            .padding()
        }
    }

    <span class="kw">var</span> timeRemainingText: <span class="type">String</span> {
        <span class="kw">let</span> remaining = <span class="type">Int</span>(context.state.timeRemaining)
        <span class="kw">let</span> minutes = remaining / <span class="str">60</span>
        <span class="kw">let</span> seconds = remaining % <span class="str">60</span>
        <span class="kw">return</span> <span class="type">String</span>(format: <span class="str">"%02d:%02d"</span>, minutes, seconds)
    }
}

<span class="comment">// Live Activity ì‹œì‘</span>
<span class="kw">func</span> startAlarmActivity(alarm: <span class="type">Alarm</span>) <span class="kw">async</span> {
    <span class="kw">let</span> attributes = <span class="type">AlarmActivityAttributes</span>(
        alarmLabel: alarm.label,
        alarmTime: alarm.time
    )

    <span class="kw">let</span> initialState = <span class="type">AlarmActivityAttributes</span>.<span class="type">ContentState</span>(
        timeRemaining: <span class="str">60</span>,
        isSnoozed: <span class="kw">false</span>
    )

    <span class="kw">do</span> {
        <span class="kw">let</span> activity = <span class="kw">try</span> <span class="type">Activity</span>.request(
            attributes: attributes,
            content: .<span class="kw">init</span>(state: initialState, staleDate: <span class="kw">nil</span>)
        )

        print(<span class="str">"âœ… Live Activity ì‹œì‘: \(activity.id)"</span>)
    } <span class="kw">catch</span> {
        print(<span class="str">"âŒ Live Activity ì‹¤íŒ¨: \(error)"</span>)
    }
}</pre>
</div>

<h2>ğŸµ 6. ì»¤ìŠ¤í…€ ì•ŒëŒìŒ</h2>
<p>ì‚¬ìš©ì ì§€ì • ì•ŒëŒìŒê³¼ ì§„ë™ íŒ¨í„´ì„ ì„¤ì •í•©ë‹ˆë‹¤.</p>

<div class="code-block">
<div class="code-header">CustomSoundPicker.swift â€” ì•ŒëŒìŒ ì„ íƒ</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">AVFoundation</span>

<span class="kw">struct</span> <span class="type">CustomSoundPickerView</span>: <span class="type">View</span> {
    <span class="kw">@Binding</span> <span class="kw">var</span> selectedSound: <span class="type">AlarmSound</span>
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> audioPlayer: <span class="type">AVAudioPlayer</span>?

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">List</span> {
            <span class="type">Section</span>(<span class="str">"ê¸°ë³¸ ì•ŒëŒìŒ"</span>) {
                <span class="type">ForEach</span>(<span class="type">AlarmSound</span>.allCases, id: \.<span class="kw">self</span>) { sound <span class="kw">in</span>
                    <span class="type">HStack</span> {
                        <span class="type">Text</span>(sound.rawValue)

                        <span class="type">Spacer</span>()

                        <span class="kw">if</span> selectedSound == sound {
                            <span class="type">Image</span>(systemName: <span class="str">"checkmark"</span>)
                                .foregroundStyle(.blue)
                        }

                        <span class="type">Button</span> {
                            previewSound(sound)
                        } label: {
                            <span class="type">Image</span>(systemName: <span class="str">"play.circle"</span>)
                        }
                        .buttonStyle(.borderless)
                    }
                    .contentShape(<span class="type">Rectangle</span>())
                    .onTapGesture {
                        selectedSound = sound
                    }
                }
            }

            <span class="type">Section</span>(<span class="str">"ì»¤ìŠ¤í…€ ì•ŒëŒìŒ"</span>) {
                <span class="type">Button</span> {
                    importCustomSound()
                } label: {
                    <span class="type">Label</span>(<span class="str">"ì‚¬ìš´ë“œ ê°€ì ¸ì˜¤ê¸°"</span>, systemImage: <span class="str">"plus.circle"</span>)
                }
            }
        }
        .navigationTitle(<span class="str">"ì•ŒëŒìŒ"</span>)
    }

    <span class="kw">func</span> previewSound(<span class="kw">_</span> sound: <span class="type">AlarmSound</span>) {
        <span class="comment">// ì‹œìŠ¤í…œ ì‚¬ìš´ë“œ ì¬ìƒ</span>
        <span class="type">AudioServicesPlaySystemSound</span>(<span class="str">1005</span>) <span class="comment">// ì˜ˆì‹œ</span>
    }

    <span class="kw">func</span> importCustomSound() {
        print(<span class="str">"ğŸµ ì»¤ìŠ¤í…€ ì‚¬ìš´ë“œ ê°€ì ¸ì˜¤ê¸°"</span>)
    }
}</pre>
</div>

<h2>ğŸ’¡ HIG ê°€ì´ë“œë¼ì¸</h2>

<ul>
<li><strong>ì‹œìŠ¤í…œ í†µí•©:</strong> ì‹œê³„ ì•±ì˜ ì•ŒëŒê³¼ ì™„ë²½í•˜ê²Œ í†µí•©ë˜ì–´ì•¼ í•¨</li>
<li><strong>ëª…í™•í•œ ì •ë³´:</strong> ì•ŒëŒ ì‹œê°„, ë°˜ë³µ ì„¤ì •ì„ ëª…í™•íˆ í‘œì‹œ</li>
<li><strong>ì‰¬ìš´ í† ê¸€:</strong> ì•ŒëŒ í™œì„±í™”/ë¹„í™œì„±í™”ë¥¼ ë¹ ë¥´ê²Œ ì „í™˜</li>
<li><strong>ìŠ¤ëˆ„ì¦ˆ ì§€ì›:</strong> í‘œì¤€ 9ë¶„ ìŠ¤ëˆ„ì¦ˆ ì œê³µ</li>
<li><strong>Critical Alert:</strong> ì¤‘ìš”í•œ ì•ŒëŒì€ Critical Alert ì‚¬ìš© ê³ ë ¤</li>
</ul>

<h2>ğŸ¯ ì‹¤ì „ í™œìš©</h2>

<ul>
<li><strong>ìˆ˜ë©´ ì¶”ì  ì•±:</strong> ê¸°ìƒ ì•ŒëŒê³¼ ì·¨ì¹¨ ì•Œë¦¼</li>
<li><strong>ì•½ ë³µìš© ì•Œë¦¼:</strong> ì •í™•í•œ ì‹œê°„ì— ë°˜ë³µ ì•ŒëŒ</li>
<li><strong>ìš´ë™ ì•±:</strong> ìš´ë™ ì‹œê°„ ì•Œë¦¼</li>
<li><strong>í•  ì¼ ì•±:</strong> ë§ˆê° ì‹œê°„ ì•ŒëŒ</li>
<li><strong>ëª…ìƒ ì•±:</strong> ì •ê¸°ì ì¸ ëª…ìƒ ì‹œê°„ ì•Œë¦¼</li>
</ul>

<h2>ğŸ“š ë” ì•Œì•„ë³´ê¸°</h2>

<ul>
<li><a href="https://developer.apple.com/documentation/usernotifications">User Notifications</a></li>
<li><a href="https://developer.apple.com/documentation/activitykit">ActivityKit</a></li>
<li><a href="https://developer.apple.com/design/human-interface-guidelines/notifications">HIG: Notifications</a></li>
</ul>

<div class="info-box">
<strong>âš¡ï¸ íŒ:</strong> AlarmKitì€ ì‹œìŠ¤í…œ ì‹œê³„ ì•±ê³¼ ì™„ë²½í•˜ê²Œ í†µí•©ë©ë‹ˆë‹¤. ì•±ì—ì„œ ìƒì„±í•œ ì•ŒëŒì€ ì‹œê³„ ì•±ì—ì„œë„ ë³´ì´ë©°, ì‚¬ìš©ìê°€ ì–´ë””ì„œë“  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Critical Alert ê¶Œí•œì„ ìš”ì²­í•˜ë©´ ë¬´ìŒ ëª¨ë“œì—ì„œë„ ì•ŒëŒì´ ìš¸ë¦½ë‹ˆë‹¤. Live Activityë¥¼ í™œìš©í•˜ë©´ Dynamic Islandì—ì„œ ì•ŒëŒ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</div>

<div style="margin-top:48px;padding:24px;background:linear-gradient(135deg,#f5f5f7,#e8e8ed);border-radius:16px;">
  <h2 style="font-size:20px;margin-bottom:12px;">ğŸ“ Apple ê³µì‹ ìë£Œ</h2>
  <div style="display:flex;flex-wrap:wrap;gap:12px;">
    <a href="https://developer.apple.com/documentation/alarmkit" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:white;border-radius:10px;text-decoration:none;color:var(--accent);font-weight:600;font-size:14px;border:1px solid var(--border);transition:all .2s;">ğŸ“˜ ê³µì‹ ë¬¸ì„œ</a>
    <a href="https://developer.apple.com/videos/all-videos/?q=AlarmKit" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:white;border-radius:10px;text-decoration:none;color:var(--accent);font-weight:600;font-size:14px;border:1px solid var(--border);transition:all .2s;">ğŸ¬ WWDC ì„¸ì…˜</a>
  </div>
</div>
</article>
</body></html>
