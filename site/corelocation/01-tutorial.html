<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="CoreLocation ìœ„ì¹˜ ì„œë¹„ìŠ¤ í”„ë ˆì„ì›Œí¬ ì™„ì „ ê°€ì´ë“œ. ì‹¤ì „ ì˜ˆì œì™€ ì½”ë“œë¡œ ë°°ìš°ëŠ” HIG Lab íŠœí† ë¦¬ì–¼.">
    <meta property="og:title" content="ğŸ“ Core Location ì™„ì „ì •ë³µ â€” HIG Lab">
    <meta property="og:description" content="CoreLocation ìœ„ì¹˜ ì„œë¹„ìŠ¤ í”„ë ˆì„ì›Œí¬ ì™„ì „ ê°€ì´ë“œ. ì‹¤ì „ ì˜ˆì œì™€ ì½”ë“œë¡œ ë°°ìš°ëŠ” HIG Lab íŠœí† ë¦¬ì–¼.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://m1zz.github.io/HIGLab/corelocation/01-tutorial.html">
    <meta property="og:site_name" content="HIG Lab">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="ğŸ“ Core Location ì™„ì „ì •ë³µ â€” HIG Lab">
    <meta name="twitter:description" content="CoreLocation ìœ„ì¹˜ ì„œë¹„ìŠ¤ í”„ë ˆì„ì›Œí¬ ì™„ì „ ê°€ì´ë“œ. ì‹¤ì „ ì˜ˆì œì™€ ì½”ë“œë¡œ ë°°ìš°ëŠ” HIG Lab íŠœí† ë¦¬ì–¼.">
    <link rel="alternate" hreflang="ko" href="https://m1zz.github.io/HIGLab/corelocation/01-tutorial.html">
    <link rel="alternate" hreflang="en" href="https://m1zz.github.io/HIGLab/corelocation/01-tutorial.en.html">
<title>ğŸ“ Core Location ì™„ì „ì •ë³µ â€” HIG Lab</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root{--bg:#fafafa;--surface:#fff;--text:#1d1d1f;--text-2:#6e6e73;--accent:#0071e3;--green:#34c759;--border:#d2d2d7;--code-bg:#1e1e2e;--radius:16px}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Noto Sans KR',-apple-system,sans-serif;background:var(--bg);color:var(--text);line-height:1.8}
.top-bar{position:sticky;top:0;z-index:100;background:rgba(250,250,250,0.88);backdrop-filter:blur(20px);border-bottom:.5px solid var(--border)}
.top-bar-inner{max-width:800px;margin:0 auto;padding:12px 24px;display:flex;justify-content:space-between}
.top-logo{font-size:16px;font-weight:700;text-decoration:none;color:var(--text)}.top-logo span{color:var(--accent)}
article{max-width:800px;margin:0 auto;padding:48px 24px 120px}
h1{font-size:clamp(32px,5vw,44px);font-weight:900;letter-spacing:-1.5px;line-height:1.2;margin-bottom:16px}
h2{font-size:26px;font-weight:800;margin:48px 0 16px}p{margin-bottom:16px}
.code-block{background:var(--code-bg);border-radius:12px;margin:20px 0;overflow:hidden}
.code-header{padding:10px 16px;background:rgba(255,255,255,0.05);border-bottom:1px solid rgba(255,255,255,0.08);display:flex;justify-content:space-between}
.code-filename{font-size:13px;color:#cdd6f4;font-family:'JetBrains Mono',monospace}
pre.code-body{margin:0;padding:16px;font-family:'JetBrains Mono',monospace;font-size:13px;line-height:1.6;color:#cdd6f4;white-space:pre;overflow-x:auto}
.code-body .kw{color:#cba6f7}.code-body .type{color:#89b4fa}.code-body .str{color:#a6e3a1}.code-body .func{color:#89dceb}.code-body .prop{color:#f5c2e7}.code-body .comment{color:#6c7086}.code-body .num{color:#fab387}
</style>
</head>
<body>
<div class="top-bar"><div class="top-bar-inner"><a href="../index.html" class="top-logo">HIG <span>Lab</span></a><a href="01-tutorial.en.html" class="lang-toggle" style="font-size:12px;font-weight:600;color:#0071e3;text-decoration:none;padding:4px 10px;border:1.5px solid #0071e3;border-radius:12px;">ğŸŒ EN</a></div></div>
<article>
<h1>ğŸ“ Core Location ì™„ì „ì •ë³µ</h1>
<p>GPS ìœ„ì¹˜ ì¶”ì ë¶€í„° ì§€ì˜¤íœì‹±ê¹Œì§€. ìœ„ì¹˜ ê¸°ë°˜ ì„œë¹„ìŠ¤ì˜ ëª¨ë“  ê²ƒ!</p>
<!-- higlab-metadata -->
<div style="display:flex;gap:16px;align-items:center;margin:12px 0 24px;padding:12px 16px;background:var(--tag-bg,#f5f5f7);border-radius:10px;font-size:13px;color:var(--text-2,#6e6e73);flex-wrap:wrap;">
  <span>â­ ë‚œì´ë„: â­â­</span>
  <span>â±ï¸ ì˜ˆìƒ ì‹œê°„: 1-2h</span>
  <span>ğŸ“‚ App Services</span>
</div>

<h2>âœ¨ Core Locationì´ë€?</h2>
<p>Core Locationì€ GPS, Wi-Fi, ì…€ë£°ëŸ¬ë¥¼ í™œìš©í•´ ì‚¬ìš©ì ìœ„ì¹˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ìœ„ì¹˜ ì¶”ì , ì§€ì˜¤íœì‹±, ë‚˜ì¹¨ë°˜ ë“±ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<h2>ğŸ” ê¶Œí•œ ìš”ì²­</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">Info.plist</span></div>
<pre class="code-body"><span class="comment">&lt;!-- í•„ìˆ˜: ì‚¬ìš© ëª©ì  ì„¤ëª… --&gt;</span>

<span class="comment">&lt;!-- ì•± ì‚¬ìš© ì¤‘ì—ë§Œ ìœ„ì¹˜ --&gt;</span>
<span class="kw">&lt;key&gt;</span>NSLocationWhenInUseUsageDescription<span class="kw">&lt;/key&gt;</span>
<span class="kw">&lt;string&gt;</span>í˜„ì¬ ìœ„ì¹˜ë¥¼ ì§€ë„ì— í‘œì‹œí•˜ê¸° ìœ„í•´ í•„ìš”í•©ë‹ˆë‹¤<span class="kw">&lt;/string&gt;</span>

<span class="comment">&lt;!-- í•­ìƒ ìœ„ì¹˜ (ë°±ê·¸ë¼ìš´ë“œ) --&gt;</span>
<span class="kw">&lt;key&gt;</span>NSLocationAlwaysAndWhenInUseUsageDescription<span class="kw">&lt;/key&gt;</span>
<span class="kw">&lt;string&gt;</span>ì§€ì˜¤íœì‹± ì•Œë¦¼ì„ ìœ„í•´ ë°±ê·¸ë¼ìš´ë“œ ìœ„ì¹˜ ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤<span class="kw">&lt;/string&gt;</span></pre></div>

<h2>ğŸ“ í˜„ì¬ ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">LocationManager.swift</span></div>
<pre class="code-body"><span class="kw">import</span> <span class="type">CoreLocation</span>

<span class="kw">class</span> <span class="type">LocationManager</span>: <span class="type">NSObject</span>, <span class="type">CLLocationManagerDelegate</span>, <span class="type">ObservableObject</span> {
    <span class="kw">private let</span> <span class="prop">manager</span> = <span class="type">CLLocationManager</span>()

    @<span class="type">Published</span> <span class="kw">var</span> location: <span class="type">CLLocation</span>?
    @<span class="type">Published</span> <span class="kw">var</span> authorizationStatus: <span class="type">CLAuthorizationStatus</span>?

    <span class="kw">override</span> <span class="kw">init</span>() {
        <span class="kw">super</span>.<span class="kw">init</span>()
        manager.delegate = <span class="kw">self</span>
        manager.desiredAccuracy = <span class="type">kCLLocationAccuracyBest</span>
    }

    <span class="comment">// ê¶Œí•œ ìš”ì²­</span>
    <span class="kw">func</span> <span class="func">requestPermission</span>() {
        manager.<span class="func">requestWhenInUseAuthorization</span>()
        <span class="comment">// ë˜ëŠ” manager.requestAlwaysAuthorization()</span>
    }

    <span class="comment">// ìœ„ì¹˜ ì¶”ì  ì‹œì‘</span>
    <span class="kw">func</span> <span class="func">startUpdating</span>() {
        manager.<span class="func">startUpdatingLocation</span>()
    }

    <span class="comment">// ìœ„ì¹˜ ì¶”ì  ì¤‘ì§€</span>
    <span class="kw">func</span> <span class="func">stopUpdating</span>() {
        manager.<span class="func">stopUpdatingLocation</span>()
    }

    <span class="comment">// í•œ ë²ˆë§Œ ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸° (iOS 14+)</span>
    <span class="kw">func</span> <span class="func">requestLocation</span>() {
        manager.<span class="func">requestLocation</span>()
    }

    <span class="comment">// Delegate - ìœ„ì¹˜ ì—…ë°ì´íŠ¸</span>
    <span class="kw">func</span> <span class="func">locationManager</span>(_ manager: <span class="type">CLLocationManager</span>, didUpdateLocations locations: [<span class="type">CLLocation</span>]) {
        location = locations.last
        <span class="func">print</span>(<span class="str">"ìœ„ì¹˜: \(location!.coordinate.latitude), \(location!.coordinate.longitude)"</span>)
    }

    <span class="comment">// Delegate - ê¶Œí•œ ë³€ê²½</span>
    <span class="kw">func</span> <span class="func">locationManagerDidChangeAuthorization</span>(_ manager: <span class="type">CLLocationManager</span>) {
        authorizationStatus = manager.authorizationStatus

        <span class="kw">switch</span> manager.authorizationStatus {
        <span class="kw">case</span> .authorizedWhenInUse, .authorizedAlways:
            <span class="func">startUpdating</span>()
        <span class="kw">case</span> .denied, .restricted:
            <span class="func">print</span>(<span class="str">"ìœ„ì¹˜ ê¶Œí•œ ê±°ë¶€"</span>)
        <span class="kw">case</span> .notDetermined:
            <span class="func">requestPermission</span>()
        @unknown <span class="kw">default</span>:
            <span class="kw">break</span>
        }
    }

    <span class="comment">// Delegate - ì—ëŸ¬</span>
    <span class="kw">func</span> <span class="func">locationManager</span>(_ manager: <span class="type">CLLocationManager</span>, didFailWithError error: <span class="type">Error</span>) {
        <span class="func">print</span>(<span class="str">"ìœ„ì¹˜ ì˜¤ë¥˜: \(error.localizedDescription)"</span>)
    }
}</pre></div>

<h2>ğŸ“± SwiftUI í†µí•©</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">LocationView.swift</span></div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>

<span class="kw">struct</span> <span class="type">LocationView</span>: <span class="type">View</span> {
    @<span class="type">StateObject</span> <span class="kw">private var</span> locationManager = <span class="type">LocationManager</span>()

    <span class="kw">var</span> <span class="prop">body</span>: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">VStack</span>(spacing: <span class="num">20</span>) {
            <span class="kw">if let</span> location = locationManager.location {
                <span class="type">Text</span>(<span class="str">"ğŸ“ í˜„ì¬ ìœ„ì¹˜"</span>)
                    .font(.headline)

                <span class="type">Text</span>(<span class="str">"ìœ„ë„: \(location.coordinate.latitude)"</span>)
                <span class="type">Text</span>(<span class="str">"ê²½ë„: \(location.coordinate.longitude)"</span>)
                <span class="type">Text</span>(<span class="str">"ê³ ë„: \(location.altitude)m"</span>)
                <span class="type">Text</span>(<span class="str">"ì •í™•ë„: \(location.horizontalAccuracy)m"</span>)
            } <span class="kw">else</span> {
                <span class="type">Text</span>(<span class="str">"ìœ„ì¹˜ ì •ë³´ ì—†ìŒ"</span>)

                <span class="type">Button</span>(<span class="str">"ìœ„ì¹˜ ê¶Œí•œ ìš”ì²­"</span>) {
                    locationManager.<span class="func">requestPermission</span>()
                }
                .buttonStyle(.borderedProminent)
            }
        }
        .padding()
    }
}</pre></div>

<h2>ğŸ¯ ì§€ì˜¤íœì‹± (Geofencing)</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">Geofencing.swift</span></div>
<pre class="code-body"><span class="kw">import</span> <span class="type">CoreLocation</span>

<span class="kw">class</span> <span class="type">GeofenceManager</span>: <span class="type">NSObject</span>, <span class="type">CLLocationManagerDelegate</span> {
    <span class="kw">private let</span> <span class="prop">manager</span> = <span class="type">CLLocationManager</span>()

    <span class="kw">override</span> <span class="kw">init</span>() {
        <span class="kw">super</span>.<span class="kw">init</span>()
        manager.delegate = <span class="kw">self</span>
    }

    <span class="comment">// ì§€ì˜¤íœìŠ¤ ì¶”ê°€ (íŠ¹ì • ì§€ì—­ ëª¨ë‹ˆí„°ë§)</span>
    <span class="kw">func</span> <span class="func">startMonitoring</span>(
        identifier: <span class="type">String</span>,
        center: <span class="type">CLLocationCoordinate2D</span>,
        radius: <span class="type">CLLocationDistance</span>
    ) {
        <span class="comment">// ê¶Œí•œ ì²´í¬</span>
        <span class="kw">guard</span> manager.authorizationStatus == .authorizedAlways <span class="kw">else</span> {
            manager.<span class="func">requestAlwaysAuthorization</span>()
            <span class="kw">return</span>
        }

        <span class="comment">// ì›í˜• ì§€ì—­ ìƒì„±</span>
        <span class="kw">let</span> region = <span class="type">CLCircularRegion</span>(
            center: center,
            radius: radius,  <span class="comment">// ë¯¸í„° ë‹¨ìœ„ (ìµœëŒ€ 400m)</span>
            identifier: identifier
        )

        region.notifyOnEntry = <span class="kw">true</span>  <span class="comment">// ì§„ì… ì‹œ ì•Œë¦¼</span>
        region.notifyOnExit = <span class="kw">true</span>  <span class="comment">// í‡´ì¶œ ì‹œ ì•Œë¦¼</span>

        manager.<span class="func">startMonitoring</span>(for: region)
    }

    <span class="comment">// ì§€ì˜¤íœìŠ¤ ì œê±°</span>
    <span class="kw">func</span> <span class="func">stopMonitoring</span>(identifier: <span class="type">String</span>) {
        <span class="kw">for</span> region <span class="kw">in</span> manager.monitoredRegions {
            <span class="kw">if</span> region.identifier == identifier {
                manager.<span class="func">stopMonitoring</span>(for: region)
            }
        }
    }

    <span class="comment">// Delegate - ì§€ì—­ ì§„ì…</span>
    <span class="kw">func</span> <span class="func">locationManager</span>(_ manager: <span class="type">CLLocationManager</span>, didEnterRegion region: <span class="type">CLRegion</span>) {
        <span class="func">print</span>(<span class="str">"âœ… \(region.identifier) ì§€ì—­ì— ì§„ì…í–ˆìŠµë‹ˆë‹¤"</span>)
        <span class="comment">// ë¡œì»¬ ì•Œë¦¼ í‘œì‹œ</span>
        <span class="func">sendNotification</span>(title: <span class="str">"ì§€ì—­ ì§„ì…"</span>, body: <span class="str">"\(region.identifier)ì— ë„ì°©í–ˆìŠµë‹ˆë‹¤"</span>)
    }

    <span class="comment">// Delegate - ì§€ì—­ í‡´ì¶œ</span>
    <span class="kw">func</span> <span class="func">locationManager</span>(_ manager: <span class="type">CLLocationManager</span>, didExitRegion region: <span class="type">CLRegion</span>) {
        <span class="func">print</span>(<span class="str">"ğŸšª \(region.identifier) ì§€ì—­ì„ ë²—ì–´ë‚¬ìŠµë‹ˆë‹¤"</span>)
        <span class="func">sendNotification</span>(title: <span class="str">"ì§€ì—­ í‡´ì¶œ"</span>, body: <span class="str">"\(region.identifier)ì„ ë– ë‚¬ìŠµë‹ˆë‹¤"</span>)
    }

    <span class="kw">func</span> <span class="func">sendNotification</span>(title: <span class="type">String</span>, body: <span class="type">String</span>) {
        <span class="comment">// UNUserNotificationCenter ì‚¬ìš©</span>
    }
}

<span class="comment">// ì‚¬ìš© ì˜ˆì‹œ</span>
<span class="kw">let</span> geofence = <span class="type">GeofenceManager</span>()
geofence.<span class="func">startMonitoring</span>(
    identifier: <span class="str">"ì§‘"</span>,
    center: <span class="type">CLLocationCoordinate2D</span>(latitude: <span class="num">37.5665</span>, longitude: <span class="num">126.9780</span>),
    radius: <span class="num">100</span>  <span class="comment">// 100ë¯¸í„°</span>
)</pre></div>

<h2>ğŸ§­ ë‚˜ì¹¨ë°˜ (Heading)</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">Compass.swift</span></div>
<pre class="code-body"><span class="kw">import</span> <span class="type">CoreLocation</span>

<span class="kw">class</span> <span class="type">CompassManager</span>: <span class="type">NSObject</span>, <span class="type">CLLocationManagerDelegate</span>, <span class="type">ObservableObject</span> {
    <span class="kw">private let</span> <span class="prop">manager</span> = <span class="type">CLLocationManager</span>()

    @<span class="type">Published</span> <span class="kw">var</span> heading: <span class="type">Double</span> = <span class="num">0</span>  <span class="comment">// 0-360ë„</span>

    <span class="kw">override</span> <span class="kw">init</span>() {
        <span class="kw">super</span>.<span class="kw">init</span>()
        manager.delegate = <span class="kw">self</span>
        manager.headingFilter = <span class="num">5</span>  <span class="comment">// 5ë„ ì´ìƒ ë³€ê²½ ì‹œë§Œ ì—…ë°ì´íŠ¸</span>
    }

    <span class="kw">func</span> <span class="func">startUpdatingHeading</span>() {
        <span class="kw">if</span> <span class="type">CLLocationManager</span>.<span class="func">headingAvailable</span>() {
            manager.<span class="func">startUpdatingHeading</span>()
        }
    }

    <span class="kw">func</span> <span class="func">stopUpdatingHeading</span>() {
        manager.<span class="func">stopUpdatingHeading</span>()
    }

    <span class="comment">// Delegate - ë°©í–¥ ì—…ë°ì´íŠ¸</span>
    <span class="kw">func</span> <span class="func">locationManager</span>(_ manager: <span class="type">CLLocationManager</span>, didUpdateHeading newHeading: <span class="type">CLHeading</span>) {
        heading = newHeading.trueHeading  <span class="comment">// ì§„ë¶ ê¸°ì¤€</span>
        <span class="comment">// newHeading.magneticHeading - ìë¶ ê¸°ì¤€</span>

        <span class="func">print</span>(<span class="str">"ë°©í–¥: \(heading)Â° \(getDirection(heading))"</span>)
    }

    <span class="kw">func</span> <span class="func">getDirection</span>(_ heading: <span class="type">Double</span>) -> <span class="type">String</span> {
        <span class="kw">switch</span> heading {
        <span class="kw">case</span> <span class="num">0</span>..&lt;<span class="num">22.5</span>: <span class="kw">return</span> <span class="str">"ë¶"</span>
        <span class="kw">case</span> <span class="num">22.5</span>..&lt;<span class="num">67.5</span>: <span class="kw">return</span> <span class="str">"ë¶ë™"</span>
        <span class="kw">case</span> <span class="num">67.5</span>..&lt;<span class="num">112.5</span>: <span class="kw">return</span> <span class="str">"ë™"</span>
        <span class="kw">case</span> <span class="num">112.5</span>..&lt;<span class="num">157.5</span>: <span class="kw">return</span> <span class="str">"ë‚¨ë™"</span>
        <span class="kw">case</span> <span class="num">157.5</span>..&lt;<span class="num">202.5</span>: <span class="kw">return</span> <span class="str">"ë‚¨"</span>
        <span class="kw">case</span> <span class="num">202.5</span>..&lt;<span class="num">247.5</span>: <span class="kw">return</span> <span class="str">"ë‚¨ì„œ"</span>
        <span class="kw">case</span> <span class="num">247.5</span>..&lt;<span class="num">292.5</span>: <span class="kw">return</span> <span class="str">"ì„œ"</span>
        <span class="kw">case</span> <span class="num">292.5</span>..&lt;<span class="num">337.5</span>: <span class="kw">return</span> <span class="str">"ë¶ì„œ"</span>
        <span class="kw">default</span>: <span class="kw">return</span> <span class="str">"ë¶"</span>
        }
    }
}</pre></div>

<h2>ğŸ“ ê±°ë¦¬ ê³„ì‚°</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">Distance.swift</span></div>
<pre class="code-body"><span class="kw">import</span> <span class="type">CoreLocation</span>

<span class="comment">// ë‘ ì¢Œí‘œ ì‚¬ì´ ê±°ë¦¬ (ë¯¸í„°)</span>
<span class="kw">func</span> <span class="func">calculateDistance</span>(from: <span class="type">CLLocation</span>, to: <span class="type">CLLocation</span>) -> <span class="type">CLLocationDistance</span> {
    <span class="kw">return</span> from.<span class="func">distance</span>(from: to)
}

<span class="comment">// ì‚¬ìš© ì˜ˆì‹œ</span>
<span class="kw">let</span> seoul = <span class="type">CLLocation</span>(latitude: <span class="num">37.5665</span>, longitude: <span class="num">126.9780</span>)
<span class="kw">let</span> busan = <span class="type">CLLocation</span>(latitude: <span class="num">35.1796</span>, longitude: <span class="num">129.0756</span>)

<span class="kw">let</span> distance = <span class="func">calculateDistance</span>(from: seoul, to: busan)
<span class="func">print</span>(<span class="str">"ê±°ë¦¬: \(distance / 1000)km"</span>)  <span class="comment">// ì•½ 325km</span></pre></div>

<h2>âš™ï¸ ì •í™•ë„ ì„¤ì •</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">Accuracy.swift</span></div>
<pre class="code-body"><span class="kw">let</span> manager = <span class="type">CLLocationManager</span>()

<span class="comment">// ì •í™•ë„ ì„¤ì • (ë°°í„°ë¦¬ ì†Œëª¨ â†”ï¸ ì •í™•ë„ íŠ¸ë ˆì´ë“œì˜¤í”„)</span>
manager.desiredAccuracy = <span class="type">kCLLocationAccuracyBest</span>  <span class="comment">// ìµœê³  ì •í™•ë„</span>
manager.desiredAccuracy = <span class="type">kCLLocationAccuracyNearestTenMeters</span>  <span class="comment">// 10m</span>
manager.desiredAccuracy = <span class="type">kCLLocationAccuracyHundredMeters</span>  <span class="comment">// 100m</span>
manager.desiredAccuracy = <span class="type">kCLLocationAccuracyKilometer</span>  <span class="comment">// 1km</span>
manager.desiredAccuracy = <span class="type">kCLLocationAccuracyThreeKilometers</span>  <span class="comment">// 3km</span>

<span class="comment">// ìµœì†Œ ì´ë™ ê±°ë¦¬ ì„¤ì • (ì´ë³´ë‹¤ ì ê²Œ ì´ë™í•˜ë©´ ì—…ë°ì´íŠ¸ ì•ˆ í•¨)</span>
manager.distanceFilter = <span class="num">10</span>  <span class="comment">// 10ë¯¸í„°</span>

<span class="comment">// ë°°í„°ë¦¬ ì ˆì•½ ëª¨ë“œ (iOS 9+)</span>
manager.allowsBackgroundLocationUpdates = <span class="kw">false</span>  <span class="comment">// ë°±ê·¸ë¼ìš´ë“œ ì—…ë°ì´íŠ¸ ë„ê¸°</span></pre></div>

<h2>ğŸ”‹ ë°±ê·¸ë¼ìš´ë“œ ìœ„ì¹˜ ì¶”ì </h2>
<div class="code-block"><div class="code-header"><span class="code-filename">BackgroundLocation.swift</span></div>
<pre class="code-body"><span class="comment">// 1. Info.plistì— ì¶”ê°€</span>
<span class="comment">// NSLocationAlwaysAndWhenInUseUsageDescription</span>

<span class="comment">// 2. Capabilities ì„¤ì •
// Xcode > Signing & Capabilities > Background Modes
// âœ… Location updates ì²´í¬</span>

<span class="comment">// 3. ì½”ë“œ ì„¤ì •</span>
<span class="kw">let</span> manager = <span class="type">CLLocationManager</span>()
manager.allowsBackgroundLocationUpdates = <span class="kw">true</span>
manager.pausesLocationUpdatesAutomatically = <span class="kw">false</span>

<span class="comment">// Always ê¶Œí•œ ìš”ì²­</span>
manager.<span class="func">requestAlwaysAuthorization</span>()

<span class="comment">// âš ï¸ ì£¼ì˜: ë°±ê·¸ë¼ìš´ë“œ ìœ„ì¹˜ëŠ” ë°°í„°ë¦¬ë¥¼ ë§ì´ ì†Œëª¨í•©ë‹ˆë‹¤!</span>
<span class="comment">// ê¼­ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.</span></pre></div>

<h2>ğŸ“Š ìœ„ì¹˜ ì •í™•ë„ í™•ì¸</h2>
<div class="code-block"><div class="code-header"><span class="code-filename">AccuracyCheck.swift</span></div>
<pre class="code-body"><span class="kw">func</span> <span class="func">locationManager</span>(_ manager: <span class="type">CLLocationManager</span>, didUpdateLocations locations: [<span class="type">CLLocation</span>]) {
    <span class="kw">guard let</span> location = locations.last <span class="kw">else</span> { <span class="kw">return</span> }

    <span class="comment">// ìˆ˜í‰ ì •í™•ë„ (ì‘ì„ìˆ˜ë¡ ì •í™•)</span>
    <span class="func">print</span>(<span class="str">"ìˆ˜í‰ ì •í™•ë„: \(location.horizontalAccuracy)m"</span>)

    <span class="comment">// ìˆ˜ì§ ì •í™•ë„ (ê³ ë„)</span>
    <span class="func">print</span>(<span class="str">"ìˆ˜ì§ ì •í™•ë„: \(location.verticalAccuracy)m"</span>)

    <span class="comment">// ì •í™•ë„ê°€ ë‚®ìœ¼ë©´ ë¬´ì‹œ</span>
    <span class="kw">if</span> location.horizontalAccuracy > <span class="num">100</span> {
        <span class="func">print</span>(<span class="str">"ì •í™•ë„ ë„ˆë¬´ ë‚®ìŒ, ë¬´ì‹œ"</span>)
        <span class="kw">return</span>
    }

    <span class="comment">// ì˜¤ë˜ëœ ë°ì´í„° ë¬´ì‹œ (5ì´ˆ ì´ìƒ)</span>
    <span class="kw">if</span> <span class="type">Date</span>().<span class="func">timeIntervalSince</span>(location.timestamp) > <span class="num">5</span> {
        <span class="func">print</span>(<span class="str">"ì˜¤ë˜ëœ ìœ„ì¹˜ ë°ì´í„°, ë¬´ì‹œ"</span>)
        <span class="kw">return</span>
    }

    <span class="comment">// ìœ íš¨í•œ ìœ„ì¹˜ ë°ì´í„° ì‚¬ìš©</span>
    <span class="func">print</span>(<span class="str">"âœ… ì •í™•í•œ ìœ„ì¹˜: \(location.coordinate)"</span>)
}</pre></div>

<p style="background:#ff384210;border:1px solid #ff384240;border-radius:12px;padding:16px 20px;margin:24px 0"><strong style="color:#ff3842">âš ï¸ ë°°í„°ë¦¬ ì£¼ì˜!</strong><br>
- ìœ„ì¹˜ ì¶”ì ì€ ë°°í„°ë¦¬ë¥¼ ë§ì´ ì†Œëª¨í•©ë‹ˆë‹¤<br>
- ì ì ˆí•œ ì •í™•ë„ì™€ distanceFilter ì„¤ì •<br>
- ë¶ˆí•„ìš”í•  ë•ŒëŠ” stopUpdatingLocation() í˜¸ì¶œ<br>
- ë°±ê·¸ë¼ìš´ë“œ ìœ„ì¹˜ëŠ” ê¼­ í•„ìš”í•  ë•Œë§Œ</p>

<p style="background:#34c75910;border:1px solid #34c75940;border-radius:12px;padding:16px 20px;margin:24px 0"><strong style="color:#34c759">ğŸ’¡ HIG ì²´í¬ë¦¬ìŠ¤íŠ¸</strong><br>
âœ… ìœ„ì¹˜ ì‚¬ìš© ëª©ì  ëª…í™•íˆ ì„¤ëª…<br>
âœ… ì ì ˆí•œ ê¶Œí•œë§Œ ìš”ì²­ (WhenInUse vs Always)<br>
âœ… ê¶Œí•œ ê±°ë¶€ ì‹œ ì•± ì •ìƒ ì‘ë™<br>
âœ… ë°°í„°ë¦¬ ì†Œëª¨ ìµœì†Œí™”<br>
âœ… ì •í™•ë„ íŠ¸ë ˆì´ë“œì˜¤í”„ ê³ ë ¤</p>

<h2>ğŸ“¦ í•™ìŠµ ìë£Œ</h2>
<div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin:24px 0">
<a href="https://github.com/M1zz/HIGLab" style="background:#fff;border:1px solid #d2d2d7;border-radius:12px;padding:20px;text-decoration:none;color:inherit;text-align:center">
<div style="font-size:28px">ğŸ’»</div>
<div style="font-size:13px;font-weight:600;color:#0071e3;margin-top:8px">GitHub í”„ë¡œì íŠ¸</div>
</a>
<a href="https://developer.apple.com/design/human-interface-guidelines/accessing-private-data" style="background:#fff;border:1px solid #d2d2d7;border-radius:12px;padding:20px;text-decoration:none;color:inherit;text-align:center">
<div style="font-size:28px">ğŸ</div>
<div style="font-size:13px;font-weight:600;color:#0071e3;margin-top:8px">Apple HIG ì›ë¬¸</div>
</a>
<a href="https://developer.apple.com/documentation/corelocation" style="background:#fff;border:1px solid #d2d2d7;border-radius:12px;padding:20px;text-decoration:none;color:inherit;text-align:center">
<div style="font-size:28px">ğŸ“–</div>
<div style="font-size:13px;font-weight:600;color:#0071e3;margin-top:8px">Apple ê³µì‹ ë¬¸ì„œ</div>
</a>
</div>

<div style="margin-top:48px;padding:24px;background:linear-gradient(135deg,#f5f5f7,#e8e8ed);border-radius:16px;">
  <h2 style="font-size:20px;margin-bottom:12px;">ğŸ“ Apple ê³µì‹ ìë£Œ</h2>
  <div style="display:flex;flex-wrap:wrap;gap:12px;">
    <a href="https://developer.apple.com/documentation/corelocation" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:white;border-radius:10px;text-decoration:none;color:var(--accent);font-weight:600;font-size:14px;border:1px solid var(--border);transition:all .2s;">ğŸ“˜ ê³µì‹ ë¬¸ì„œ</a>
    <a href="https://developer.apple.com/documentation/corelocation/monitoring-location-changes-with-core-location" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:white;border-radius:10px;text-decoration:none;color:var(--accent);font-weight:600;font-size:14px;border:1px solid var(--border);transition:all .2s;">ğŸ’» ìƒ˜í”Œ ì½”ë“œ</a>
    <a href="https://developer.apple.com/videos/all-videos/?q=Core+Location" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:white;border-radius:10px;text-decoration:none;color:var(--accent);font-weight:600;font-size:14px;border:1px solid var(--border);transition:all .2s;">ğŸ¬ WWDC ì„¸ì…˜</a>
  </div>
</div>
</article>
</body>
</html>
