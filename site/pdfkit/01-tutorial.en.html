<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ğŸ“„ PDFKit â€” HIG Lab</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=JetBrains+Mono&display=swap" rel="stylesheet">
<style>
:root{--bg:#fafafa;--text:#1d1d1f;--text-2:#6e6e73;--accent:#0071e3;--code-bg:#1e1e2e;--border:#d2d2d7}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);line-height:1.8}
.top-bar{position:sticky;top:0;z-index:100;background:rgba(250,250,250,0.9);backdrop-filter:blur(20px);border-bottom:1px solid var(--border)}
.top-bar-inner{max-width:800px;margin:0 auto;padding:12px 24px;display:flex;justify-content:space-between}
.top-logo{font-size:16px;font-weight:700;text-decoration:none;color:var(--text)}.top-logo span{color:var(--accent)}
article{max-width:800px;margin:0 auto;padding:48px 24px 120px}
h1{font-size:clamp(28px,5vw,40px);font-weight:900;margin-bottom:16px;letter-spacing:-1px}
h2{font-size:24px;font-weight:800;margin:48px 0 16px}p{margin-bottom:16px}
.subtitle{font-size:18px;color:var(--text-2);margin-bottom:32px}
.code-block{background:var(--code-bg);border-radius:12px;margin:20px 0;overflow:hidden}
.code-header{padding:12px 16px;border-bottom:1px solid rgba(255,255,255,0.1);font-size:12px;color:#6e6e73;font-weight:600}
pre.code-body{margin:0;padding:16px;font-family:'JetBrains Mono',monospace;font-size:13px;color:#cdd6f4;white-space:pre;overflow-x:auto}
.kw{color:#cba6f7}.type{color:#89b4fa}.str{color:#a6e3a1}.comment{color:#6c7086}
.badge{display:inline-block;padding:4px 12px;border-radius:16px;font-size:13px;font-weight:600;margin:0 4px 8px 0}
.badge.ios{background:#0071e3;color:#fff}.badge.new{background:#34c759;color:#fff}
ul{margin:16px 0 16px 24px}li{margin:8px 0}
.info-box{background:#f5f5f7;border-left:4px solid var(--accent);padding:16px;margin:24px 0;border-radius:8px}
</style></head>
<body>
<div class="top-bar"><div class="top-bar-inner"><a href="../index.html" class="top-logo">HIG <span>Lab</span></a><a href="01-tutorial.html" class="lang-toggle" style="font-size:12px;font-weight:600;color:#0071e3;text-decoration:none;padding:4px 10px;border:1.5px solid #0071e3;border-radius:12px;">ğŸŒ KO</a></div></div>
<article>
<h1>ğŸ“„ PDFKit</h1>
<!-- higlab-metadata -->
<div style="display:flex;gap:16px;align-items:center;margin:12px 0 24px;padding:12px 16px;background:var(--tag-bg,#f5f5f7);border-radius:10px;font-size:13px;color:var(--text-2,#6e6e73);flex-wrap:wrap;">
  <span>â­ Difficulty: â­â­</span>
  <span>â±ï¸ Est. Time: 1-2h</span>
  <span>ğŸ“‚ Graphics & Media</span>
</div>
<p class="subtitle">Complete solution for PDF display, annotations, search, and creation</p>

<div><span class="badge ios">iOS 11+</span><span class="badge new">macOS Supported</span></div>

<h2>âœ¨ PDFKit is?</h2>
<p>PDFKit is a powerful framework for displaying, editing, and creating PDF documents. It provides everything needed for PDF work â€” page navigation, zoom, search, annotations, thumbnails and more. Available in both SwiftUI and UIKit, it's essential for building document viewer apps, ebook readers, and annotation tools.</p>

<div class="info-box">
<strong>ğŸ’¡ Key Features:</strong> PDF Display Â· Page Navigation Â· Search Â· Annotations Â· Thumbnails Â· PDF Generation Â· Text Selection Â· Zoom Â· Bookmarks
</div>

<h2>ğŸ¯ 1. Basic PDF Display</h2>
<p>PDFViewë¥¼ using PDF ë¬¸ì„œë¥¼ í‘œì‹œ.</p>

<div class="code-block">
<div class="code-header">PDFViewerView.swift â€” Basic PDF Viewer</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">PDFKit</span>

<span class="kw">struct</span> <span class="type">PDFViewerView</span>: <span class="type">View</span> {
    <span class="kw">let</span> pdfURL: <span class="type">URL</span>

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">PDFKitView</span>(url: pdfURL)
            .ignoresSafeArea()
    }
}

<span class="kw">struct</span> <span class="type">PDFKitView</span>: <span class="type">UIViewRepresentable</span> {
    <span class="kw">let</span> url: <span class="type">URL</span>

    <span class="kw">func</span> makeUIView(context: <span class="type">Context</span>) -> <span class="type">PDFView</span> {
        <span class="kw">let</span> pdfView = <span class="type">PDFView</span>()

        <span class="comment">// PDF ë¬¸ì„œ ë¡œë“œ</span>
        <span class="kw">if</span> <span class="kw">let</span> document = <span class="type">PDFDocument</span>(url: url) {
            pdfView.document = document
        }

        <span class="comment">// Default ì„¤ì •</span>
        pdfView.autoScales = <span class="kw">true</span>
        pdfView.displayMode = .singlePageContinuous
        pdfView.displayDirection = .vertical

        <span class="kw">return</span> pdfView
    }

    <span class="kw">func</span> updateUIView(<span class="kw">_</span> uiView: <span class="type">PDFView</span>, context: <span class="type">Context</span>) {}
}

<span class="comment">// Usage Example</span>
<span class="kw">struct</span> <span class="type">ContentView</span>: <span class="type">View</span> {
    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="kw">if</span> <span class="kw">let</span> url = <span class="type">Bundle</span>.main.url(forResource: <span class="str">"sample"</span>, withExtension: <span class="str">"pdf"</span>) {
            <span class="type">PDFViewerView</span>(pdfURL: url)
        }
    }
}</pre>
</div>

<h2>ğŸ“‘ 2. Page Navigation</h2>
<p>PDF í˜ì´ì§€ ê°„ ì´ë™ê³¼ ì¸ë„¤ì¼ í‘œì‹œ implementation.</p>

<div class="code-block">
<div class="code-header">PDFNavigationView.swift â€” Page Navigation</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">PDFKit</span>

<span class="kw">struct</span> <span class="type">PDFNavigationView</span>: <span class="type">View</span> {
    <span class="kw">let</span> url: <span class="type">URL</span>
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> pdfView = <span class="type">PDFView</span>()
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> currentPage: <span class="type">Int</span> = <span class="str">1</span>
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> totalPages: <span class="type">Int</span> = <span class="str">0</span>
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> showThumbnails = <span class="kw">false</span>

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">NavigationStack</span> {
            <span class="type">VStack</span>(spacing: <span class="str">0</span>) {
                <span class="type">PDFViewWrapper</span>(
                    pdfView: $pdfView,
                    url: url,
                    currentPage: $currentPage,
                    totalPages: $totalPages
                )

                <span class="comment">// í˜ì´ì§€ ì»¨íŠ¸ë¡¤</span>
                <span class="type">HStack</span> {
                    <span class="type">Button</span> {
                        goToPreviousPage()
                    } label: {
                        <span class="type">Image</span>(systemName: <span class="str">"chevron.left"</span>)
                    }
                    .disabled(currentPage <= <span class="str">1</span>)

                    <span class="type">Text</span>(<span class="str">"\(currentPage) / \(totalPages)"</span>)
                        .font(.subheadline)
                        .frame(maxWidth: .infinity)

                    <span class="type">Button</span> {
                        goToNextPage()
                    } label: {
                        <span class="type">Image</span>(systemName: <span class="str">"chevron.right"</span>)
                    }
                    .disabled(currentPage >= totalPages)
                }
                .padding()
                .background(<span class="type">Color</span>(uiColor: .systemBackground))
                .border(<span class="type">Color</span>.gray.opacity(<span class="str">0.2</span>), width: <span class="str">1</span>)
            }
            .navigationTitle(<span class="str">"PDF ë·°ì–´"</span>)
            .navigationBarTitleDisplayMode(.inline)
            .toolbar {
                <span class="type">ToolbarItem</span>(placement: .topBarTrailing) {
                    <span class="type">Button</span> {
                        showThumbnails.toggle()
                    } label: {
                        <span class="type">Image</span>(systemName: <span class="str">"square.grid.2x2"</span>)
                    }
                }
            }
            .sheet(isPresented: $showThumbnails) {
                <span class="type">PDFThumbnailView</span>(pdfView: pdfView)
            }
        }
    }

    <span class="kw">func</span> goToPreviousPage() {
        <span class="kw">guard</span> <span class="kw">let</span> currentPage = pdfView.currentPage,
              <span class="kw">let</span> previousPage = pdfView.document?.page(at: currentPage.pageRef!.pageNumber - <span class="str">2</span>)
        <span class="kw">else</span> { <span class="kw">return</span> }
        pdfView.go(to: previousPage)
    }

    <span class="kw">func</span> goToNextPage() {
        <span class="kw">guard</span> <span class="kw">let</span> currentPage = pdfView.currentPage,
              <span class="kw">let</span> nextPage = pdfView.document?.page(at: currentPage.pageRef!.pageNumber)
        <span class="kw">else</span> { <span class="kw">return</span> }
        pdfView.go(to: nextPage)
    }
}

<span class="kw">struct</span> <span class="type">PDFViewWrapper</span>: <span class="type">UIViewRepresentable</span> {
    <span class="kw">@Binding</span> <span class="kw">var</span> pdfView: <span class="type">PDFView</span>
    <span class="kw">let</span> url: <span class="type">URL</span>
    <span class="kw">@Binding</span> <span class="kw">var</span> currentPage: <span class="type">Int</span>
    <span class="kw">@Binding</span> <span class="kw">var</span> totalPages: <span class="type">Int</span>

    <span class="kw">func</span> makeUIView(context: <span class="type">Context</span>) -> <span class="type">PDFView</span> {
        <span class="kw">let</span> document = <span class="type">PDFDocument</span>(url: url)
        pdfView.document = document
        totalPages = document?.pageCount ?? <span class="str">0</span>

        <span class="comment">// í˜ì´ì§€ ë³€ê²½ ê°ì§€</span>
        <span class="type">NotificationCenter</span>.default.addObserver(
            forName: .PDFViewPageChanged,
            object: pdfView,
            queue: .main
        ) { <span class="kw">_</span> <span class="kw">in</span>
            updateCurrentPage()
        }

        <span class="kw">return</span> pdfView
    }

    <span class="kw">func</span> updateUIView(<span class="kw">_</span> uiView: <span class="type">PDFView</span>, context: <span class="type">Context</span>) {}

    <span class="kw">func</span> updateCurrentPage() {
        <span class="kw">if</span> <span class="kw">let</span> page = pdfView.currentPage,
           <span class="kw">let</span> index = pdfView.document?.index(for: page) {
            currentPage = index + <span class="str">1</span>
        }
    }
}</pre>
</div>

<h2>ğŸ” 3. PDF Search</h2>
<p>PDF ë¬¸ì„œ ë‚´ì—ì„œ í…ìŠ¤íŠ¸ë¥¼ ê²€ìƒ‰.</p>

<div class="code-block">
<div class="code-header">PDFSearchView.swift â€” í…ìŠ¤íŠ¸ ê²€ìƒ‰</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">PDFKit</span>

<span class="kw">@Observable</span>
<span class="kw">class</span> <span class="type">PDFSearchManager</span> {
    <span class="kw">var</span> searchResults: [<span class="type">PDFSelection</span>] = []
    <span class="kw">var</span> currentResultIndex: <span class="type">Int</span> = <span class="str">0</span>

    <span class="kw">func</span> search(query: <span class="type">String</span>, in document: <span class="type">PDFDocument</span>?) {
        searchResults.removeAll()

        <span class="kw">guard</span> <span class="kw">let</span> document = document, !query.isEmpty <span class="kw">else</span> { <span class="kw">return</span> }

        <span class="comment">// ì „ì²´ ë¬¸ì„œ ê²€ìƒ‰</span>
        document.beginFindString(query, withOptions: .caseInsensitive)

        <span class="comment">// Search ê²°ê³¼ ìˆ˜ì§‘</span>
        <span class="type">NotificationCenter</span>.default.addObserver(
            forName: .PDFDocumentDidFindMatch,
            object: document,
            queue: .main
        ) { notification <span class="kw">in</span>
            <span class="kw">if</span> <span class="kw">let</span> selection = notification.userInfo?[<span class="str">"PDFDocumentFoundSelection"</span>] <span class="kw">as</span>? <span class="type">PDFSelection</span> {
                <span class="kw">self</span>.searchResults.append(selection)
            }
        }
    }

    <span class="kw">func</span> goToResult(at index: <span class="type">Int</span>, in pdfView: <span class="type">PDFView</span>) {
        <span class="kw">guard</span> index >= <span class="str">0</span> && index < searchResults.count <span class="kw">else</span> { <span class="kw">return</span> }

        <span class="kw">let</span> selection = searchResults[index]
        pdfView.setCurrentSelection(selection, animate: <span class="kw">true</span>)
        pdfView.go(to: selection)
        currentResultIndex = index
    }
}

<span class="kw">struct</span> <span class="type">PDFSearchView</span>: <span class="type">View</span> {
    <span class="kw">let</span> url: <span class="type">URL</span>
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> pdfView = <span class="type">PDFView</span>()
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> searchManager = <span class="type">PDFSearchManager</span>()
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> searchQuery = <span class="str">""</span>
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> isSearching = <span class="kw">false</span>

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">VStack</span> {
            <span class="comment">// Search ë°”</span>
            <span class="type">HStack</span> {
                <span class="type">TextField</span>(<span class="str">"ê²€ìƒ‰..."</span>, text: $searchQuery)
                    .textFieldStyle(.roundedBorder)
                    .onSubmit {
                        performSearch()
                    }

                <span class="type">Button</span>(<span class="str">"Search"</span>) {
                    performSearch()
                }
            }
            .padding()

            <span class="comment">// Search ê²°ê³¼</span>
            <span class="kw">if</span> !searchManager.searchResults.isEmpty {
                <span class="type">HStack</span> {
                    <span class="type">Button</span> {
                        navigateToPrevious()
                    } label: {
                        <span class="type">Image</span>(systemName: <span class="str">"chevron.up"</span>)
                    }

                    <span class="type">Text</span>(<span class="str">"\(searchManager.currentResultIndex + 1) / \(searchManager.searchResults.count)"</span>)
                        .font(.caption)

                    <span class="type">Button</span> {
                        navigateToNext()
                    } label: {
                        <span class="type">Image</span>(systemName: <span class="str">"chevron.down"</span>)
                    }
                }
                .padding(.horizontal)
            }

            <span class="comment">// PDF ë·°</span>
            <span class="type">PDFKitView</span>(url: url)
                .onAppear {
                    <span class="kw">if</span> <span class="kw">let</span> document = <span class="type">PDFDocument</span>(url: url) {
                        pdfView.document = document
                    }
                }
        }
    }

    <span class="kw">func</span> performSearch() {
        searchManager.search(query: searchQuery, in: pdfView.document)
        <span class="kw">if</span> !searchManager.searchResults.isEmpty {
            searchManager.goToResult(at: <span class="str">0</span>, in: pdfView)
        }
    }

    <span class="kw">func</span> navigateToNext() {
        <span class="kw">let</span> nextIndex = (searchManager.currentResultIndex + <span class="str">1</span>) % searchManager.searchResults.count
        searchManager.goToResult(at: nextIndex, in: pdfView)
    }

    <span class="kw">func</span> navigateToPrevious() {
        <span class="kw">let</span> prevIndex = (searchManager.currentResultIndex - <span class="str">1</span> + searchManager.searchResults.count) % searchManager.searchResults.count
        searchManager.goToResult(at: prevIndex, in: pdfView)
    }
}</pre>
</div>

<h2>âœï¸ 4. PDF Annotations</h2>
<p>Add annotations like highlights, notes, and drawings to PDFs.</p>

<div class="code-block">
<div class="code-header">PDFAnnotationView.swift â€” Add Annotations</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">PDFKit</span>

<span class="kw">struct</span> <span class="type">PDFAnnotationView</span>: <span class="type">View</span> {
    <span class="kw">let</span> url: <span class="type">URL</span>
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> pdfView = <span class="type">PDFView</span>()
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> selectedTool: <span class="type">AnnotationTool</span> = .none

    <span class="kw">enum</span> <span class="type">AnnotationTool</span> {
        <span class="kw">case</span> none, highlight, note, freeText
    }

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">VStack</span> {
            <span class="comment">// ì£¼ì„ íˆ´ë°”</span>
            <span class="type">HStack</span> {
                <span class="type">Button</span> {
                    selectedTool = .highlight
                    addHighlight()
                } label: {
                    <span class="type">Label</span>(<span class="str">"í•˜ì´ë¼ì´íŠ¸"</span>, systemImage: <span class="str">"highlighter"</span>)
                }

                <span class="type">Button</span> {
                    selectedTool = .note
                    addNote()
                } label: {
                    <span class="type">Label</span>(<span class="str">"ë…¸íŠ¸"</span>, systemImage: <span class="str">"note.text"</span>)
                }

                <span class="type">Button</span> {
                    selectedTool = .freeText
                    addFreeText()
                } label: {
                    <span class="type">Label</span>(<span class="str">"í…ìŠ¤íŠ¸"</span>, systemImage: <span class="str">"text.cursor"</span>)
                }

                <span class="type">Spacer</span>()

                <span class="type">Button</span> {
                    savePDF()
                } label: {
                    <span class="type">Label</span>(<span class="str">"Save"</span>, systemImage: <span class="str">"square.and.arrow.down"</span>)
                }
            }
            .padding()
            .background(<span class="type">Color</span>(uiColor: .systemBackground))

            <span class="comment">// PDF ë·°</span>
            <span class="type">PDFAnnotatableView</span>(pdfView: $pdfView, url: url)
        }
    }

    <span class="kw">func</span> addHighlight() {
        <span class="kw">guard</span> <span class="kw">let</span> selection = pdfView.currentSelection,
              <span class="kw">let</span> page = selection.pages.first
        <span class="kw">else</span> { <span class="kw">return</span> }

        <span class="comment">// í•˜ì´ë¼ì´íŠ¸ ì£¼ì„ ìƒì„±</span>
        <span class="kw">let</span> highlight = <span class="type">PDFAnnotation</span>(
            bounds: selection.bounds(for: page),
            forType: .highlight,
            withProperties: <span class="kw">nil</span>
        )
        highlight.color = .<span class="type">UIColor</span>.yellow.withAlphaComponent(<span class="str">0.5</span>)

        page.addAnnotation(highlight)
    }

    <span class="kw">func</span> addNote() {
        <span class="kw">guard</span> <span class="kw">let</span> page = pdfView.currentPage <span class="kw">else</span> { <span class="kw">return</span> }

        <span class="comment">// ë…¸íŠ¸ ì£¼ì„ ìƒì„±</span>
        <span class="kw">let</span> bounds = <span class="type">CGRect</span>(x: <span class="str">100</span>, y: <span class="str">100</span>, width: <span class="str">20</span>, height: <span class="str">20</span>)
        <span class="kw">let</span> note = <span class="type">PDFAnnotation</span>(bounds: bounds, forType: .text, withProperties: <span class="kw">nil</span>)
        note.contents = <span class="str">"ìƒˆ ë…¸íŠ¸"</span>
        note.color = .<span class="type">UIColor</span>.yellow

        page.addAnnotation(note)
    }

    <span class="kw">func</span> addFreeText() {
        <span class="kw">guard</span> <span class="kw">let</span> page = pdfView.currentPage <span class="kw">else</span> { <span class="kw">return</span> }

        <span class="comment">// ììœ  í…ìŠ¤íŠ¸ ì£¼ì„</span>
        <span class="kw">let</span> bounds = <span class="type">CGRect</span>(x: <span class="str">100</span>, y: <span class="str">200</span>, width: <span class="str">200</span>, height: <span class="str">50</span>)
        <span class="kw">let</span> freeText = <span class="type">PDFAnnotation</span>(bounds: bounds, forType: .freeText, withProperties: <span class="kw">nil</span>)
        freeText.contents = <span class="str">"í…ìŠ¤íŠ¸ ì…ë ¥"</span>
        freeText.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="str">14</span>)
        freeText.fontColor = .<span class="type">UIColor</span>.black

        page.addAnnotation(freeText)
    }

    <span class="kw">func</span> savePDF() {
        <span class="kw">guard</span> <span class="kw">let</span> document = pdfView.document <span class="kw">else</span> { <span class="kw">return</span> }

        <span class="comment">// ë¬¸ì„œì— ì£¼ì„ ì €ì¥</span>
        <span class="kw">let</span> data = document.dataRepresentation()
        <span class="comment">// dataë¥¼ Save to fileí•˜ê±°ë‚˜ ê³µìœ </span>
    }
}

<span class="kw">struct</span> <span class="type">PDFAnnotatableView</span>: <span class="type">UIViewRepresentable</span> {
    <span class="kw">@Binding</span> <span class="kw">var</span> pdfView: <span class="type">PDFView</span>
    <span class="kw">let</span> url: <span class="type">URL</span>

    <span class="kw">func</span> makeUIView(context: <span class="type">Context</span>) -> <span class="type">PDFView</span> {
        pdfView.document = <span class="type">PDFDocument</span>(url: url)
        pdfView.autoScales = <span class="kw">true</span>

        <span class="comment">// ì£¼ì„ í¸ì§‘ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •</span>
        pdfView.displayMode = .singlePage

        <span class="kw">return</span> pdfView
    }

    <span class="kw">func</span> updateUIView(<span class="kw">_</span> uiView: <span class="type">PDFView</span>, context: <span class="type">Context</span>) {}
}</pre>
</div>

<h2>ğŸ–¼ï¸ 5. PDF Thumbnails</h2>
<p>Display page thumbnails using PDFThumbnailView.</p>

<div class="code-block">
<div class="code-header">PDFThumbnailView.swift â€” Thumbnail View</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">PDFKit</span>

<span class="kw">struct</span> <span class="type">PDFThumbnailView</span>: <span class="type">View</span> {
    <span class="kw">let</span> pdfView: <span class="type">PDFView</span>
    <span class="kw">@Environment</span>(\.<span class="kw">dismiss</span>) <span class="kw">var</span> dismiss

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">NavigationStack</span> {
            <span class="type">ThumbnailViewWrapper</span>(pdfView: pdfView)
                .navigationTitle(<span class="str">"í˜ì´ì§€"</span>)
                .navigationBarTitleDisplayMode(.inline)
                .toolbar {
                    <span class="type">ToolbarItem</span>(placement: .cancellationAction) {
                        <span class="type">Button</span>(<span class="str">"Close"</span>) {
                            dismiss()
                        }
                    }
                }
        }
    }
}

<span class="kw">struct</span> <span class="type">ThumbnailViewWrapper</span>: <span class="type">UIViewRepresentable</span> {
    <span class="kw">let</span> pdfView: <span class="type">PDFView</span>

    <span class="kw">func</span> makeUIView(context: <span class="type">Context</span>) -> <span class="type">PDFThumbnailView</span> {
        <span class="kw">let</span> thumbnailView = <span class="type">PDFThumbnailView</span>()
        thumbnailView.pdfView = pdfView
        thumbnailView.layoutMode = .vertical
        thumbnailView.thumbnailSize = <span class="type">CGSize</span>(width: <span class="str">100</span>, height: <span class="str">150</span>)
        thumbnailView.backgroundColor = .<span class="type">UIColor</span>.systemBackground

        <span class="kw">return</span> thumbnailView
    }

    <span class="kw">func</span> updateUIView(<span class="kw">_</span> uiView: <span class="type">PDFThumbnailView</span>, context: <span class="type">Context</span>) {}
}</pre>
</div>

<h2>ğŸ“ 6. PDF Creation</h2>
<p>ì½”ë“œë¡œ new PDF ë¬¸ì„œë¥¼ ìƒì„±.</p>

<div class="code-block">
<div class="code-header">PDFGenerator.swift â€” PDF ìƒì„±</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">PDFKit</span>
<span class="kw">import</span> <span class="type">UIKit</span>

<span class="kw">class</span> <span class="type">PDFGenerator</span> {
    <span class="comment">// í…ìŠ¤íŠ¸ë¡œ PDF ìƒì„±</span>
    <span class="kw">func</span> generatePDF(from text: <span class="type">String</span>) -> <span class="type">PDFDocument</span>? {
        <span class="kw">let</span> pdfMetaData = [
            kCGPDFContextCreator: <span class="str">"MyApp"</span>,
            kCGPDFContextAuthor: <span class="str">"Author Name"</span>,
            kCGPDFContextTitle: <span class="str">"Generated PDF"</span>
        ]

        <span class="kw">let</span> format = <span class="type">UIGraphicsPDFRendererFormat</span>()
        format.documentInfo = pdfMetaData <span class="kw">as</span> [<span class="type">String</span>: <span class="type">Any</span>]

        <span class="kw">let</span> pageRect = <span class="type">CGRect</span>(x: <span class="str">0</span>, y: <span class="str">0</span>, width: <span class="str">612</span>, height: <span class="str">792</span>) <span class="comment">// US Letter</span>
        <span class="kw">let</span> renderer = <span class="type">UIGraphicsPDFRenderer</span>(bounds: pageRect, format: format)

        <span class="kw">let</span> data = renderer.pdfData { context <span class="kw">in</span>
            context.beginPage()

            <span class="comment">// í…ìŠ¤íŠ¸ ê·¸ë¦¬ê¸°</span>
            <span class="kw">let</span> paragraphStyle = <span class="type">NSMutableParagraphStyle</span>()
            paragraphStyle.alignment = .natural
            paragraphStyle.lineBreakMode = .byWordWrapping

            <span class="kw">let</span> attributes: [<span class="type">NSAttributedString</span>.<span class="type">Key</span>: <span class="type">Any</span>] = [
                .font: <span class="type">UIFont</span>.systemFont(ofSize: <span class="str">14</span>),
                .paragraphStyle: paragraphStyle
            ]

            <span class="kw">let</span> textRect = <span class="type">CGRect</span>(x: <span class="str">40</span>, y: <span class="str">40</span>, width: pageRect.width - <span class="str">80</span>, height: pageRect.height - <span class="str">80</span>)
            text.draw(in: textRect, withAttributes: attributes)
        }

        <span class="kw">return</span> <span class="type">PDFDocument</span>(data: data)
    }

    <span class="comment">// Imageë¡œ PDF ìƒì„±</span>
    <span class="kw">func</span> generatePDF(from images: [<span class="type">UIImage</span>]) -> <span class="type">PDFDocument</span>? {
        <span class="kw">let</span> pdfDocument = <span class="type">PDFDocument</span>()

        <span class="kw">for</span> (index, image) <span class="kw">in</span> images.enumerated() {
            <span class="kw">let</span> pageRect = <span class="type">CGRect</span>(origin: .zero, size: image.size)

            <span class="kw">let</span> renderer = <span class="type">UIGraphicsPDFRenderer</span>(bounds: pageRect)
            <span class="kw">let</span> data = renderer.pdfData { context <span class="kw">in</span>
                context.beginPage()
                image.draw(in: pageRect)
            }

            <span class="kw">if</span> <span class="kw">let</span> page = <span class="type">PDFPage</span>(image: image) {
                pdfDocument.insert(page, at: index)
            }
        }

        <span class="kw">return</span> pdfDocument
    }

    <span class="comment">// SwiftUI Viewë¥¼ PDFë¡œ ë³€í™˜</span>
    <span class="kw">func</span> generatePDF(from view: <span class="type">UIView</span>) -> <span class="type">PDFDocument</span>? {
        <span class="kw">let</span> renderer = <span class="type">UIGraphicsPDFRenderer</span>(bounds: view.bounds)

        <span class="kw">let</span> data = renderer.pdfData { context <span class="kw">in</span>
            context.beginPage()
            view.layer.render(in: context.cgContext)
        }

        <span class="kw">return</span> <span class="type">PDFDocument</span>(data: data)
    }

    <span class="comment">// PDF ì €ì¥</span>
    <span class="kw">func</span> savePDF(<span class="kw">_</span> document: <span class="type">PDFDocument</span>, to url: <span class="type">URL</span>) -> <span class="type">Bool</span> {
        <span class="kw">return</span> document.write(to: url)
    }
}</pre>
</div>

<h2>ğŸ“± Complete Example</h2>

<div class="code-block">
<div class="code-header">PDFReaderApp.swift â€” PDF Reader App</div>
<pre class="code-body"><span class="kw">import</span> <span class="type">SwiftUI</span>
<span class="kw">import</span> <span class="type">PDFKit</span>

<span class="kw">struct</span> <span class="type">PDFReaderApp</span>: <span class="type">View</span> {
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> pdfView = <span class="type">PDFView</span>()
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> showSearch = <span class="kw">false</span>
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> showThumbnails = <span class="kw">false</span>
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> displayMode: <span class="type">PDFDisplayMode</span> = .singlePageContinuous
    <span class="kw">let</span> url: <span class="type">URL</span>

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">NavigationStack</span> {
            <span class="type">ZStack</span> {
                <span class="type">PDFReaderView</span>(
                    pdfView: $pdfView,
                    url: url,
                    displayMode: displayMode
                )

                <span class="kw">if</span> showSearch {
                    <span class="type">SearchOverlay</span>(pdfView: pdfView, isPresented: $showSearch)
                }
            }
            .navigationTitle(<span class="str">"PDF"</span>)
            .navigationBarTitleDisplayMode(.inline)
            .toolbar {
                <span class="type">ToolbarItemGroup</span>(placement: .topBarTrailing) {
                    <span class="type">Button</span> {
                        showSearch.toggle()
                    } label: {
                        <span class="type">Image</span>(systemName: <span class="str">"magnifyingglass"</span>)
                    }

                    <span class="type">Button</span> {
                        showThumbnails = <span class="kw">true</span>
                    } label: {
                        <span class="type">Image</span>(systemName: <span class="str">"square.grid.2x2"</span>)
                    }

                    <span class="type">Menu</span> {
                        <span class="type">Button</span>(<span class="str">"ë‹¨ì¼ í˜ì´ì§€"</span>) {
                            displayMode = .singlePage
                            updateDisplayMode()
                        }
                        <span class="type">Button</span>(<span class="str">"ì—°ì† ìŠ¤í¬ë¡¤"</span>) {
                            displayMode = .singlePageContinuous
                            updateDisplayMode()
                        }
                        <span class="type">Button</span>(<span class="str">"ë‘ í˜ì´ì§€"</span>) {
                            displayMode = .twoUp
                            updateDisplayMode()
                        }
                    } label: {
                        <span class="type">Image</span>(systemName: <span class="str">"doc.text.viewfinder"</span>)
                    }
                }
            }
            .sheet(isPresented: $showThumbnails) {
                <span class="type">PDFThumbnailView</span>(pdfView: pdfView)
            }
        }
    }

    <span class="kw">func</span> updateDisplayMode() {
        pdfView.displayMode = displayMode
    }
}

<span class="kw">struct</span> <span class="type">PDFReaderView</span>: <span class="type">UIViewRepresentable</span> {
    <span class="kw">@Binding</span> <span class="kw">var</span> pdfView: <span class="type">PDFView</span>
    <span class="kw">let</span> url: <span class="type">URL</span>
    <span class="kw">let</span> displayMode: <span class="type">PDFDisplayMode</span>

    <span class="kw">func</span> makeUIView(context: <span class="type">Context</span>) -> <span class="type">PDFView</span> {
        pdfView.document = <span class="type">PDFDocument</span>(url: url)
        pdfView.autoScales = <span class="kw">true</span>
        pdfView.displayMode = displayMode
        pdfView.displayDirection = .vertical

        <span class="kw">return</span> pdfView
    }

    <span class="kw">func</span> updateUIView(<span class="kw">_</span> uiView: <span class="type">PDFView</span>, context: <span class="type">Context</span>) {
        uiView.displayMode = displayMode
    }
}

<span class="kw">struct</span> <span class="type">SearchOverlay</span>: <span class="type">View</span> {
    <span class="kw">let</span> pdfView: <span class="type">PDFView</span>
    <span class="kw">@Binding</span> <span class="kw">var</span> isPresented: <span class="type">Bool</span>
    <span class="kw">@State</span> <span class="kw">private</span> <span class="kw">var</span> searchText = <span class="str">""</span>

    <span class="kw">var</span> body: <span class="kw">some</span> <span class="type">View</span> {
        <span class="type">VStack</span> {
            <span class="type">HStack</span> {
                <span class="type">TextField</span>(<span class="str">"Search"</span>, text: $searchText)
                    .textFieldStyle(.roundedBorder)
                    .onSubmit {
                        pdfView.document?.beginFindString(searchText, withOptions: .caseInsensitive)
                    }

                <span class="type">Button</span>(<span class="str">"Close"</span>) {
                    isPresented = <span class="kw">false</span>
                    pdfView.document?.cancelFindString()
                }
            }
            .padding()
            .background(<span class="type">Color</span>(uiColor: .systemBackground))
            .shadow(radius: <span class="str">5</span>)

            <span class="type">Spacer</span>()
        }
    }
}</pre>
</div>

<h2>ğŸ’¡ HIG Guidelines</h2>

<ul>
<li><strong>ê°€ë…ì„±:</strong> Auto-scaling (autoScales) for comfortable reading size</li>
<li><strong>Navigation:</strong> ëª…í™•í•œ í˜ì´ì§€ í‘œì‹œ ë° ì´ë™ ì»¨íŠ¸ë¡¤</li>
<li><strong>ê²€ìƒ‰:</strong> ë¹ ë¥¸ í…ìŠ¤íŠ¸ ê²€ìƒ‰ê³¼ ê²°ê³¼ í•˜ì´ë¼ì´íŒ…</li>
<li><strong>ì£¼ì„:</strong> ì§ê´€ì ì¸ ì£¼ì„ ë„êµ¬ ì œê³µ</li>
<li><strong>ì„±ëŠ¥:</strong> ëŒ€ìš©ëŸ‰ PDFëŠ” í˜ì´ì§€ë³„ ë¡œë”© ê³ ë ¤</li>
<li><strong>accessibility:</strong> VoiceOver support and text selection enabled</li>
</ul>

<h2>ğŸ¯ Practical Usage</h2>

<ul>
<li><strong>ë¬¸ì„œ ë·°ì–´:</strong> ê³„ì•½ì„œ, ë³´ê³ ì„œ ì—´ëŒ ì•±</li>
<li><strong>ì „ìì±… ë¦¬ë”:</strong> PDF ì „ìì±… ë¦¬ë”</li>
<li><strong>ì£¼ì„ ë„êµ¬:</strong> í•™ìŠµìš© PDF ë§ˆí‚¹ ì•±</li>
<li><strong>ë¦¬port ìƒì„±:</strong> ë°ì´í„°ë¥¼ PDF ë¦¬portë¡œ ë³€í™˜</li>
<li><strong>ë¬¸ì„œ ì„œëª…:</strong> ì „ì ì„œëª… ì¶”ê°€ ì•±</li>
</ul>

<h2>ğŸ“š Learn More</h2>

<ul>
<li><a href="https://developer.apple.com/documentation/pdfkit">PDFKit Official Documentation</a></li>
<li><a href="https://developer.apple.com/documentation/pdfkit/pdfview">PDFView Reference</a></li>
<li><a href="https://developer.apple.com/documentation/pdfkit/pdfdocument">PDFDocument Reference</a></li>
</ul>

<div class="info-box">
<strong>âš¡ï¸ Performance Tips:</strong> ëŒ€ìš©ëŸ‰ PDFëŠ” <code>PDFView</code>ì˜ <code>pageBreakMargins</code>ì™€ <code>minScaleFactor/maxScaleFactor</code> to optimize memory usage. Generate thumbnails on a background thread for smooth UI.
</div>

<div style="margin-top:48px;padding:24px;background:linear-gradient(135deg,#f5f5f7,#e8e8ed);border-radius:16px;">
  <h2 style="font-size:20px;margin-bottom:12px;">ğŸ“ Apple Official Resources</h2>
  <div style="display:flex;flex-wrap:wrap;gap:12px;">
    <a href="https://developer.apple.com/documentation/pdfkit" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:white;border-radius:10px;text-decoration:none;color:var(--accent);font-weight:600;font-size:14px;border:1px solid var(--border);transition:all .2s;">ğŸ“˜ Documentation</a>
    <a href="https://developer.apple.com/videos/all-videos/?q=PDFKit" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:white;border-radius:10px;text-decoration:none;color:var(--accent);font-weight:600;font-size:14px;border:1px solid var(--border);transition:all .2s;">ğŸ¬ WWDC Sessions</a>
  </div>
</div>
</article>
</body></html>